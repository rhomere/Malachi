<div class="page-header visible-xs">
    <h3>Property</h3>
</div>

<div id="listProperty" class="row">
    <div class="col-md-12">
        <div class="row space-bottom">
            <div class="col-md-12">
                <button id="add-building" class="btn yellow-casablanca" ng-show="parent.canModify()" ng-click="add_structure()"><span class="glyphicon glyphicon-plus right-buffer"></span>Add Structure</button>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-6">
                <div class="panel panel-default" ng-repeat="location in Locations | orderBy: 'LocationNumber'" ng-show="location.Properties.length > 0">
                    <div class="panel-heading"><strong>Location  {{location.LocationNumber}}</strong> <span>{{location.Address.ShortAddress}}</span></div>
                    <div class="panel-body">
                        <div ng-repeat="property in location.Properties | orderBy: 'BuildingNumber'">
                            <div class="bg-blue-soft">
                                <button class="btn btn-link" style="color:#fff;" ng-click="modify(location, property)">Structure {{property.BuildingNumber}}: {{property.PropertyType | limitTo: 100}}</button>
                                <button class="btn btn-link pull-right" style="color:#fff;" ng-show="parent.canModify()" ng-click="delete(location, property)"><span class="glyphicon glyphicon-trash"></span> Delete</button>
                                <button class="btn btn-link pull-right" style="color:#fff;" ng-show="parent.canModify()" ng-click="modify(location, property)"><span class="glyphicon glyphicon-edit"></span> Edit</button>
                                <button class="btn btn-link pull-right" style="color:#fff;" ng-show="parent.canModify()" ng-click="copy_Structure(location, property)"><span class="glyphicon glyphicon-copy"></span> Copy</button>
                                <button class="btn btn-link pull-right" style="color:#fff;" ng-show="!parent.canModify()" ng-click="modify(location, property)"><span class="glyphicon glyphicon-eye-open"></span> View</button>
                            </div>
                            <table class="table table-hover">
                                <thead>
                                    <tr>
                                        <th class="col-md-4">Occupancy</th>
                                        <th class="col-md-4">Construction</th>
                                        <th class="col-md-2">Year Built</th>
                                        <th class="col-md-2">TIV </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>{{property.Occupancy}}</td>
                                        <td>{{property.Construction}}</td>
                                        <td>{{property.YearBuilt}}</td>
                                        <td>{{property.TIV | currency : $ : 0}} </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-sm-6">

                <div class="panel panel-default">
                    <div class="panel-heading">
                        <strong>Mortgagees and Loss Payees</strong><button class="btn btn-sm yellow-casablanca pull-right" style="margin-top: -5px" ng-show="parent.canModify()" ng-click="addAdditionalInsured()"><span class="glyphicon glyphicon-plus right-buffer"></span>Add Mortgagee/Loss Payees</button>
                    </div>
                    <div style="clear: both"></div>
                    <table class="table table-hover" ng-show="Mortgagees.length > 0 || LossPayees.length > 0">
                        <thead>
                            <tr>
                                <th>Loc/Bldg</th>
                                <th>Type</th>
                                <th>Name</th>
                                <th></th>
                                <th style="width: 100px;"></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="mortgagee in Mortgagees | orderBy: ['LocationNumber','BuildingNumber']">
                                <td>{{mortgagee.LocationNumber + ' - ' + mortgagee.BuildingNumber}}</td>
                                <td>Mortgagee</td>
                                <td><span tooltip="{{mortgagee.Name}}">{{mortgagee.Name | limitTo:'30'}}</span></td>
                                <td><span tooltip="{{mortgagee.LoanNumber}}">{{mortgagee.LoanNumber | limitTo: '24'}}</span></td>
                                <td>
                                    <div style="width: 100px;">
                                        <button class="btn btn-link" ng-show="parent.canModify()" tooltip-placement="top" tooltip="Edit" ng-click="updateMortgagee(mortgagee)"><span class="glyphicon glyphicon-edit"></span></button>
                                        <button class="btn btn-link" ng-show="parent.canModify()" tooltip-placement="top" tooltip="Delete" ng-click="deleteMortgagee(mortgagee)"><span class="glyphicon glyphicon-trash"></span></button>
                                    </div>
                                </td>
                            </tr>
                            <tr ng-repeat="lossPayee in LossPayees | orderBy: ['LocationNumber','BuildingNumber']">
                                <td>{{lossPayee.LocationNumber + ' - ' + lossPayee.BuildingNumber}}</td>
                                <td>Loss Payee</td>
                                <td><span tooltip="{{lossPayee.Name + ' '}}">{{lossPayee.Name | limitTo: '16'}}</span></td>
                                <td>{{lossPayee.LossPayeeType == 0 ? "Loss Payable" : "Lender's Loss Payable" | limitTo: '100'}}</td>
                                <td>
                                    <div style="width: 100px;">
                                        <button class="btn btn-link" ng-show="parent.canModify()" tooltip-placement="top" tooltip="Edit" ng-click="updateLossPayee(lossPayee)"><span class="glyphicon glyphicon-edit"></span></button>
                                        <button class="btn btn-link" ng-show="parent.canModify()" tooltip-placement="top" tooltip="Delete" ng-click="deleteLossPayee(lossPayee)"><span class="glyphicon glyphicon-trash"></span></button>
                                    </div>

                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="panel panel-default">
                    <div class="panel-heading">
                        <strong>Property Deductibles</strong> 
                        <button class="btn btn-sm yellow-casablanca pull-right" style="margin-top: -5px; padding-right: 20px; padding-left: 19px; width: 206px;" ng-show="parent.canModify()" ng-disabled="!canAddDeductibles()" ng-click="addPropertyDeductible()"><span class="glyphicon glyphicon-plus right-buffer"></span>Add Other Deductible</button>
                    </div>
                    <div style="clear: both"></div>
                    <div class="form-group" ng-hide="FormattedProperties.length == 0">
                        <div class="col-sm-5" style="padding: 4px 8px 4px 8px; margin-top: 8px">
                            <label for="" class="control-label"><strong>Location/Building:</strong> {{SelectedProperty.value.LocationNumber}} - {{SelectedProperty.value.BuildingNumber}}</label>
                        </div>
                        <div class="col-sm-7 pull-right" style="margin-top: 8px">
                            <ui-select ng-model="SelectedProperty.value"
                                       append-to-body="false"
                                       theme="bootstrap"
                                       ng-disabled="!parent.canModify() || FormattedProperties.length == 0"
                                       reset-search-input="false">
                                <ui-select-match placeholder="Select a Property">{{$select.selected.Description}}</ui-select-match>
                                <ui-select-choices repeat="property in FormattedProperties | orderBy: ['LocationNumber', 'BuildingNumber'] | filter: $select.search">
                                    <div ng-bind-html="property.Description | highlight: $select.search"></div>
                                </ui-select-choices>
                            </ui-select>
                        </div>
                    </div>
                    <table class="table table-hover" ng-show="PropertyDeductibles.length > 0">
                        <thead>
                            <tr>
                                <th class="col-sm-6">Type</th>
                                <th class="col-sm-3">Amount</th>
                                <th class="col-sm-3"></th>
                            </tr>
                        </thead>
                        <tbody>
                        
                        <tr ng-repeat="deductible in PropertyDeductibles | orderBy: ['LocationNumber','BuildingNumber', 'Name'] | filter: { PropertyId: SelectedProperty.value.Id }"
                            ng-hide="deductible.Amount == '' || isDeductibleDisabled(deductible)">
                            <td>{{deductible.Name}}</td>
                            <td>{{deductible.Amount}}</td>
                            <td>
                                <div>
                                    <button class="btn btn-link" ng-show="parent.canModify()" tooltip-placement="top" tooltip="Edit" ng-disabled="isDeductibleDisabled(deductible)" ng-click="updatePropertyDeductible(deductible)"><span class="glyphicon glyphicon-edit"></span></button>
                                    <button class="btn btn-link" ng-show="parent.canModify()" tooltip-placement="top" tooltip="Delete" ng-disabled="deductible.Name == 'AOP Deductible' || deductible.Name == 'Wind Deductible'" ng-click="deletePropertyDeductible(deductible)"><span class="glyphicon glyphicon-trash"></span></button>
                                </div>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>

                <div class="panel panel-default">
                    <div class="panel-heading">
                        <strong>Additional Coverages</strong>
                    </div>
                    <div style="clear: both"></div>
                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <th>Coverage</th>
                                <th style="width: 100px;"></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Equipment Breakdown - <strong>{{(parent.Coverages | filter:'Equipment Breakdown' ).length > 0 ? 'Included' : 'Excluded'}}</strong></td>
                                <td>
                                    <button class="btn btn-sm yellow-casablanca pull-right" ng-click="addEQB()" ng-disabled="!parent.canModify()" style="width: 100px; float: right; margin-right: 20px" ng-if="(parent.Coverages | filter:'Equipment Breakdown' ).length == 0"><span class="glyphicon glyphicon-plus right-buffer"></span>Add</button>

                                    <div style="width: 100px;" ng-if="(parent.Coverages | filter:'Equipment Breakdow' ).length > 0">
                                        <button class="btn btn-link" tooltip-placement="top" tooltip="Delete" ng-disabled="!parent.canModify()" ng-click="removeEQB()"><span class="glyphicon glyphicon-trash"></span></button>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="panel panel-default">
                    <div class="panel-heading">
                        <strong>Protective Safeguards <span style="color: red">*</span></strong> <button class="btn btn-sm yellow-casablanca pull-right" style="margin-top: -5px; padding-right: 20px; padding-left: 19px;" ng-show="parent.canModify()" ng-click="addProtectiveSafeGuard()"><span class="glyphicon glyphicon-plus right-buffer"></span>Add Protective Safeguard</button>
                    </div>
                    <div style="clear: both"></div>
                    <table class="table table-hover" ng-show="ProtectiveSafeGuards.length > 0">
                        <thead>
                            <tr>
                                <th>Loc/Bldg</th>
                                <th>Protective Safeguards</th>
                                <th style="width: 100px;"></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="psg in ProtectiveSafeGuards | orderBy: ['LocationNumber','BuildingNumber']">
                                <td>{{psg.LocationNumber + ' - ' + psg.BuildingNumber}}</td>
                                <td>{{psg.ProtectiveSafeGuard}}</td>
                                <td>
                                    <div style="width: 100px">
                                        <button class="btn btn-link" ng-show="parent.canModify()" tooltip-placement="top" tooltip="Edit" ng-click="updateProtectiveSafeGuard(psg)"><span class="glyphicon glyphicon-edit"></span></button>
                                        <button class="btn btn-link" ng-show="parent.canModify()" tooltip-placement="top" tooltip="Delete" ng-click="deleteProtectiveSafeGuard(psg)"><span class="glyphicon glyphicon-trash"></span></button>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="modifyProperty" ng-controller="test_Commercial_Lines_modifyPropertyCtrl" style="display: none" class="row">
    <div class="col-md-12">
        <div class="modal-header">
            <h4 class="modal-title" id="Location-number" style="display: inline-block">Location {{ Location.LocationNumber }} - Structure {{ Property.BuildingNumber }} : {{Location.Address.ShortAddress}}</h4>
            <div class="pull-right" style="display: inline-block; margin-top: -5px;">
                <ng-structure-insights location="Location"></ng-structure-insights>
            </div> 
        </div>
        <div class="modal-body">
        <div class="row">
                <form id="form-Property" class="form-horizontal" role="form">

                    <div class="scrollable">
                        <div id="risk" data-page="0">
                            <div class="col-md-7 property-form">
                                <div class="form-group">
                                    <label for="" class="col-sm-3 control-label hoverGuideline" style="cursor:pointer;" ng-click="showGuidelines('Description')">Description</label>
                                    <div class="col-sm-9">
                                        <input type="text" class="form-control input-sm" ng-disabled="!parent.canModify()" ng-model="Property.Description">
                                    </div>
                                </div>

                                <div class="form-group" ng-show="Property.Occupancy == 'Builder\'s Risk'">
                                    <label for="" class="col-sm-3 control-label hoverGuideline" style="cursor: pointer;" ng-click="showGuidelines('BuildersRiskType')">Builder's Risk Type</label>
                                    <div class="col-sm-9">
                                        <ui-select ng-model="Property.BuildersRiskType"
                                                   append-to-body="true"
                                                   theme="bootstrap"
                                                   on-select="requireRerate()"
                                                   ng-disabled="!parent.canModify()"
                                                   reset-search-input="false"
                                                   class="ui-select-required">
                                            <ui-select-match placeholder="Select a Builder's Risk Type">{{$select.selected}}</ui-select-match>
                                            <ui-select-choices repeat="value in GetCharacteristicValues('Builder\'s Risk Type') | filter: $select.search">
                                                <div ng-bind-html="value | highlight: $select.search">
                                                </div>
                                            </ui-select-choices>
                                        </ui-select>
                                    </div>
                                </div>

                                <div class="form-group" ng-repeat="limit in Property.Limits | orderBy: 'Index'" ng-if="limit.LimitName == 'Building'" ng-hide="canShowLimit(limit)">
                                    <label for="" class="col-sm-3 control-label hoverGuideline" style="cursor:pointer;" ng-click="showGuidelines(limit.LimitName.replace('/', '').replace(' & ', ''))">{{limit.LimitName}}</label>
                                    <div class="col-sm-9">
                                        <div class="input-group">
                                            <span class="input-group-addon">$</span>
                                            <input type="text" class="form-control input-sm currency" style="height:30px" ng-model="limit.Amount" ng-blur="updateOrdinanceAndLawCoverageA(); requireRerate()" ng-disabled="!parent.canModify()" data-mask="#">
                                            <span class="input-group-addon" style="padding: 0">
                                                <select class="form-control form-control input-sm" style="width: 80px; height: 28px" tabindex="-1" ng-model="limit.ValuationBasis" ng-change="valuationBasisChanged(limit); requireRerate()" ng-disabled="!parent.canModify()">
                                                    <option value="RCV">RCV</option>
                                                    <option value="ACV">ACV</option>
                                                    <option value="Agreed Value">Agreed Value</option>
                                                </select>
                                            </span>
                                            <span class="input-group-addon" style="padding: 0">
                                                <select ng-model="limit.CauseOfLoss" ng-options="value.name as value.id for value in GetCharacteristicValues(CharacteristicsState.State)" class="form-control form-control input-sm" ng-change="requireRerate()" ng-disabled="!parent.canModify()" style="width: 145px; height: 28px" tabindex="-1"></select>
                                            </span>
                                            <span class="input-group-addon" style="padding: 0">
                                                <select ng-model="limit.CoInsurance" class="form-control form-control input-sm" ng-change="requireRerate()" ng-disabled="!parent.canModify() || limit.ValuationBasis == 'Agreed Value'" style="width: 80px; height: 28px" tabindex="-1">
                                                    <option value="N/A" ng-if="limit.ValuationBasis == 'Agreed Value'">N/A</option>
                                                    <option value="80%">80%</option>
                                                    <option value="90%">90%</option>
                                                    <option value="100%">100%</option>
                                                </select>
                                            </span>
                                        </div>
                                    </div>
                                </div>

                                <div class="form-group" ng-repeat="limit in Property.Limits | orderBy: 'Index'" ng-if="limit.LimitName != 'Building' && limit.LimitName != 'Business Income'" ng-hide="canShowLimit(limit)">
                                    <label for="" class="col-sm-3 control-label hoverGuideline" style="cursor:pointer;" ng-click="showGuidelines(limit.LimitName.replace('/', '').replace(' & ', ''))">{{limit.LimitName}}</label>
                                    <div class="col-sm-9">
                                        <div class="input-group">
                                            <span class="input-group-addon">$</span>
                                            <input type="text" class="form-control input-sm currency" style="height:30px" ng-model="limit.Amount" ng-blur="updateOrdinanceAndLawCoverageA(); requireRerate()" ng-disabled="!parent.canModify()" data-mask="#">
                                            <span class="input-group-addon" style="padding: 0">
                                                <select class="form-control form-control input-sm" style="width: 80px; height: 28px" tabindex="-1" ng-model="limit.ValuationBasis" ng-change="requireRerate()" ng-disabled="!parent.canModify()">
                                                    <option value="RCV">RCV</option>
                                                    <option value="ACV">ACV</option>
                                                </select>
                                            </span>
                                            <span class="input-group-addon" style="padding: 0">
                                                <select ng-model="limit.CauseOfLoss" ng-options="value.name as value.id for value in GetCharacteristicValues(CharacteristicsState.State)" class="form-control form-control input-sm" ng-change="requireRerate()" ng-disabled="!parent.canModify()" style="width: 145px; height: 28px" tabindex="-1"></select>
                                            </span>
                                            <span class="input-group-addon" style="padding: 0">
                                                <select ng-model="limit.CoInsurance" ng-options="value for value in GetCharacteristicValues('Co-Insurance')" class="form-control form-control input-sm" ng-change="requireRerate()" ng-disabled="!parent.canModify()" style="width: 80px; height: 28px" tabindex="-1"></select>
                                            </span>
                                        </div>
                                    </div>
                                </div>

                                <div class="form-group" ng-repeat="limit in Property.Limits" ng-if="limit.LimitName == 'Business Income'" ng-hide="canShowLimit(limit)">
                                    <label for="" class="col-sm-3 control-label hoverGuideline" style="cursor: pointer;" ng-click="showGuidelines('BusinessIncome')">{{limit.LimitName}}</label>
                                    <div class="col-sm-9">
                                        <div class="input-group">
                                            <span class="input-group-addon">$</span>
                                            <input type="text" class="form-control input-sm currency" ng-model="limit.Amount" ng-blur="requireRerate()" ng-disabled="!parent.canModify()" data-mask="#" style="height:30px">
                                            <span class="input-group-addon" style="padding: 0">
                                                <select class="form-control form-control input-sm" ng-model="limit.Payout" ng-change="requireRerate()" ng-disabled="!parent.canModify()" style="width: 80px; height: 28px" tabindex="-1">
                                                    <option value="1/3">1/3</option>
                                                    <option value="1/4">1/4</option>
                                                    <option value="1/6">1/6</option>
                                                    <option value="1/8">1/8</option>
                                                    <option value="1/12">1/12</option>
                                                    <option value="80%">80%</option>
                                                    <option value="90%">90%</option>
                                                    <option value="100%">100%</option>
                                                </select>
                                            </span>
                                            <span class="input-group-addon" style="padding: 0">
                                                <select ng-model="limit.CauseOfLoss" ng-options="value.name as value.id for value in GetCharacteristicValues(CharacteristicsState.State)" class="form-control form-control input-sm" ng-change="requireRerate()" ng-disabled="!parent.canModify()" style="width: 145px; height: 28px" tabindex="-1"></select>
                                            </span>
                                            <span class="input-group-addon" style="padding: 0">
                                                <select class="form-control form-control input-sm" ng-disabled="!parent.canModify()" style="width: 80px; height: 28px" ng-model="limit.EE" ng-change="requireRerate()" tabindex="-1">
                                                    <option value="w/EE">w/EE</option>
                                                    <option value="wo/EE">wo/EE</option>
                                                </select>
                                            </span>
                                        </div>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="" class="col-sm-3 control-label hoverGuideline" style="cursor: pointer;" ng-click="showGuidelines('WindDeductible')">Wind Deductible</label>
                                    <div class="col-sm-4">
                                        <ui-select ng-model="(PropertyDeductibles | filter:{PropertyId:Property.Id, Name:'Wind Deductible'})[0].Amount"
                                                   append-to-body="true"
                                                   theme="bootstrap"
                                                   on-select="requireRerate()"
                                                   ng-disabled=" !parent.canModify() || Property.ExcludeWindHail || isDeductibleDisabled((PropertyDeductibles | filter:{PropertyId:Property.Id, Name:'Wind Deductible'})[0])"
                                                   reset-search-input="false">
                                            <ui-select-match placeholder="Select a Wind Deductible">{{$select.selected}}</ui-select-match>
                                            <ui-select-choices repeat="value in GetCharacteristicValues('Wind Deductible') | filter: $select.search">
                                                <div ng-bind-html="value | highlight: $select.search"></div>
                                            </ui-select-choices>
                                        </ui-select>
                                    </div>

                                    <!--<label for="" class="col-sm-3 control-label hoverGuideline" style="cursor: pointer;" ng-click="showGuidelines('WindDeductible')">Wind Deductible</label>-->
                                    <div class="col-sm-5">
                                        <ui-select ng-model="PropertyWindCoverageType.Name"
                                                   append-to-body="true"
                                                   theme="bootstrap"
                                                   on-select="propertyWindCoverageTypeChanged()"
                                                   ng-disabled="!parent.canModify()"
                                                   reset-search-input="false">
                                            <ui-select-match placeholder="Select a Wind Coverage Type">{{$select.selected}}</ui-select-match>
                                            <ui-select-choices repeat="value in GetCharacteristicValues('Property Wind Coverage Types') | filter: $select.search">
                                                <div ng-bind-html="value | highlight: $select.search"></div>
                                            </ui-select-choices>
                                        </ui-select>
                                    </div>
                                    <!--<label style="text-align: left" class="col-sm-3 control-label">
            <input style="margin-right: 5px" type="checkbox" ng-model="Property.ExcludeWindHail" ng-disabled="!parent.canModify()" ng-change="windHailChecked()">Exclude Wind/Hail
        </label>-->
                                </div>

                                <div class="form-group" ng-show="Property.PropertyType == 'Building' && (Property.Limits | filter:{CauseOfLoss:'Special', Amount: '!0'}:true).length > 0">
                                    <label for="" class="col-sm-3 control-label">Theft Sublimit</label>
                                    <div class="col-sm-9">
                                        <div class="input-group">
                                            <span class="input-group-addon">$</span>
                                            <input type="text" class="form-control input-sm currency" ng-change="requireRerate()" ng-disabled="!parent.canModify()" ng-model="Property.TheftSublimit" data-mask="#" style="height: 30px">
                                        </div>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="" class="col-sm-3 control-label hoverGuideline" style="cursor: pointer;" ng-click="showGuidelines('AOPDeductible')">AOP Deductible</label>
                                    <div class="col-sm-9">
                                        <ui-select ng-model="(PropertyDeductibles | filter:{PropertyId:Property.Id, Name:'AOP Deductible'})[0].Amount"
                                                   append-to-body="true"
                                                   theme="bootstrap"
                                                   on-select="requireRerate()"
                                                   ng-disabled="!parent.canModify() || windOnly()"
                                                   reset-search-input="false">
                                            <ui-select-match placeholder="Select a AOP Deductible">{{$select.selected}}</ui-select-match>
                                            <ui-select-choices repeat="value in GetCharacteristicValues('AOP Deductible') | filter: $select.search">
                                                <div ng-bind-html="value | highlight: $select.search"></div>
                                            </ui-select-choices>
                                        </ui-select>
                                    </div>
                                </div>

                                <div class="form-group" ng-show="Property.PropertyType == 'Building'">
                                    <label for="" class="col-sm-3 control-label hoverGuideline" style="cursor: pointer;" ng-click="showGuidelines('Occupancy')">Occupancy</label>
                                    <div class="col-sm-9" ng-if="Property.Occupancy != 'Vacant' && Property.Occupancy != 'Builder\'s Risk'">
                                        <ui-select ng-model="Property.Occupancy"
                                                   append-to-body="false"
                                                   theme="bootstrap"
                                                   on-select="resetSubOccupancy(); requireRerate()"
                                                   ng-disabled="!parent.canModify()"
                                                   reset-search-input="false">
                                            <ui-select-match class="ui-select-required" placeholder="Select an Occupancy">{{$select.selected}}</ui-select-match>
                                            <ui-select-choices repeat="value in GetCharacteristicValues('Commercial Occupancy') | filter: $select.search: searchByBeginsWith">
                                                <div ng-bind-html="value | highlight: $select.search"></div>
                                            </ui-select-choices>
                                        </ui-select>
                                    </div>
                                    <label class="col-sm-3 control-label" style="text-align: left;" ng-if="Property.Occupancy == 'Vacant' || Property.Occupancy == 'Builder\'s Risk'"><strong>{{Property.Occupancy}}</strong></label>
                                </div>

                                <div class="form-group" ng-show="GetListOfCompanyCharacteristicValues(Property.Occupancy, 'be7a9234-5ba5-49e5-acc0-deec3ff2ead0').length > 0" ng-if="(Property.RiskCompanyData | filter:{ RiskCompanyId: 'be7a9234-5ba5-49e5-acc0-deec3ff2ead0' }).length > 0 && Property.PropertyType == 'Building'">
                                    <label for="" class="col-sm-3 control-label hoverGuideline" style="padding-top: 5px; cursor: pointer;" ng-click="showGuidelines('SubOccupancy')">Sub Occupancy</label>
                                    <div class="col-sm-9 selectedSubOccupancy">
                                        <ui-select ng-model="(Property.RiskCompanyData | filter:{ RiskCompanyId: 'be7a9234-5ba5-49e5-acc0-deec3ff2ead0' })[0].OccupancyCode"
                                                   append-to-body="false"
                                                   theme="bootstrap"
                                                   on-select="setSubOccupancy(); requireRerate()"
                                                   ng-disabled="!parent.canModify()"
                                                   reset-search-input="false">
                                            <ui-select-match class="ui-select-required" placeholder="Select a Sub Occupancy">{{$select.selected.Description}}</ui-select-match>
                                            <ui-select-choices class="subOccupancyChoices" repeat="value.CompanyCharacteristicValue as value in GetListOfCompanyCharacteristicValues(Property.Occupancy, 'be7a9234-5ba5-49e5-acc0-deec3ff2ead0') | orderBy:'Description' | propsFilter: { Description: $select.search }">
                                                <div ng-bind-html="value.Description | highlight: $select.search"></div>
                                            </ui-select-choices>
                                        </ui-select>
                                    </div>
                                </div>

                                <div class="form-group" ng-show="Property.PropertyType == 'Building'">
                                    <label for="" class="col-sm-3 control-label hoverGuideline" style="cursor: pointer;" ng-click="showGuidelines('Construction')">Construction</label>
                                    <div class="col-sm-9">
                                        <ui-select ng-model="Property.Construction"
                                                   append-to-body="true"
                                                   theme="bootstrap"
                                                   on-select="requireRerate()"
                                                   ng-disabled="!parent.canModify()"
                                                   reset-search-input="false">
                                            <ui-select-match class="ui-select-required" placeholder="Select a Construction">{{$select.selected}}</ui-select-match>
                                            <ui-select-choices repeat="value in GetCharacteristicValues('Construction') | filter: $select.search: searchByBeginsWith">
                                                <div ng-bind-html="value | highlight: $select.search"></div>
                                            </ui-select-choices>
                                        </ui-select>
                                    </div>
                                </div>

                                <div class="form-group" ng-show="Property.PropertyType == 'Building'">
                                    <label for="" class="col-sm-3 control-label hoverGuideline" style="cursor: pointer;" ng-click="showGuidelines('Sprinklered')">Sprinklered</label>
                                    <div class="col-sm-9">
                                        <ui-select ng-model="Property.Sprinklered"
                                                   append-to-body="true"
                                                   theme="bootstrap"
                                                   on-select="requireRerate()"
                                                   ng-disabled="!parent.canModify()"
                                                   reset-search-input="false">
                                            <ui-select-match placeholder="Select a Sprinklered">{{$select.selected}}</ui-select-match>
                                            <ui-select-choices repeat="value in GetCharacteristicValues('Sprinklered') | filter: $select.search">
                                                <div ng-bind-html="value | highlight: $select.search"></div>
                                            </ui-select-choices>
                                        </ui-select>
                                    </div>
                                </div>


                                <div class="form-group" ng-show="Property.PropertyType == 'Building'">
                                    <label for="" class="col-sm-3 control-label hoverGuideline" style="cursor: pointer;" ng-click="showGuidelines('ProtectionClass')">Protection Class</label>
                                    <div class="col-sm-9">
                                        <ui-select ng-model="Property.ProtectionClass"
                                                   append-to-body="true"
                                                   theme="bootstrap"
                                                   on-select="requireRerate()"
                                                   ng-disabled="!parent.canModify()"
                                                   reset-search-input="false">
                                            <ui-select-match placeholder="Select a Protection Class">{{$select.selected}}</ui-select-match>
                                            <ui-select-choices repeat="value in GetCharacteristicValues('Protection Class') | filter: $select.search">
                                                <div ng-bind-html="value | highlight: $select.search"></div>
                                            </ui-select-choices>
                                        </ui-select>
                                    </div>
                                </div>


                                <div class="form-group" ng-show="Property.PropertyType == 'Building'">
                                    <label for="" class="col-sm-3 control-label hoverGuideline" style="cursor: pointer;" ng-click="showGuidelines('YearBuilt')">Year Built</label>
                                    <div class="col-sm-9">
                                        <ui-select ng-model="Property.YearBuilt"
                                                   append-to-body="true"
                                                   theme="bootstrap"
                                                   ng-disabled="!parent.canModify()"
                                                   reset-search-input="false"
                                                   on-select="yearBuiltChanged($item, $model)">
                                            <ui-select-match class="ui-select-required" placeholder="Select a Year Built">{{$select.selected}}</ui-select-match>
                                            <ui-select-choices repeat="value in GetCharacteristicValues('Year Built') | filter: $select.search">
                                                <div ng-bind-html="value | highlight: $select.search">
                                                </div>
                                            </ui-select-choices>
                                        </ui-select>
                                    </div>
                                </div>

                                <div class="form-group" ng-show="Property.PropertyType == 'Building'">
                                    <label for="" class="col-sm-3 control-label hoverGuideline" style="cursor: pointer;" ng-click="showGuidelines('YearUpgrade')">Year Upgrade</label>
                                    <div class="col-sm-9">
                                        <ui-select ng-model="Property.YearUpgrade"
                                                   append-to-body="true"
                                                   theme="bootstrap"
                                                   on-select="yearUpdateChanged()"
                                                   ng-disabled="!parent.canModify()"
                                                   reset-search-input="false">
                                            <ui-select-match placeholder="Select a Year Upgrade">{{$select.selected}}</ui-select-match>
                                            <ui-select-choices repeat="value in GetCharacteristicValues('Year Upgrade') | filter: $select.search">
                                                <div ng-bind-html="value | highlight: $select.search">
                                                </div>
                                            </ui-select-choices>
                                        </ui-select>
                                    </div>
                                </div>

                                <div class="form-group" ng-show="Property.PropertyType == 'Building'">
                                    <label for="" class="col-sm-3 control-label hoverGuideline" style="cursor: pointer;" ng-click="showGuidelines('YearUpdate')">Year Update</label>
                                    <div class="col-sm-9">
                                        <table class="table table-no-border table-condensed-tight">
                                            <tr>
                                                <td>Roof</td>
                                                <td>Wiring</td>
                                                <td>Plumbing</td>
                                                <td>HVAC</td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <ui-select ng-model="Property.RoofUpdate"
                                                               append-to-body="true"
                                                               theme="bootstrap"
                                                               ng-disabled="!parent.canModify()"
                                                               reset-search-input="false"
                                                               style="width:100px"
                                                               on-select="roofUpdateChanged($item, $model)">
                                                        <ui-select-match class="ui-select-required" placeholder="Roof">{{$select.selected}}</ui-select-match>
                                                        <ui-select-choices repeat="value in GetCharacteristicValues('Year Built') | filter: $select.search">
                                                            <div ng-bind-html="value | highlight: $select.search">
                                                            </div>
                                                        </ui-select-choices>
                                                    </ui-select>
                                                </td>
                                                <td>
                                                    <ui-select ng-model="Property.WiringUpdate"
                                                               append-to-body="true"
                                                               theme="bootstrap"
                                                               ng-disabled="!parent.canModify()"
                                                               reset-search-input="false"
                                                               style="width:100px"
                                                               on-select="wiringUpdateChanged($item, $model)">
                                                        <ui-select-match class="ui-select-required" placeholder="Wiring">{{$select.selected}}</ui-select-match>
                                                        <ui-select-choices repeat="value in GetCharacteristicValues('Year Built') | filter: $select.search">
                                                            <div ng-bind-html="value | highlight: $select.search">
                                                            </div>
                                                        </ui-select-choices>
                                                    </ui-select>
                                                </td>
                                                <td>
                                                    <ui-select ng-model="Property.PlumbingUpdate"
                                                               append-to-body="true"
                                                               theme="bootstrap"
                                                               ng-disabled="!parent.canModify()"
                                                               reset-search-input="false"
                                                               style="width:100px"
                                                               on-select="plumbingUpdateChanged($item, $model)">
                                                        <ui-select-match class="ui-select-required" placeholder="Plumbing">{{$select.selected}}</ui-select-match>
                                                        <ui-select-choices repeat="value in GetCharacteristicValues('Year Built') | filter: $select.search">
                                                            <div ng-bind-html="value | highlight: $select.search">
                                                            </div>
                                                        </ui-select-choices>
                                                    </ui-select>
                                                </td>
                                                <td>
                                                    <ui-select ng-model="Property.HVACUpdate"
                                                               append-to-body="true"
                                                               theme="bootstrap"
                                                               ng-disabled="!parent.canModify()"
                                                               reset-search-input="false"
                                                               style="width:100px"
                                                               on-select="hvacUpdateChanged($item, $model)">
                                                        <ui-select-match class="ui-select-required" placeholder="HVAC">{{$select.selected}}</ui-select-match>
                                                        <ui-select-choices repeat="value in GetCharacteristicValues('Year Built') | filter: $select.search">
                                                            <div ng-bind-html="value | highlight: $select.search">
                                                            </div>
                                                        </ui-select-choices>
                                                    </ui-select>
                                                </td>
                                            </tr>
                                        </table>
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-5 hidden-sm bottom-buffer property-form property-form-hidden">
                                <div class="row clear">
                                    <div class="col-md-12">
                                        <div id="map_canvas" style="width: 100%; height: 230px" tabindex="-1"></div>                    
                                    </div>
                                    <div id="floating-panel" style="height: 100%; margin: 0 auto;" ng-show="showLocationToggle">
                                        <button id="street-view-btn" ng-click="toggleStreetView()" style="position: absolute; margin-top: 10px; margin-right: -20px;">Building Street View</button>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-5 property-form" ng-show="Property.PropertyType == 'Building'">
                                <div class="form-group">
                                    <label for="" class="col-sm-3 col-md-4 control-label hoverGuideline" style="cursor: pointer;" ng-click="showGuidelines('RoofShape')">Roof Shape</label>
                                    <div class="col-sm-9 col-md-8">
                                        <ui-select ng-model="Property.RoofShape"
                                                   append-to-body="true"
                                                   theme="bootstrap"
                                                   on-select="requireRerate()"
                                                   ng-disabled="!parent.canModify()"
                                                   reset-search-input="false">
                                            <ui-select-match class="ui-select-required" placeholder="Select a Roof Shape">{{$select.selected}}</ui-select-match>
                                            <ui-select-choices repeat="value in GetCharacteristicValues('Roof Shape') | filter: $select.search">
                                                <div ng-bind-html="value | highlight: $select.search">
                                                </div>
                                            </ui-select-choices>
                                        </ui-select>
                                    </div>
                                </div>

                            <div class="form-group" ng-show="Property.PropertyType == 'Building'">
                                <label for="" class="col-sm-3 col-md-4 control-label hoverGuideline" style="cursor: pointer;" ng-click="showGuidelines('RoofCoverage')">Roof Coverage</label>
                                <div class="col-sm-9 col-md-8">
                                    <ui-select ng-model="Property.RoofCoverage"
                                               append-to-body="true"
                                               theme="bootstrap"
                                               on-select="requireRerate()"
                                               ng-disabled="!parent.canModify()"
                                               reset-search-input="false">
                                        <ui-select-match class="ui-select-required" placeholder="Select a Roof Coverage">{{$select.selected}}</ui-select-match>
                                        <ui-select-choices repeat="value in GetCharacteristicValues('Roof Coverage') | filter: $select.search">
                                            <div ng-bind-html="value | highlight: $select.search">
                                            </div>
                                        </ui-select-choices>
                                    </ui-select>
                                </div>
                            </div>
                                
                            <div class="form-group">
                                <label for="" class="col-sm-3 col-md-4 control-label hover-guideline" style="cursor: pointer" ng-click="showGuidelines('RoofAnchor')">Roof Anchor</label>
                                <div class="col-sm-9 col-md-8">
                                    <ui-select ng-model="Property.RoofAnchor"
                                               append-to-body="true"
                                               theme="bootstrap"
                                               ng-disabled="!parent.canModify()"
                                               reset-search-input="false">
                                        <ui-select-match class="ui-select-required" placeholder="Select a Roof Anchor">{{$select.selected}}</ui-select-match>
                                        <ui-select-choices repeat="value in GetCharacteristicValues('Roof Anchor') | filter: $select.search">
                                            <div ng-bind-html="value | highlight: $select.search">
                                            </div>
                                        </ui-select-choices>
                                    </ui-select>
                                </div>
                            </div>
                                
                            <!-- Opening Protection -->
                                <div class="form-group" ng-show="Property.PropertyType == 'Building' && !Property.ExcludeWindHail">
                                        <label for="" class="col-sm-3 col-md-4 control-label hoverGuideline" style="cursor: pointer" ng-click="showGuidelines('OpeningProtection')">Opening Protection</label>
                                        <div class="col-sm-9 col-md-8">
                                            <ui-select ng-model="Property.OpeningProtection"
                                                       append-to-body="true"
                                                       theme="bootstrap"
                                                       on-select="requireRerate()"
                                                       ng-disabled="!parent.canModify()"
                                                       reset-search-input="false">
                                                <ui-select-match placeholder="Select an Opening Protection">{{$select.selected}}</ui-select-match>
                                                <ui-select-choices repeat="value in GetCharacteristicValues('Opening Protection') | filter: $select.search">
                                                    <div ng-bind-html="value | highlight: $select.search">
                                                    </div>
                                                </ui-select-choices>
                                            </ui-select>
                                        </div>
                                    </div>

                                <div class="form-group" ng-show="Property.PropertyType == 'Building'">
                                    <label for="" class="col-sm-3 col-md-4 control-label hoverGuideline" style="cursor: pointer;" ng-click="showGuidelines('SquareFeet')">Square Feet</label>
                                    <div class="col-sm-9 col-md-8">
                                        <input class="form-control input-md" required="required" ng-disabled="!parent.canModify()" ng-model="Property.SquareFeet" ng-change="requireRerate()" ng-class="{ 'value-required' : isSquareFeetInvalid() }" />
                                    </div>
                                </div>

                                <div class="form-group" ng-show="Property.PropertyType == 'Building'">
                                    <label for="" class="col-sm-3 col-md-4 control-label hoverGuideline" style="cursor: pointer;" ng-click="showGuidelines('NumberOfStories')">Number of Stories</label>
                                    <div class="col-sm-9 col-md-8" ng-class="{ 'value-required': checkNumberOfStories() }">
                                        <ui-select ng-model="Property.NumberOfStories"
                                                   append-to-body="true"
                                                   theme="bootstrap"
                                                   ng-disabled="!parent.canModify()"
                                                   on-select="requireRerate()"
                                                   reset-search-input="false">
                                            <ui-select-match class="ui-select-required" placeholder="Select a Number of Stories">{{$select.selected}}</ui-select-match>
                                            <ui-select-choices repeat="value in GetCharacteristicValues('Number of Stories') | filter: $select.search">
                                                <div ng-bind-html="value | highlight: $select.search"></div>
                                            </ui-select-choices>
                                        </ui-select>
                                    </div>
                                </div>

                                <div class="form-group" ng-show="Property.PropertyType == 'Building'">
                                    <label for="" class="col-sm-3 col-md-4 control-label hoverGuideline" style="cursor: pointer;" ng-click="showGuidelines('CentralStationAlarm')">Central Station Alarm</label>
                                    <div class="col-sm-9 col-md-8">
                                        <ui-select ng-model="Property.CentralStationAlarm"
                                                   append-to-body="true"
                                                   theme="bootstrap"
                                                   ng-disabled="!parent.canModify()"
                                                   on-select="requireRerate()"
                                                   reset-search-input="false">
                                            <ui-select-match placeholder="Select a Central Station Alarm">{{$select.selected}}</ui-select-match>
                                            <ui-select-choices repeat="value in GetCharacteristicValues('Central Station Alarm') | filter: $select.search">
                                                <div ng-bind-html="value | highlight: $select.search">
                                                </div>
                                            </ui-select-choices>
                                        </ui-select>
                                    </div>
                                </div>
                                <div class="form-group" ng-show="Property.PropertyType == 'Building'">
                                    <label for="" class="col-sm-3 col-md-4 control-label hoverGuideline" style="cursor: pointer;" ng-click="showGuidelines('SinkholeCoverage')">Sinkhole Coverage</label>
                                    <div class="col-sm-9 col-md-8">
                                        <ui-select ng-model="Property.Sinkhole"
                                                   append-to-body="true"
                                                   theme="bootstrap"
                                                   on-select="requireRerate()"
                                                   ng-disabled="!parent.canModify()"
                                                   reset-search-input="false">
                                            <ui-select-match placeholder="Select a Sinkhole Coverage">{{$select.selected}}</ui-select-match>
                                            <ui-select-choices repeat="value in GetCharacteristicValues('Sinkhole') | filter: $select.search">
                                                <div ng-bind-html="value | highlight: $select.search">
                                                </div>
                                            </ui-select-choices>
                                        </ui-select>
                                    </div>
                                </div>

                                <div class="form-group" ng-show="Property.Occupancy == 'Vacant' || Property.Occupancy == 'Builder\'s Risk'">
                                    <label for="" class="col-sm-3 col-md-4 control-label hoverGuideline" style="cursor: pointer;" ng-click="showGuidelines('Vandalism')">Vandalism</label>
                                    <div class="col-sm-9 col-md-8">
                                        <ui-select ng-model="Property.Vandalism"
                                                   append-to-body="true"
                                                   theme="bootstrap"
                                                   on-select="requireRerate()"
                                                   ng-disabled="!parent.canModify()"
                                                   reset-search-input="false"
                                                   class="ui-select-required">
                                            <ui-select-match placeholder="Select a Vandalism Coverage">{{$select.selected}}</ui-select-match>
                                            <ui-select-choices repeat="value in GetCharacteristicValues('Vandalism') | filter: $select.search">
                                                <div ng-bind-html="value | highlight: $select.search">
                                                </div>
                                            </ui-select-choices>
                                        </ui-select>
                                    </div>
                                </div>

                                <div class="form-group" ng-show="Property.Occupancy == 'Vacant' || Property.Occupancy == 'Builder\'s Risk'">
                                    <label for="" class="col-sm-3 col-md-4 control-label hoverGuideline" style="cursor: pointer;" ng-click="showGuidelines('SprinklerLeakage')">Sprinkler Leakage</label>
                                    <div class="col-sm-9 col-md-8">
                                        <ui-select ng-model="Property.SprinklerLeakage"
                                                   append-to-body="true"
                                                   theme="bootstrap"
                                                   on-select="requireRerate()"
                                                   ng-disabled="!parent.canModify()"
                                                   reset-search-input="false"
                                                   class="ui-select-required">
                                            <ui-select-match placeholder="Select a Leakage Coverage">{{$select.selected}}</ui-select-match>
                                            <ui-select-choices repeat="value in GetCharacteristicValues('Sprinkler Leakage') | filter: $select.search">
                                                <div ng-bind-html="value | highlight: $select.search">
                                                </div>
                                            </ui-select-choices>
                                        </ui-select>
                                    </div>
                                </div>

                                <div ng-show="Property.PropertyType == 'Building'">
                                    <hr />

                                    <h4><input type="checkbox" style="margin-right: 10px;" ng-disabled="!parent.canModify()" ng-checked="Property.includeOrdinance != 'Excluded'" ng-click="toggleLawAndOrdinance()" value="" /><strong class="hoverGuideline" style="cursor: pointer;" ng-click="showGuidelines('OrdinanceAndLaw')">Ordinance And Law</strong></h4>

                                    <div ng-show="Property.includeOrdinance == 'Included'">
                                        <div class="form-group">
                                            <label class="col-sm-3 col-md-4 control-label" style="padding-top: 2px;">
                                                <input type="checkbox" ng-disabled="!parent.canModify()" ng-checked="Property.OrdinanceAndLawCoverageA != 'Excluded'" ng-click="includeOrdinanceAndLaw('A')" value="" />
                                                <span style="width: 60%; display: inline-block; vertical-align: top;"> Coverage A</span>
                                            </label>
                                            <div class="col-sm-9 col-md-8">
                                                <div class="input-group">
                                                    <span class="input-group-addon">$</span>
                                                    <input class="form-control input-sm" required="required" style="height: 30px" ng-disabled="true" ng-model="Property.OrdinanceAndLawCoverageA" ng-change="requireRerate()" />
                                                </div>
                                            </div>
                                        </div>

                                        <div class="form-group">
                                            <label class="col-sm-3 col-md-4 control-label" style="padding-top: 2px;">
                                                <input type="checkbox" ng-disabled="!parent.canModify() || !canCheckOrdinanceAndLawCoverageBOrC()" ng-checked="Property.OrdinanceAndLawCoverageB != 'Excluded'" ng-click="includeOrdinanceAndLaw('B')" value="" />
                                                <span style="width: 60%; display: inline-block; vertical-align: top;"> Coverage B</span>
                                            </label>
                                            <div class="col-sm-9 col-md-8">
                                                <div class="input-group">
                                                    <span class="input-group-addon">$</span>
                                                    <input class="form-control input-sm" required="required" style="height: 30px" ng-disabled="Property.OrdinanceAndLawCoverageB == 'Excluded' || (!parent.canModify())" data-mask="#" ng-model="Property.OrdinanceAndLawCoverageB" ng-change="requireRerate()" placeholder="Enter Limit Here..." />
                                                </div>
                                            </div>
                                        </div>

                                        <div class="form-group">
                                            <label class="col-sm-3 col-md-4 control-label" style="padding-top: 2px;">
                                                <input type="checkbox" ng-disabled="!parent.canModify() || !canCheckOrdinanceAndLawCoverageBOrC()" ng-checked="Property.OrdinanceAndLawCoverageC != 'Excluded'" ng-click="includeOrdinanceAndLaw('C')" value="" />
                                                <span style="width: 60%; display: inline-block; vertical-align: top;"> Coverage C</span>
                                            </label>
                                            <div class="col-sm-9 col-md-8">
                                                <div class="input-group">
                                                    <span class="input-group-addon">$</span>
                                                    <input class="form-control input-sm" required="required" style="height: 30px" ng-disabled="Property.OrdinanceAndLawCoverageC == 'Excluded' || (!parent.canModify())" data-mask="#" ng-model="Property.OrdinanceAndLawCoverageC" ng-change="requireRerate()" placeholder="Enter Limit Here..." />
                                                </div>
                                            </div>
                                        </div>

                                        <div class="form-group">
                                            <label class="col-sm-3 col-md-4 control-label" style="padding-top: 2px;">
                                                <input type="checkbox" ng-disabled="!parent.canModify() || !canCheckOrdinanceAndLawCoverageBAndC()" ng-checked="Property.OrdinanceAndLawCoverageBAndC != 'Excluded'" ng-click="includeOrdinanceAndLaw('B&C')" value="" />
                                                <span style="width: 60%; display: inline-block; vertical-align: top;"> Cvrg. B&amp;C Combined</span>
                                            </label>
                                            <div class="col-sm-9 col-md-8">
                                                <div class="input-group">
                                                    <span class="input-group-addon">$</span>
                                                    <input class="form-control input-sm" required="required" style="height: 30px" ng-disabled="Property.OrdinanceAndLawCoverageBAndC == 'Excluded' || (!parent.canModify())" data-mask="#" ng-model="Property.OrdinanceAndLawCoverageBAndC" ng-change="requireRerate()" placeholder="Enter Limit Here..." />
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div ng-show="Property.PropertyType == 'Building' && Property.Occupancy != 'Vacant' && Property.Occupancy != 'Builder\'s Risk'">
                                    <hr />
                                    <h4><input type="checkbox" style="margin-right: 10px;" ng-disabled="!parent.canModify()" ng-checked="Property.SpoilageCoverageLimit != 'Excluded'" ng-click="includeSpoilage()" value="" /><strong class="hoverGuideline" style="cursor: pointer;" ng-click="showGuidelines('SpoilageCoverage')">Spoilage Coverage</strong></h4>
                                    <div ng-show="Property.SpoilageCoverageLimit != 'Excluded'">
                                        <div class="form-group">
                                            <label for="" class="col-sm-3 col-md-4 control-label">Limit</label>
                                            <div class="col-sm-9 col-md-8">
                                                <div class="input-group">
                                                    <span class="input-group-addon">$</span>
                                                    <input class="form-control input-sm" required="required" style="height: 30px" ng-disabled="Property.SpoilageCoverageLimit == 'Excluded' || !parent.canModify()" data-mask="#" ng-model="Property.SpoilageCoverageLimit" ng-blur="requireRerate()" />
                                                </div>
                                            </div>
                                        </div>

                                        <div class="form-group">
                                            <label for="" class="col-sm-3 col-md-4 control-label">Deductible</label>
                                            <div class="col-sm-9 col-md-8">
                                                <div class="input-group">
                                                    <span class="input-group-addon">$</span>
                                                    <input class="form-control input-sm" required="required" style="height: 30px" ng-disabled="Property.SpoilageCoverageLimit == 'Excluded' || !parent.canModify()" data-mask="#" ng-model="Property.SpoilageCoverageDeductible" ng-blur="requireRerate()" />
                                                </div>
                                            </div>
                                        </div>

                                        <div class="form-group">
                                            <label for="" class="col-sm-3 col-md-4 control-label">Description of Property</label>
                                            <div class="col-sm-9 col-md-8">
                                                <textarea class="form-control input-sm" required="required" rows="5" style="resize: none;" ng-disabled="Property.SpoilageCoverageLimit == 'Excluded' || !parent.canModify()" ng-model="Property.SpoilagePropertyDescription"/>
                                            </div>
                                        </div>

                                        <div class="form-group">
                                            <div class="col-sm-1 col-md-2"></div>
                                            <div class="col-sm-11 col-md-10">
                                                <input type="checkbox" style="margin-right: 10px;" ng-disabled="!parent.canModify()" ng-checked="Property.SpoilageBreakdown != 'Excluded'" ng-click="includeSpoilageCoverages('Breakdown')" value="" />Breakdown or Contamination
                                            </div>
                                        </div>

                                        <div class="form-group">
                                            <div class="col-sm-1 col-md-2"></div>
                                            <div class="col-sm-11 col-md-10">
                                                <input type="checkbox" style="margin-right: 10px;" ng-disabled="!parent.canModify()" ng-checked="Property.SpoilagePowerOutage != 'Excluded'" ng-click="includeSpoilageCoverages('Power Outage')" value="" />Power Outage
                                            </div>
                                        </div>

                                        <div class="form-group">
                                            <div class="col-sm-1 col-md-2"></div>
                                            <div class="col-sm-11 col-md-10">
                                                <input type="checkbox" style="margin-right: 10px;" ng-disabled="!parent.canModify() || (Property.SpoilagePowerOutage == 'Excluded' && Property.SpoilageBreakdown == 'Excluded')" ng-checked="Property.SpoilageSellingPrice != 'Excluded'" ng-click="includeSpoilageCoverages('Selling Price')" value="" />Selling Price
                                            </div>
                                        </div>

                                        <div class="form-group">
                                            <div class="col-sm-1 col-md-2"></div>
                                            <div class="col-sm-11 col-md-10">
                                                <input type="checkbox" style="margin-right: 10px;" ng-disabled="!parent.canModify() || (Property.SpoilagePowerOutage == 'Excluded' && Property.SpoilageBreakdown == 'Excluded')" ng-checked="Property.SpoilageRefrigeration != 'Excluded'" ng-click="includeSpoilageCoverages('Refrigeration')" value="" />Refrigeration Maintenance Agreement
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div ng-show="Property.PropertyType == 'Building'">
                                    <hr />

                                    <h4><input type="checkbox" style="margin-right: 10px;" ng-disabled="!parent.canModify()" ng-click="toggleExtensionEndorsement()" ng-checked="showExtensionEndorsement == true" value="" /><strong class="hoverGuideline" style="cursor: pointer;" ng-click="showGuidelines('PropertyExtensionEndorsement')">Property Extension Endorsement</strong></h4>

                                    <div ng-show="showExtensionEndorsement">
                                        <div class="form-group">
                                            <div class="col-sm-12">
                                                <ui-select ng-model="Property.ExtensionEndorsementLimit"
                                                           append-to-body="true"
                                                           theme="bootstrap"
                                                           on-select="requireRerate()"
                                                           ng-disabled="!parent.canModify()"
                                                           reset-search-input="false">
                                                    <ui-select-match class="ui-select-required" placeholder="Select a Property Extension Endorsement Option">{{$select.selected.Name}}</ui-select-match>
                                                    <ui-select-choices repeat="value.Id as value in  GetCharacteristicValues('Extension Endorsement') | filter: $select.search">
                                                        <div ng-bind-html="value.Name | highlight: $select.search">
                                                        </div>
                                                    </ui-select-choices>
                                                </ui-select>
                                            </div>
                                        </div>
                                    </div>


                                </div>

                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="row" ng-show="ErrorList.length > 0">
                <div class="col-md-12">
                    <div class="alert alert-danger">
                        <h4>Oops...</h4>
                        <ul>
                            <li ng-repeat="error in ErrorList">
                                {{error}}
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="modal-push">
            </div>
        </div>
        <div class="modal-footer">
            <table class="modal-footer-info pull-left">
                <tr>
                    <td>Distance to Coast</td>
                    <td>{{Location.DistanceToCoast}} miles</td>
                    <td class="hoverGuideline" style="cursor: pointer;" ng-click="showGuidelines('PropertyCrime')">Property Crime</td>
                    <td>{{Location.PropertyCrime}}</td>
                    <td class="hoverGuideline" style="cursor: pointer;" ng-click="showGuidelines('ViolentCrime')">Violent Crime</td>
                    <td>{{Location.ViolentCrime}}</td>
                </tr>
            </table>
            <div id="modalLocation_commands" class="pull-right">
                <button type="button" class="btn yellow-casablanca pull-right" ng-show="parent.canModify()" ng-disabled="(parent.SubmitForBind() && submitReviewer == false) || disableSaveButton" style="margin-left:5px;" ng-click="save()">Save & Close</button>
                <button type="button" class="btn btn-default pull-right" ng-click="close()">Close</button>
            </div>
        </div>
    </div>
</div>

<script type="text/ng-template" id="addAdditionalInsured.html">
    <div class="modal-header">
        <h4 class="modal-title">Add New Additional Insured</h4>
    </div>

    <div class="modal-body">
        <div class="row">
            <form class="form-horizontal" role="form">
                <div class="scrollable">
                    <div class="col-md-12">
                        <div class="col-md-12">
                            <div class="form-group" ng-show="AI.PropertyId == null">
                                <label class="radio-inline">
                                    <input type="radio" ng-model="AIType" value="Mortgagee"> Mortgagee
                                </label>
                                <label class="radio-inline">
                                    <input type="radio" ng-model="AIType" value="Loss Payee"> Loss Payee
                                </label>
                            </div>
                            <div class="form-group">
                                <label class="control-label">Name</label>
                                <input type="text" class="form-control" ng-model="AI.Name" />
                            </div>
                            <div class="form-group" ng-show="AIType == 'Mortgagee'">
                                <label class="control-label">Loan Number</label>
                                <input type="text" class="form-control" ng-model="AI.LoanNumber" />
                            </div>
                            <div class="form-group" ng-show="AIType == 'Loss Payee'">
                                <label class="radio-inline">
                                    <input type="radio" ng-model="AI.LossPayeeType" value="0"> Loss Payable
                                </label>
                                <label class="radio-inline">
                                    <input type="radio" ng-model="AI.LossPayeeType" value="1"> Lender's Loss Payable
                                </label>
                            </div>
                            <div class="form-group" ng-show="AIType == 'Loss Payee'">
                                <label class="control-label">Description of Property</label>
                                <textarea class="form-control" ng-model="AI.DescriptionOfProperty"> </textarea>
                            </div>
                            <div class="form-group">
                                <label for="mailing-address" class="control-label">Mailing Address</label>
                                <div>
                                    <label style="color:#0096db">Search Address</label>
                                    <input id="mailing-address" ng-autocomplete class="form-control input-sm" ng-model="AI.Address.ShortAddress" details="details" />
                                </div>
                                <div style="margin-top: 10px">
                                    <label style="color:#337ab7"><a ng-click="toggleManaulAddressEntry = !toggleManaulAddressEntry">Manually Enter Address</a></label>
                                    <input ng-show="toggleManaulAddressEntry" class="form-control input-sm" ng-model="AI.Address.StreetAddress1" placeholder="Address 1" />
                                </div>
                                <div style="margin-top: 10px" ng-show="toggleManaulAddressEntry">
                                    <input class="form-control input-sm" ng-model="AI.Address.StreetAddress2" placeholder="Address 2" />
                                </div>
                                <div style="margin-top: 10px" ng-show="toggleManaulAddressEntry">
                                    <input class="form-control input-sm" ng-model="AI.Address.Zip" placeholder="Zip" ng-blur="updateStateFromZip()" />
                                </div>
                                <div style="margin-top: 10px" ng-show="toggleManaulAddressEntry">
                                    <input class="form-control input-sm" ng-model="AI.Address.City" placeholder="City" />
                                </div>
                                <div style="margin-top: 10px" ng-show="toggleManaulAddressEntry">
                                    <input class="form-control input-sm" ng-model="AI.Address.State" placeholder="State" ng-disabled="true" />
                                </div>
                            </div>
                            <div class="form-body">
                                <div class="form-group" ng-show="AI.PropertyId == null">
                                    <label>Locations</label>
                                    <div style="max-height:200px;overflow-y:auto;">
                                        <div class="col-xs-12" ng-repeat="location in Locations | orderBy: 'LocationNumber'">
                                            <div class="col-xs-12" ng-repeat="property in location.Properties | orderBy: 'BuildingNumber'">
                                                <label>
                                                    <input type="checkbox" checklist-model="AI.Properties" checklist-value="property.Id">{{location.LocationNumber}} - {{property.BuildingNumber}}  {{location.Address.ShortAddress}}
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div ng-show="Errors.length > 0" class="alert alert-danger alert-dismissible fade in" role="alert" style="margin-top:10px;">
                                <ul>
                                    <li ng-repeat="error in Errors">{{error}}</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>

        <div class="row" ng-show="ErrorList.length > 0">
            <div class="col-md-12">
                <div class="alert alert-danger">
                    <ul>
                        <li ng-repeat="error in ErrorList">
                            {{error}}
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="modal-push">
        </div>
    </div>
    <div class="modal-footer">
        <div id="modalProperty_commands">
            <button id="modalProperty_close" type="button" data-dismiss="modal" class="btn btn-default" ng-click="close()">Close</button>
            <button id="modalProperty_ok" type="button" class="btn yellow-casablanca" ng-click="add()">{{AI.PropertyId == null ? "Add" : "Update"}}</button>
        </div>
    </div>
</script>

<script type="text/ng-template" id="addProtectiveSafeGuard.html">
    <div class="modal-header">
        <h4 class="modal-title">Update Protective Safeguard</h4>
    </div>

    <div class="modal-body">
        <div class="row">
            <form class="form-horizontal" role="form">
                <div class="scrollable">
                    <div class="col-md-12">
                        <div class="col-md-12">
                            <div class="form-group" ng-show="ProtectiveSafeGuard.PropertyId != null">
                                <label class="control-label">Protective Safeguard</label>
                                <textarea class="form-control" ng-model="ProtectiveSafeGuard.ProtectiveSafeGuard" style="height: 150px;width: 870px;"></textarea>
                            </div>
                            <div ng-show="ProtectiveSafeGuard.PropertyId == null">
                                <div class="form-group">
                                    <label>
                                        <input type="checkbox" checklist-model="ProtectiveSafeGuard.Safeguards" checklist-value="'P-1 Automatic sprinkler systems to be fully operational and maintained by annual professional service contract.'">
                                        <strong>P-1</strong> Automatic sprinkler systems to be fully operational and maintained by annual professional service contract.
                                    </label>
                                </div>
                                <div class="form-group">
                                    <label>
                                        <input type="checkbox" checklist-model="ProtectiveSafeGuard.Safeguards" checklist-value="'P-2 Automatic Fire Alarm.'">
                                        <strong>P-2</strong> Automatic Fire Alarm.
                                    </label>
                                </div>
                                <div class="form-group">
                                    <label>
                                        <input type="checkbox" checklist-model="ProtectiveSafeGuard.Safeguards" checklist-value="'P-9 Portable Fire Extinguisher.'">
                                        <strong>P-9</strong> Portable Fire Extinguisher.
                                    </label>
                                </div>
                                <div class="form-group">
                                    <label>
                                        <input type="checkbox" checklist-model="ProtectiveSafeGuard.Safeguards" checklist-value="'P-9 Central Station Burglar Alarm.'">
                                        <strong>P-9</strong> Central Station Burglar Alarm.
                                    </label>
                                </div>
                                <div class="form-group">
                                    <label>
                                        <input type="checkbox" checklist-model="ProtectiveSafeGuard.Safeguards" checklist-value="'P-9 Automatic extinguishing systems over all cooking surfaces that is operational and maintained by semi annual professional cleaning contract. (Hoods/Vents on quarterly professional cleaning contract.).'">
                                        <strong>P-9</strong> Automatic extinguishing systems over all cooking surfaces that is operational and maintained by semi annual professional cleaning contract. (Hoods/Vents on quarterly professional cleaning contract.).
                                    </label>
                                </div>
                                <div class="form-group">
                                    <label>
                                        <input type="checkbox" checklist-model="ProtectiveSafeGuard.Safeguards" checklist-value="'P-3 Professional on Premises Guard Service 24 Hour / Overnight.'">
                                        <strong>P-3</strong> Professional on Premises Guard Service 24 Hour / Overnight.
                                    </label>
                                </div>
                                <div class="form-group">
                                    <label>
                                        <input type="checkbox" checklist-model="ProtectiveSafeGuard.Safeguards" checklist-value="'P-9 UL Approved Spray Paint Booth.'">
                                        <strong>P-9</strong> UL Approved Spray Paint Booth.
                                    </label>
                                </div>
                                <div class="form-group">
                                    <label>
                                        <input type="checkbox" checklist-model="ProtectiveSafeGuard.Safeguards" checklist-value="'P-9 Dust Removal System must be operational and adequate for the exposure that will accommodate the work space for all operations involving the shaving, planing, finishing or similar operations performed on wood or metal which result in dust or wood/metal shavings.'">
                                        <strong>P-9</strong> Dust Removal System must be operational and adequate for the exposure that will accommodate the work space for all operations involving the shaving, planing, finishing or similar operations performed on wood or metal which result in dust or wood/metal shavings.
                                    </label>
                                </div>
                                <div class="form-group">
                                    <label>
                                        <input type="checkbox" checklist-model="ProtectiveSafeGuard.Safeguards" checklist-value="'P-9 Smoke detection devised: Smoke detection devices in each unit that are operational and maintained by semi-annual maintenance program.'">
                                        <strong>P-9</strong> Smoke detection devised: Smoke detection devices in each unit that are operational and maintained by semi-annual maintenance program.
                                    </label>
                                </div>
                                <div class="form-group">
                                    <label>
                                        <input type="checkbox" checklist-model="ProtectiveSafeGuard.Safeguards" checklist-value="'P-9 Flammable materials must be stored in approved NFPA storage containers. Any used flammable materials must be disposed of in approved NFPA disposal containers.'">
                                        <strong>P-9</strong> Flammable materials must be stored in approved NFPA storage containers. Any used flammable materials must be disposed of in approved NFPA disposal containers.
                                    </label>
                                </div>
                                <div class="form-group">
                                    <label>
                                        <input type="checkbox" checklist-model="ProtectiveSafeGuard.Safeguards" checklist-value="'P-9 NFPA33 approved spray booth with proper exhaust system and fire extinguishing system'">
                                        <strong>P-9</strong> NFPA33 approved spray booth with proper exhaust system and fire extinguishing system
                                    </label>
                                </div>
                                <div class="form-group">
                                    <label>
                                        <input type="checkbox" checklist-model="ProtectiveSafeGuard.Safeguards" checklist-value="'P-9 Property to be fully secured against unauthorized entry and visited at least every two weeks by the insured or a representative of the insured.'">
                                        <strong>P-9</strong> Property to be fully secured against unauthorized entry and visited at least every two weeks by the insured or a representative of the insured.
                                    </label>
                                </div>
                                <div class="form-group">
                                    <label>
                                        <strong>Custom P-9</strong>
                                        <textarea class="form-control" ng-model="CustomSafeGuard" style="height: 66px;width: 870px;"></textarea>
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="form-body">
                                <div class="form-group" ng-show="ProtectiveSafeGuard.PropertyId == null">
                                    <label><strong>Locations</strong></label>
                                    <div style="max-height:200px;overflow-y:auto;">
                                        <div class="col-xs-12" ng-repeat="location in Locations | orderBy: 'LocationNumber'">
                                            <div class="col-xs-12" ng-repeat="property in location.Properties | orderBy: 'BuildingNumber'">
                                                <label>
                                                    <input type="checkbox" checklist-model="ProtectiveSafeGuard.Properties" checklist-value="property.Id">{{location.LocationNumber}} - {{property.BuildingNumber}}  {{location.Address.ShortAddress}}
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <div ng-show="Errors.length > 0" class="alert alert-danger" role="alert" style="margin-top:10px;">
                                    <ul>
                                        <li ng-repeat="error in Errors">
                                            {{error}}
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>

        <div class="row" ng-show="ErrorList.length > 0">
            <div class="col-md-12">
                <div class="alert alert-danger">
                    <ul>
                        <li ng-repeat="error in ErrorList">
                            {{error}}
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="modal-push">
        </div>
    </div>
    <div class="modal-footer">
        <div id="modalProperty_commands">
            <button id="modalProperty_close" type="button" data-dismiss="modal" class="btn btn-default" ng-click="close()">Close</button>
            <button id="modalProperty_ok" type="button" ng-if="ProtectiveSafeGuard.PropertyId == null" class="btn yellow-casablanca" ng-click="add()">Add</button>
            <button id="modalProperty_ok" type="button" ng-if="ProtectiveSafeGuard.PropertyId != null" class="btn yellow-casablanca" ng-click="update()">Update</button>
        </div>
    </div>
</script>

<script type="text/ng-template" id="copyProperty.html">
    <div class="modal-header">
        <h4 class="modal-title">Copy Structure</h4>
    </div>
    <div class="modal-body">
        <div class="row">
            <form class="form-horizontal" role="form">
                <div class="scrollable">
                    <div class="col-md-12">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label for="LocationNumber" class="control-label"><strong>Location</strong></label>
                            </div>
                            <div class="form-group">
                                <select class="form-control input-sm" ng-options="'Location ' + location.LocationNumber + ' - ' + location.Address.ShortAddress for location in Locations | orderBy: 'LocationNumber'" ng-model="Location"></select>
                            </div>

                            <div class="form-group">
                                <label for="LocationNumber" class="control-label"><strong>Structure Type</strong></label>
                            </div>
                            <div class="form-group">
                                <div>
                                    <label>
                                        {{Property.PropertyType}}
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>

        <div class="modal-push">
        </div>
    </div>
    <div class="modal-footer">
        <div id="modalProperty_commands">
            <button id="modalProperty_close" type="button" data-dismiss="modal" class="btn btn-default" ng-click="close()">Close</button>
            <button id="modalProperty_ok" type="button" class="btn btn-primary" ng-click="add()">Add</button>
        </div>
    </div>
</script>

<script type="text/ng-template" id="addProperty.html">
    <div class="modal-header">
        <h4 class="modal-title">Add New Structure</h4>
    </div>
    <div class="modal-body">
        <div class="row">
            <form class="form-horizontal" role="form">
                <div class="scrollable">
                    <div class="col-md-12">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label for="LocationNumber" class="control-label"><strong>Location</strong></label>
                            </div>
                            <div class="form-group">
                                <select class="form-control input-sm" ng-options="'Location ' + location.LocationNumber + ' - ' + location.Address.ShortAddress for location in Locations | orderBy: 'LocationNumber'" ng-model="Location"></select>
                            </div>

                            <div class="form-group">
                                <label for="LocationNumber" class="control-label"><strong>Structure Type</strong></label>
                            </div>
                            <div class="form-group">
                                <div>
                                    <ui-select ng-model="Property.PropertyType"
                                               append-to-body="true"
                                               theme="bootstrap"
                                               ng-disabled="!parent.canModify()"
                                               reset-search-input="false"
                                               on-select=""
                                               ng-change="Property.PropertyType == 'Building' ? Property.OccupancyType = 'Occupied' : Property.OccupancyType = null">
                                        <ui-select-match placeholder="Select a Structure Type">{{$select.selected}}</ui-select-match>
                                        <ui-select-choices repeat="value in additionalStructures | filter: $select.search">
                                            <div ng-bind-html="value | highlight: $select.search">
                                            </div>
                                        </ui-select-choices>
                                    </ui-select>
                                </div>
                            </div>

                            <div class="form-group" ng-if="Property.PropertyType == 'Building'">
                                <label for="LocationNumber" class="control-label"><strong>Occupancy Type</strong></label>
                            </div>
                            <div class="form-group" ng-if="Property.PropertyType == 'Building'">
                                <div class="col-md-3">
                                    <input type="radio" ng-model="Property.OccupancyType" value="Occupied" />
                                    Occupied
                                </div>
                                <div class="col-md-3">
                                    <input type="radio" ng-model="Property.OccupancyType" value="Vacant" />
                                    Vacant
                                </div>
                                <div class="col-md-3">
                                    <input type="radio" ng-model="Property.OccupancyType" value="Builder's Risk" />
                                    Builder's Risk
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>

        <div class="modal-push">
        </div>
    </div>
    <div class="modal-footer">
        <div id="modalProperty_commands">
            <button id="modalProperty_close" type="button" data-dismiss="modal" class="btn btn-default" ng-click="close()">Close</button>
            <button id="modalProperty_ok" type="button" class="btn btn-primary" ng-click="add()">Add</button>
        </div>
    </div>
</script>

<script type="text/ng-template" id="addPropertyDeductible.html">
    <div class="modal-header">
        <h4 class="modal-title" ng-if="!isUpdate">Add New Property Deductible</h4>
        <h4 class="modal-title" ng-if="isUpdate">Edit Property Deductible</h4>
    </div>

    <div class="modal-body">
        <div class="row">
            <form class="form-horizontal" role="form">
                <div class="scrollable">
                    <div class="col-md-12">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label for="" class="col-sm-4 control-label">Type</label>
                                <div class="col-sm-8">
                                    <ui-select ng-model="propertyDeductible.Name"
                                               append-to-body="true"
                                               theme="bootstrap"
                                               ng-disabled="!parent.canModify() || lockedDown"
                                               reset-search-input="false"
                                               on-select=""
                                               ng-change="checkDeductibleSelected()">
                                        <ui-select-match placeholder="Select a Property Deductible">{{$select.selected}}</ui-select-match>
                                        <ui-select-choices repeat="value in GetScheduleCharacteristicValues('Property Deductibles') | filter: $select.search">
                                            <div ng-bind-html="value | highlight: $select.search">
                                            </div>
                                        </ui-select-choices>
                                    </ui-select>
                                </div>
                            </div>

                            <div class="form-group" ng-show="!isSelectionListDeductible(propertyDeductible)">
                                <label for="" class="col-sm-4 control-label">Amount</label>
                                <div class="col-sm-8">
                                    <div class="input-group">
                                        <span class="input-group-addon">$</span>
                                        <input type="text" class="form-control input-sm currency" ng-disabled="!parent.canModify()" ng-model="propertyDeductible.Amount" data-mask="#" style="height:30px">
                                    </div>
                                </div>
                            </div>

                            <div class="form-group" ng-show="isSelectionListDeductible(propertyDeductible)">
                                <label for="" class="col-sm-4 control-label">Amount</label>
                                <div class="col-sm-8">
                                    <ui-select ng-model="propertyDeductible.Amount"
                                               append-to-body="true"
                                               theme="bootstrap"
                                               ng-disabled="parent.Policy.Bound || (parent.SubmitForBind() && submitReviewer == false)"
                                               reset-search-input="false"
                                               on-select="">
                                        <ui-select-match placeholder="Select a Deductible">{{$select.selected}}</ui-select-match>
                                        <ui-select-choices repeat="value in GetScheduleCharacteristicValues(propertyDeductible.Name) | filter: $select.search">
                                            <div ng-bind-html="value | highlight: $select.search">
                                            </div>
                                        </ui-select-choices>
                                    </ui-select>
                                </div>
                            </div>

                            <div class="form-group" ng-show="isSelectionListDeductible(propertyDeductible) && isAmountPercentage()">
                                <label for="" class="col-sm-4 control-label">Subject To Minimum Of</label>
                                <div class="col-sm-8">
                                    <div class="input-group">
                                        <span class="input-group-addon">$</span>
                                        <input type="text" class="form-control input-sm currency" 
                                               ng-disabled="!parent.canModify()" 
                                               ng-model="propertyDeductible.SubjectToMinimumOf" data-mask="#" style="height:30px">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </form>

            <div class="col-md-12">
                <div class="form-body">
                    
                    <div class="form-group" ng-show="propertyDeductible.PropertyId == null">
                        <label><strong>Locations</strong></label>
                        <div style="max-height:200px;overflow-y:auto;">
                            <div class="col-xs-12" ng-repeat="location in Locations | orderBy: 'LocationNumber'">
                                <div class="col-xs-12" ng-repeat="property in location.Properties | orderBy: 'BuildingNumber'">
                                    <label>
                                        <input type="checkbox" checklist-model="deductibleProperties" checklist-value="property.Id" ng-disabled="property.ExcludeWindHail && isWindDeductibleSelected()" />
                                        &nbsp;{{location.LocationNumber}} - {{property.BuildingNumber}}:  {{location.Address.ShortAddress}}
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group" ng-show="propertyDeductible.PropertyId != null && isUpdate">
                        <label><strong>Locations</strong></label>
                        <div style="margin-bottom: 5px">
                            <span>
                                <button type="button" class="btn btn-link btn-xs" style="margin: 0" ng-click="selectAllProperties()">Select All</button>
                                /
                                <button type="button" class="btn btn-link btn-xs" style="margin: 0" ng-click="selectSimilarProperties()">Select Same</button>
                                /
                                <button type="button" class="btn btn-link btn-xs" style="margin: 0" ng-click="deselectAllProperties()">Deselect All</button>
                            </span>
                        </div>
                        <div style="max-height:200px;overflow-y:auto;">
                            
                            <table class="table table-sm">
                                <thead>
                                    <tr>
                                        <th class="col-md-1"></th>
                                        <th class="col-md-2">Loc/Bdg</th>
                                        <th class="col-md-5">Address</th>
                                        <th class="col-md-2">Amount</th>
                                        <th class="col-md-2">Subj. To</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="property in PropertiesWithSameDeductible | orderBy: ['LocationNumber', 'BuildingNumber']">
                                        <td><input type="checkbox" ng-model="property.Selected" ng-disabled="property.Disabled" /></td>
                                        <td>{{property.LocationNumber}} - {{property.BuildingNumber}}</td>
                                        <td>{{property.ShortAddress}}</td>
                                        <td>{{formatNonApplicableEntry(property.Amount)}}</td>
                                        <td>{{property.SubjectToMinimumOf}}</td>
                                    </tr>
                                </tbody>
                            </table>  
                                         
                        </div>
                    </div>

                </div>
            </div>
        </div>

        <div class="row" ng-show="ErrorList.length > 0">
            <div class="col-md-12">
                <div class="alert alert-danger">
                    <ul>
                        <li ng-repeat="error in ErrorList">
                            {{error}}
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="modal-push">
        </div>
    </div>
    <div class="modal-footer">
        <div id="modalProperty_commands">
            <button id="modalProperty_close" type="button" data-dismiss="modal" class="btn btn-default" ng-click="close()">Close</button>
            <button id="modalProperty_ok" type="button" class="btn yellow-casablanca" ng-click="add()">{{propertyDeductible.Id == null ? "Add" : "Update"}}</button>
        </div>
    </div>
</script>

<script type="text/ng-template" id="test_Commercial_Lines_EDPCoverage.html">
    <div class="modal-header">
        <h4 class="modal-title">EDP Coverage</h4>
    </div>
    <div class="modal-body">
        <div class="row">
            <form class="form-horizontal" role="form">
                <div class="scrollable">
                    <div class="col-md-12">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label for="" class="col-sm-4 control-label">Limit</label>
                                <div class="col-sm-8">
                                    <div class="input-group">
                                        <span class="input-group-addon">$</span>
                                        <input type="text" class="form-control input-sm currency" ng-disabled="!parent.canModify()" ng-model="limit" data-mask="#" style="height:30px">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>

        <div class="modal-push">
        </div>
    </div>
    <div class="modal-footer">
        <div id="modalProperty_commands">
            <button id="modalProperty_close" type="button" data-dismiss="modal" class="btn btn-default" ng-click="close()">Close</button>
            <button id="modalProperty_ok" type="button" class="btn btn-primary" ng-click="save()">Save</button>
        </div>
    </div>
</script>

<script type="text/ng-template" id="template.html">
    <div class="modal-header">
        <h4 class="modal-title">Field Description</h4>
    </div>
    <div class="modal-body">
        <div data-ng-include="'/Views/Company/test/Guidelines/'+ guideline +'.html'"></div>
        <div class="modal-push">
        </div>
    </div>
    <div class="modal-footer">
        <div id="modalProperty_commands">
            <button id="modalProperty_close" type="button" data-dismiss="modal" class="btn btn-default" ng-click="close()">Close</button>
        </div>
    </div>
</script>