<link href='https://fonts.googleapis.com/css?family=Lato:100,300,400,700,900,100italic,300italic,400italic,700italic' rel='stylesheet' type='text/css'>

<div class="page-header visible-xs">
  <h3>Rate</h3>
</div>

<div class="row" style="margin-top: 10px">

  <!-- Errors -->
  <div class="col-md-12" ng-show="Errors.length > 0">
    <div class="alert alert-danger">
      <h4>Oops...</h4>
      <ul>
        <li ng-repeat="error in Errors">
          {{error}}
        </li>
      </ul>
    </div>
  </div>

  <div class="col-md-12" ng-show="Errors.length == 0 && HidePage == false">
    <div class="row" style="margin-bottom: 20px" ng-show="isPackage()">
      <div style="position: absolute; left: 30px;">
        <div style="height: 30px; color: black;">
          <button tooltip-placement="bottom" tooltip="Split your package quote into two monoline quotes" class="btn btn-default" style="font-size: 1em; padding-left: 10px; padding-right: 10px;" ng-click="openSplitPackageQuoteModal()">
            <div style="display: inline; color: black;"><i class="fas fa-unlink"></i></div>
            &nbsp;&nbsp;Split Package Quote
          </button>
        </div>
      </div>
    </div>

    <div class="row" style="margin-bottom: 20px">
      <div class="col-md-12">
        <div style="margin-top: 10px">
          <div style="margin: 0 auto; width: 200px;" ng-show="canRerate()">
            <button class="btn btn-block" style="font-size: 1.5em; background-color: #4bc8b5; color: #fff;" ng-click="checkEligibility()">
              Rate
            </button>
          </div>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-lg-6 col-md-12">
        <div class="row" style="margin-bottom: 10px;">
          <div class="col-md-12" style="text-align: center; font-family: 'Lato'; font-size: 1.75em; margin-bottom: 18px;">
            Select an Insurance Market
          </div>
          <div class="col-md-12">
            <div class="col-lg-6 col-md-4 col-sm-4 col-xs-12" style="margin-bottom: 25px;" ng-repeat="riskCompany in OrderedRiskCompanies" ng-style="{'min-height' : (parent.Policy.CurrentVersion.Coverages.length * 35) + 220 }" ng-hide="hideRiskCompany(riskCompany)">
              <div style="border: 1px solid #f0f0f0;" id="box-{{riskCompany.Id}}" ng-class="{ 'safety': isDeclined(riskCompany) && getRiskCompanyName(riskCompany) == 'Safety Specialty', 'declined': isDeclined(riskCompany) && getRiskCompanyName(riskCompany) != 'Safety Specialty', 'box-bordered': isRiskCompanySelected(riskCompany.Id) }" ng-hide="isCustomPackage(riskCompany.Id)">
                <div ng-click="selectRiskCompany(riskCompany)" ng-class="{ 'safety': isDeclined(riskCompany) && getRiskCompanyName(riskCompany) == 'Safety Specialty', 'declined': isDeclined(riskCompany) && getRiskCompanyName(riskCompany) != 'Safety Specialty', 'active': isRiskCompanySelected(riskCompany.Id) }" class="carrier-header" id="header-{{riskCompany.Id}}" style="">{{getRiskCompanyName(riskCompany)}}</div>
                <div style="text-align: center; font-size: 2em; margin-bottom: 20px" ng-if="!riskCompany.ratingInProgress">
                  <span ng-if="!parent.isRiskCompanyDeclined(riskCompany.Id)">{{(parent.Policy.CurrentVersion.Premiums | filter:{RiskCompanyId:riskCompany.Id})[0].Premium | currency:"$":0}}</span>
                  <span ng-class="{ 'font-red': getRiskCompanyName(riskCompany) != 'Safety Specialty', 'property-option': getRiskCompanyName(riskCompany) == 'Safety Specialty' }" ng-if="parent.isRiskCompanyDeclined(riskCompany.Id)">{{getRiskCompanyName(riskCompany) == "Safety Specialty" ? "Property Option" : "Declined"}}</span>
                </div>
                <div style="margin-bottom: 10px; padding-left: 15px; padding-right: 15px;" ng-hide="(getRiskCompanyName(riskCompany) == 'Safety Specialty' && coverage.Name == 'Liability')" ng-repeat="coverage in parent.Policy.CurrentVersion.Coverages | orderBy: 'Index'" ng-if="(RatingQuestions | filter:{RiskCompanyId:riskCompany.Id, Answer:null}).length == 0 && !riskCompany.ratingInProgress">
                    <button class="btn btn-default btn-sm" tooltip="{{coverage.Name == 'TRIA' ? '' : coverage.Name == 'Liquor Liability' ? isLiquorEligible(riskCompany) ? !isLiquorLiabilityDeclined(riskCompany, coverage) ? '' : 'Please enter a valid Liquor Liability Exposure' : 'Liquor Liability is not available for this Market' : 'Click to see details'}}" style="width: 100%" ng-click="showRiskCompanyCoverage(riskCompany, coverage.Name)">
                        <span style="float: left">{{coverage.Name == 'Liability' ? 'General Liability' : coverage.Name}}</span>
                        <span ng-if="coverage.Name == 'Property'">
                            <span style="float: right" class="font-red" ng-if="isPropertyDeclined(riskCompany, coverage)">Declined</span>
                            <span style="float: right" class="font-blue-sharp" ng-if="(parent.Policy.CurrentVersion.ContractDeclines | filter: { RiskCompanyId : riskCompany.Id }).length > 0 && ((parent.Policy.CurrentVersion.ContractDeclines | filter: { RiskCompanyId : riskCompany.Id })[0].Reasons | filter: {CoverageName: coverage.Name}).length == 0 && ((parent.Policy.CurrentVersion.Premiums | filter:{RiskCompanyId:riskCompany.Id})[0].Breakdown | filter: { Coverage:coverage.Name})[0].Amount == 0">Included</span>
                        </span>
                        <span ng-if="coverage.Name == 'TRIA'">
                            <span style="float: right" class="font-red" ng-if="isPropertyDeclined(riskCompany, coverage)">Declined</span>
                            <span style="float: right" class="font-blue-sharp" ng-if="(parent.Policy.CurrentVersion.ContractDeclines | filter: { RiskCompanyId : riskCompany.Id }).length > 0 && ((parent.Policy.CurrentVersion.ContractDeclines | filter: { RiskCompanyId : riskCompany.Id })[0].Reasons | filter: {CoverageName: coverage.Name}).length == 0 && ((parent.Policy.CurrentVersion.Premiums | filter:{RiskCompanyId:riskCompany.Id})[0].Breakdown | filter: { Coverage:coverage.Name})[0].Amount == 0">Included</span>
                        </span>
                        <span ng-if="coverage.Name == 'Liability'">
                            <span style="float: right" class="font-red" ng-if="parent.isRiskCompanyDeclined(riskCompany.Id) || isLiabilityDeclined(riskCompany, coverage)">Declined</span>
                            <span style="float: right" class="font-blue-sharp" ng-if="(parent.Policy.CurrentVersion.ContractDeclines | filter: { ContractId : riskCompany.ContractId }).length > 0 && ((parent.Policy.CurrentVersion.ContractDeclines | filter: { ContractId : riskCompany.ContractId })[0].Reasons | filter: {CoverageName: coverage.Name}).length == 0 && ((parent.Policy.CurrentVersion.Premiums | filter:{RiskCompanyId:riskCompany.Id})[0].Breakdown | filter: { Coverage:coverage.Name})[0].Amount == 0">Included</span>
                        </span>
                        <span ng-if="coverage.Name == 'Liquor Liability'">
                            <span style="float: right" class="font-red" ng-if="isLiquorLiabilityDeclined(riskCompany, coverage)">Declined</span>
                        </span>
                        <span ng-if="coverage.Name == 'Inland Marine'">
                            <span style="float: right" class="font-blue-sharp" ng-if="riskCompany.Name != 'RSUI Covington'">Not Offered</span>
                            <span style="float: right" class="font-red" ng-if="riskCompany.Name == 'RSUI Covington' && isInlandMarineDeclined(riskCompany, coverage)">Declined</span>
                        </span>
                        <span ng-if="coverage.Name == 'Equipment Breakdown'">
                            <span style="float: right" class="font-red" ng-if="isEQBDeclined(riskCompany, coverage)">Declined</span>
                            <span style="float: right" class="font-blue-sharp" ng-if="!isEQBDeclined(riskCompany, coverage)">{{getEquipmentBreakdownPremium(riskCompany) | currency:"$":0}}</span>
                        </span>
                        <span style="float: right" class="font-blue-sharp" ng-if="coverage.Name == 'Property' && !isPropertyDeclined(riskCompany, coverage) && (riskCompany.Coverages | filter: coverage.Name).length > 0 && ((parent.Policy.CurrentVersion.Premiums | filter:{RiskCompanyId:riskCompany.Id})[0].Breakdown | filter: { Coverage:coverage.Name})[0].Amount > 0">{{getCoveragePremium(riskCompany, coverage) | currency:"$":0}}</span>
                        <span style="float: right" class="font-blue-sharp" ng-if="coverage.Name == 'TRIA' && !isPropertyDeclined(riskCompany, coverage) && (riskCompany.Coverages | filter: coverage.Name).length > 0 && ((parent.Policy.CurrentVersion.Premiums | filter:{RiskCompanyId:riskCompany.Id})[0].Breakdown | filter: { Coverage:coverage.Name})[0].Amount > 0">{{getCoveragePremium(riskCompany, coverage) | currency:"$":0}}</span>
                        <span style="float: right" class="font-blue-sharp" ng-if="coverage.Name == 'Liquor Liability' && !isLiquorLiabilityDeclined(riskCompany, coverage)">{{getCoveragePremium(riskCompany, coverage) | currency:"$":0}}</span>
                        <span style="float: right" class="font-blue-sharp" ng-if="coverage.Name == 'Liability' && !parent.isRiskCompanyDeclined(riskCompany.Id) && !isLiabilityDeclined(riskCompany, coverage)">{{getCoveragePremium(riskCompany, coverage) | currency:"$":0}}</span>
                        <span style="float: right" class="font-blue-sharp" ng-if="coverage.Name == 'Inland Marine' && !isInlandMarineDeclined(riskCompany, coverage) && riskCompany.Name == 'RSUI Covington'">{{getCoveragePremium(riskCompany, coverage) | currency:"$":0}}</span>
                    </button>
                </div>
                <!--<div style="margin-bottom: 10px; padding-left: 15px; padding-right: 15px;" ng-if="!riskCompany.ratingInProgress && parent.Policy.CurrentVersion.InlandMarineCoverages.length >= 0 && (parent.Policy.CurrentVersion.Coverages | filter: { Name:'Property' }).length > 0
                                        && (parent.Policy.CurrentVersion.Coverages | filter: { Name:'Inland Marine' }).length == 0">
                  <button class="btn btn-default btn-sm" style="width: 100%" ng-hide="getRiskCompanyName(riskCompany) == 'Safety Specialty'" ng-click="openInlandMarineCoverages(riskCompany)">
                    <span style="float: left">Inland Marine</span>
                    <span>
                      <span style="float: right" class="font-blue-sharp" ng-if="riskCompany.Name != 'RSUI Covington'">Not Offered</span>
                      <span style="float: right" class="font-blue-sharp" ng-if="riskCompany.Name == 'RSUI Covington'">Not Included</span>
                    </span>
                  </button>
                </div>-->
                <div style="margin-bottom: 10px; padding-left: 15px; padding-right: 15px;" ng-if="!riskCompany.ratingInProgress && isMPApplied(riskCompany.Id)" ng-click="toggleIgnoreMP(riskCompany.Id)">
                  <div class="btn btn-default btn-sm" style="width:100%">
                    <span style="float:left">Minimum Premium</span>
                    <input type="checkbox" style="margin-top: 2px; float: right;" ng-checked="!(parent.Policy.CurrentVersion.Premiums | filter:{RiskCompanyId:riskCompany.Id})[0].IgnoreMP" ng-disabled="!parent.canModify()" />
                  </div>
                </div>
                <div style="margin-bottom: 10px; padding-left: 15px; padding-right: 15px;" ng-if="!riskCompany.ratingInProgress">
                  <div ng-if="!parent.SubmitRequired(riskCompany.Id)">
                    <button ng-hide="submitReviewer || hideSubmitButton(riskCompany) || parent.isRiskCompanyDeclined(riskCompany.Id)"
                            style="width: 100%;" class="btn btn-sm blue-steel" ng-click="submitQuote(riskCompany.Id, false)"
                            ng-if="!parent.HasSubmitRequest(riskCompany.Id)">
                      Submit
                    </button>
                    <button ng-disabled="true" style="width: 100%;" class="btn blue-sharp btn-sm"
                            ng-if="parent.HasSubmitRequest(riskCompany.Id)">
                      Submit Requested
                    </button>
                  </div>
                  <div ng-if="parent.SubmitRequired(riskCompany.Id)">
                    <button ng-hide="submitReviewer || parent.isRiskCompanyDeclined(riskCompany.Id)" style="width: 100%;" class="btn yellow-casablanca btn-sm" ng-click="submitQuote(riskCompany.Id)" ng-if="!parent.SubmitApproved(riskCompany.Id) && !parent.SubmitRequested(riskCompany.Id)">
                      Request Approval
                    </button>
                    <button ng-disabled="true" style="width: 100%;" class="btn blue-sharp btn-sm" ng-if="!parent.SubmitApproved(riskCompany.Id) && parent.SubmitRequested(riskCompany.Id)">
                      Approval Requested
                    </button>
                    <button style="width: 100%;" class="btn green-jungle btn-sm" ng-if="parent.SubmitApproved(riskCompany.Id)" tooltip="Additional changes maybe subject to additional approval.">
                      Submit Approved
                    </button>
                    <button ng-hide="parent.isRiskCompanyDeclined(riskCompany.Id)" style="width: 100%; margin: 0; margin-top:10px" class="btn yellow-casablanca btn-sm" ng-click="submitQuote(riskCompany.Id)" ng-if="submitReviewer">
                      Submit Reason
                    </button>
                  </div>
                </div>
                <div ng-if="riskCompany.ratingInProgress" style="text-align: center;font-size: 1.2em;height: 100px;margin-top: 50px;">
                  <span>Rating in Progress</span>
                  <span><i class="fa fa-spinner fa-spin" aria-hidden="true"></i></span>
                </div>
              </div>

              <!-- CUSTOM PACKAGE -->
              <div style="border: 1px solid #f0f0f0;" id="box-{{riskCompany.Id}}" ng-class="{ 'declined': IsCustomPackageDeclined(riskCompany.Id), 'box-bordered': isRiskCompanySelected(riskCompany.Id) }" ng-if="isCustomPackage(riskCompany.Id) && showCustomPackage(riskCompany.Id)">
                <div ng-click="selectRiskCompany(riskCompany)" ng-class="{ 'declined': IsCustomPackageDeclined(riskCompany.Id), 'active': isRiskCompanySelected(riskCompany.Id) }" class="carrier-header" id="header-{{riskCompany.Id}}" style="">{{getCustomPackageRiskCompanyName(riskCompany.Id)}}</div>
                <!-- TOTAL PREMIUM -->
                <div style="text-align: center; font-size: 2em; margin-bottom: 20px" ng-if="!riskCompany.ratingInProgress">
                  <span ng-if="!IsCustomPackageDeclined(riskCompany.Id)">{{getCustomPackageTotalBasePremium(riskCompany.Id) | currency : "$" : 0}}</span>
                  <span ng-if="IsCustomPackageDeclined(riskCompany.Id)" class="font-red">Declined</span>
                </div>

                <!-- COVERAGE PREMIUM -->
                <div style="margin-bottom: 10px; padding-left: 15px; padding-right: 15px;" ng-repeat="coverage in getCustomPackageCoverages(riskCompany.Id)" ng-if="!riskCompany.ratingInProgress">
                  <button class="btn btn-default btn-sm" tooltip="Click to see details" style="width: 100%" ng-click="openCustomPackageRiskCompanyCoverage(coverage.riskCompanyId, coverage.Name, riskCompany.Id)">
                    <span style="float: left">{{coverage.Name == "Liability" ? "General Liability" : coverage.Name}}</span>
                    <span style="float: left" class="font-blue-sharp">&nbsp;({{getCustomPackageCoverageRiskCompany(coverage.Name, riskCompany.Id).ShortName}})</span>
                    <span ng-if="!IsCustomPackageCoverageDeclined(coverage.Name, riskCompany.Id)" style="float: right" class="font-blue-sharp">{{getCustomPackageCoveragePremium(coverage.Name, riskCompany.Id) | currency:"$":0}}</span>
                    <span ng-if="IsCustomPackageCoverageDeclined(coverage.Name, riskCompany.Id)" style="float: right" class="font-red">Declined</span>
                  </button>
                </div>

                <!-- CUSTOM PACKAGE TRIA -->
                <div style="margin-bottom: 10px; padding-left: 15px; padding-right: 15px;" ng-if="getCoveragePremiumByRiskCompanyId(riskCompany.Id, 'TRIA') && !riskCompany.ratingInProgress">
                  <button class="btn btn-default btn-sm" style="width: 100%">
                    <span style="float: left">TRIA</span>
                    <span style="float: right" class="font-blue-sharp">{{getCoveragePremiumByRiskCompanyId(riskCompany.Id, "TRIA") | currency : "$" : 0}}</span>
                  </button>
                </div>

                <!-- CUSTOM PACKAGE EQB -->
                <div style="margin-bottom: 10px; padding-left: 15px; padding-right: 15px;" ng-if="policyHasEquipmentBreakdown() && !riskCompany.ratingInProgress">
                  <button class="btn btn-default btn-sm" style="width: 100%">
                    <span style="float: left">Equipment Breakdown</span>
                    <span style="float: right" class="font-red" ng-if="IsCustomPackageEqbCoverageDeclined(riskCompany.Id)">Declined</span>
                    <span style="float: right" class="font-blue-sharp" ng-if="!IsCustomPackageEqbCoverageDeclined(riskCompany.Id)">{{getCustomPackageEqbPremium(riskCompany.Id) | currency:"$":0}}</span>
                  </button>
                </div>

                <!-- SUBMIT -->
                <div style="margin-bottom: 10px; padding-left: 15px; padding-right: 15px;" ng-if="!riskCompany.ratingInProgress">
                  <div ng-if="!parent.SubmitRequired(riskCompany.Id)">
                    <button ng-hide="submitReviewer || hideSubmitButton(riskCompany) || IsCustomPackageDeclined(riskCompany.Id)"
                            style="width: 100%;" class="btn btn-sm blue-steel" ng-click="submitQuote(riskCompany.Id, false)"
                            ng-if="!parent.HasSubmitRequest(riskCompany.Id)">
                      Submit
                    </button>
                    <button ng-disabled="true" style="width: 100%;" class="btn blue-sharp btn-sm"
                            ng-if="parent.HasSubmitRequest(riskCompany.Id)">
                      Submit Requested
                    </button>
                  </div>
                  <div ng-if="parent.SubmitRequired(riskCompany.Id)">
                    <button ng-hide="submitReviewer || IsCustomPackageDeclined(riskCompany.Id)" style="width: 100%;" class="btn yellow-casablanca btn-sm" ng-click="submitQuote(riskCompany.Id)" ng-if="!parent.SubmitApproved(riskCompany.Id) && !parent.SubmitRequested(riskCompany.Id)">
                      Request Approval
                    </button>
                    <button ng-disabled="true" style="width: 100%;" class="btn blue-sharp btn-sm" ng-if="!parent.SubmitApproved(riskCompany.Id) && parent.SubmitRequested(riskCompany.Id)">
                      Approval Requested
                    </button>
                    <button style="width: 100%;" class="btn green-jungle btn-sm" ng-if="parent.SubmitApproved(riskCompany.Id)" tooltip="Additional changes maybe subject to additional approval.">
                      Submit Approved
                    </button>
                    <button ng-hide="IsCustomPackageDeclined(riskCompany.Id)" style="width: 100%; margin: 0; margin-top:10px" class="btn yellow-casablanca btn-sm" ng-click="submitQuote(riskCompany.Id)" ng-if="submitReviewer">
                      Submit Reason
                    </button>
                  </div>
                </div>

                <div ng-if="riskCompany.ratingInProgress" style="text-align: center;font-size: 1.2em;height: 100px;margin-top: 50px;">
                  <span>Rating in Progress</span>
                  <span><i class="fa fa-spinner fa-spin" aria-hidden="true"></i></span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="col-lg-6 col-md-12" ng-if="!ratingInProgress">
        <div class="col-md-12" style="text-align: center; font-family: 'Lato'; font-size: 1.75em; margin-bottom: 18px;">
          Eligibility/Rating Questions
        </div>

        <!-- Focused Market Questions -->
        <div class="col-md-12" ng-if="!isCustomPackage(FocusedRiskCompanyId)">
          <div class="row" ng-class="{ 'safety': parent.isRiskCompanyDeclined(FocusedRiskCompanyId) && FocusedRiskCompanyId == 'f20153c2-7b31-42f0-b3cb-26c6bc82eaf0', 'declined': parent.isRiskCompanyDeclined(FocusedRiskCompanyId) && FocusedRiskCompanyId != 'f20153c2-7b31-42f0-b3cb-26c6bc82eaf0', 'box-bordered': FocusedRiskCompanyId }" style="border: 1px solid #f0f0f0;">
            <div class="col-md-12 question-header" ng-class="{ 'safety': parent.isRiskCompanyDeclined(FocusedRiskCompanyId) && FocusedRiskCompanyId == 'f20153c2-7b31-42f0-b3cb-26c6bc82eaf0', 'declined': parent.isRiskCompanyDeclined(FocusedRiskCompanyId) && FocusedRiskCompanyId != 'f20153c2-7b31-42f0-b3cb-26c6bc82eaf0', 'active': FocusedRiskCompanyId }" style="margin: 0;">{{getQuestionHeader(FocusedRiskCompanyId)}}</div>

            <div style="margin: 0; padding: 0" ng-show="FocusedRiskCompanyId">
              <div class="col-md-12" style="margin-top: 5px; margin-bottom: 5px; padding: 0" ng-if="getQuestionCount(FocusedRiskCompanyId) == 0">
                <label class="col-md-12 col-sm-12 col-xs-12" style="text-align: center; margin-top: 5px; margin-bottom: 5px;">
                  No eligibility and rating questions available.
                </label>
              </div>

                            <div class="col-md-12" style="margin-top: 5px; margin-bottom: 5px; padding: 0" ng-if="getQuestionCount(FocusedRiskCompanyId) > 0">
                                <!-- Eligibility Questions -->
                                <!-- NON-RLI Question -->
                                <div class="col-md-12 form-group" style="margin-top: 5px; margin-bottom: 5px; padding: 0;" ng-repeat="eligibility in getEligibilityQuestions(FocusedRiskCompanyId) | orderBy: 'Question'">
                                    <label class="col-md-9 col-sm-9 col-xs-9 control-label" ng-click="eligibility.showAppliesTo = !eligibility.showAppliesTo">{{eligibility.Question}}</label>
                                    <div class="col-md-3 col-sm-3 col-xs-3  radio-list">
                                        <!-- Non-RLI -->
                                        <label class="radio-inline" ng-if="!isRLI(eligibility.RiskCompanyId) || parent.Policy.Bound || parent.Policy.IsEndorsement">
                                            <input type="radio" ng-disabled="!parent.canModify()" value="Yes" ng-model="eligibility.Answer" ng-change="adjustEligibility(eligibility)" />
                                            Yes
                                        </label>
                                        <label class="radio-inline" ng-if="!isRLI(eligibility.RiskCompanyId) || parent.Policy.Bound || parent.Policy.IsEndorsement">
                                            <input type="radio" ng-disabled="!parent.canModify()" value="No" ng-model="eligibility.Answer" ng-change="adjustEligibility(eligibility)" />
                                            No
                                        </label>
                                        <!-- RLI -->
                                        <label class="radio-inline" ng-if="isRLI(eligibility.RiskCompanyId) && !parent.Policy.Bound && !parent.Policy.IsEndorsement">
                                            <input type="radio" ng-disabled="!parent.canModify()" value="Yes" ng-model="eligibility.SelectedAnswer" ng-change="adjustEligibility(eligibility)" />
                                            Yes
                                        </label>
                                        <label class="radio-inline" ng-if="isRLI(eligibility.RiskCompanyId) && !parent.Policy.Bound && !parent.Policy.IsEndorsement">
                                            <input type="radio" ng-disabled="!parent.canModify()" value="No" ng-model="eligibility.SelectedAnswer" ng-change="adjustEligibility(eligibility)" />
                                            No
                                        </label>
                                    </div>
                                </div>
                                <!-- Rating Questions -->
                                <div class="col-md-12 form-group" style="margin-top: 5px; margin-bottom: 5px; padding: 0;" ng-repeat="rating in getRatingQuestions(FocusedRiskCompanyId) | orderBy: 'Question'">
                                    <label class="col-md-9 col-sm-9 col-xs-9 control-label">{{rating.Question}}</label>
                                    <div class="col-md-3 col-sm-3 col-xs-3 radio-list">
                                        <label class="radio-inline">
                                            <input type="radio" ng-disabled="!parent.canModify()" value="Yes" ng-model="rating.Answer" ng-change="adjustRating(rating)" />
                                            Yes
                                        </label>
                                        <label class="radio-inline">
                                            <input type="radio" ng-disabled="!parent.canModify()" value="No" ng-model="rating.Answer" ng-change="adjustRating(rating)" />
                                            No
                                        </label>
                                    </div>
                                </div>
                            </div>

              <!-- Questions Errors -->
              <div class="col-md-12" ng-show="QuestionErrors.length > 0">
                <div class="alert alert-warning">
                  <h4>Warning!</h4>
                  <ul>
                    <li ng-repeat="error in QuestionErrors">
                      {{error}}
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- CUSTOM PACKAGE QUESTIONS -->
        <div class="col-md-12" ng-if="isCustomPackage(FocusedRiskCompanyId)">
          <div class="row" ng-class="{ 'declined': IsCustomPackageDeclined(FocusedRiskCompanyId), 'box-bordered': FocusedRiskCompanyId }" style="border: 1px solid #f0f0f0;">
            <div class="col-md-12 question-header" ng-class="{ 'declined': IsCustomPackageDeclined(FocusedRiskCompanyId), 'active': FocusedRiskCompanyId }" style="margin: 0;">{{getCustomPackageRiskCompanyName(FocusedRiskCompanyId)}}</div>

            <div style="margin: 0; padding: 0" ng-show="FocusedRiskCompanyId">
              <div class="col-md-12" style="margin-top: 5px; margin-bottom: 5px; padding: 0" ng-if="getCustomPackageQuestionCount(FocusedRiskCompanyId) == 0">
                <label class="col-md-12 col-sm-12 col-xs-12" style="text-align: center; margin-top: 5px; margin-bottom: 5px;">
                  No eligibility and rating questions available.
                </label>
              </div>

                            <div class="col-md-12" style="margin-top: 5px; margin-bottom: 5px; padding: 0" ng-if="getCustomPackageQuestionCount(FocusedRiskCompanyId) > 0">
                                <div class="col-md-12 form-group" style="margin-top: 5px; margin-bottom: 5px; padding: 0;" ng-repeat="eligibility in getCustomPackageEligbilityQuestions(FocusedRiskCompanyId) | orderBy: 'Question'">
                                    <label class="col-md-9 col-sm-9 col-xs-9 control-label" ng-click="eligibility.showAppliesTo = !eligibility.showAppliesTo">{{eligibility.Question}}</label>
                                    <div class="col-md-3 col-sm-3 col-xs-3  radio-list">
                                        <!-- Non-RLI -->
                                        <label class="radio-inline" ng-if="!isRLI(eligibility.RiskCompanyId) || parent.Policy.Bound || parent.Policy.IsEndorsement">
                                            <input type="radio" ng-disabled="!parent.canModify()" value="Yes" ng-model="eligibility.Answer" ng-change="adjustEligibility(eligibility)" />
                                            Yes
                                        </label>
                                        <label class="radio-inline" ng-if="!isRLI(eligibility.RiskCompanyId) || parent.Policy.Bound || parent.Policy.IsEndorsement">
                                            <input type="radio" ng-disabled="!parent.canModify()" value="No" ng-model="eligibility.Answer" ng-change="adjustEligibility(eligibility)" />
                                            No
                                        </label>
                                        <!-- RLI -->
                                        <label class="radio-inline" ng-if="isRLI(eligibility.RiskCompanyId) && !parent.Policy.Bound && !parent.Policy.IsEndorsement">
                                            <input type="radio" ng-disabled="!parent.canModify()" value="Yes" ng-model="eligibility.SelectedAnswer" ng-change="adjustEligibility(eligibility)" />
                                            Yes
                                        </label>
                                        <label class="radio-inline" ng-if="isRLI(eligibility.RiskCompanyId) && !parent.Policy.Bound && !parent.Policy.IsEndorsement">
                                            <input type="radio" ng-disabled="!parent.canModify()" value="No" ng-model="eligibility.SelectedAnswer" ng-change="adjustEligibility(eligibility)" />
                                            No
                                        </label>
                                    </div>
                                </div>

                <div class="col-md-12 form-group" style="margin-top: 5px; margin-bottom: 5px; padding: 0;" ng-repeat="rating in getCustomPackageRatingQuestions(FocusedRiskCompanyId) | orderBy: 'Question'">
                  <label class="col-md-9 col-sm-9 col-xs-9 control-label">{{rating.Question}}</label>
                  <div class="col-md-3 col-sm-3 col-xs-3 radio-list">
                    <label class="radio-inline">
                      <input type="radio" ng-disabled="!parent.canModify()" value="Yes" ng-model="rating.Answer" ng-change="adjustRating(rating)" />
                      Yes
                    </label>
                    <label class="radio-inline">
                      <input type="radio" ng-disabled="!parent.canModify()" value="No" ng-model="rating.Answer" ng-change="adjustRating(rating)" />
                      No
                    </label>
                  </div>
                </div>
              </div>

              <div class="col-md-12" ng-show="QuestionErrors.length > 0">
                <div class="alert alert-warning">
                  <h4>Warning!</h4>
                  <ul>
                    <li ng-repeat="error in QuestionErrors">
                      {{error}}
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Confirmation -->
        <div class="col-md-12" style="margin-top: 15px; padding: 0;">
          <div class="col-md-12 form-group" style="padding: 10px 10px 10px 10px; background-color: #f0f0f0;" ng-show="FocusedRiskCompanyId != null">
            <label class="col-md-12 checkbox-inline" style="padding-left: 15px; padding-right: 15px; margin-top: 5px; margin-bottom: 5px;">
              <input type="checkbox" style="margin-right: 15px"
                     ng-model="UserReviews[FocusedRiskCompanyId]"
                     ng-click="updateUserConfirmation()"
                     ng-disabled="!parent.canModify()" />
              I confirm I have read and reviewed all eligibility and rating questions.<span style="color: red;">*</span>
            </label>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script type="text/ng-template" id="coveragesModel.html">
  <style>
    input[type="number"]::-webkit-outer-spin-button,
    input[type="number"]::-webkit-inner-spin-button {
      display: none;
      -webkit-appearance: none;
      margin: 0;
    }

    input[type="number"] {
      -moz-appearance: textfield;
    }
  </style>
  <div class="modal-header">
    <h4 class="modal-title">
      {{riskCompany.Name}}
      <button data-select2-open="single-append-text" ng-click="expandModal()" style="float: right; background-color: rgba(0, 0, 0, 0); border: none;">
        <i ng-if="!expanded" class="fa fa-expand" aria-hidden="true" style="color: white"></i>
        <i ng-if="expanded" class="fa fa-compress" aria-hidden="true" style="color: white"></i>
      </button>
    </h4>
  </div>

  <div class="modal-body">
    <div id="coverages-holder" style="overflow-y: auto;">
      <div class="well well-sm ng-scope" style="margin-bottom: 5px; background-color: #0096db; border: #4f5a67; color: white">
        <span style="font-weight: bold;" class="ng-binding">{{riskCompany.ActiveCoverage == 'Liability' ? 'General Liability' : riskCompany.ActiveCoverage}}</span>

        <span ng-if="riskCompany.ActiveCoverage === 'Property' || riskCompany.ActiveCoverage === 'Liability'">
          <span style="font-weight: bold;"> - </span>
          <span style="font-weight: bold;" ng-if="IsCoverageDeclined()">Declined</span>
          <span style="font-weight: bold;" ng-if="!IsCoverageDeclined()">{{GetCoveragePremium() | currency: $ : 0}}</span>
        </span>

        <!--<span style="float: right" class="font-red" ng-if="(riskCompany.Coverages | filter: coverage.Name).length == 0 || (riskCompany.Coverages | filter: coverage.Name)[0].Premium == 0">Declined</span>
        <span style="float: right" class="font-green-jungle" ng-if="(riskCompany.Coverages | filter: coverage.Name).length > 0">{{((parent.Policy.CurrentVersion.Premiums | filter:{RiskCompanyId:riskCompany.Id})[0].Breakdown | filter: { Coverage: coverage.Name })[0].Amount | currency:"$":0}}</span>-->
        <button class="btn btn-sm yellow-casablanca pull-right" style="margin-top: -5px; margin-left:20px" ng-if="riskCompany.ActiveCoverage == 'Property' && !istest(riskCompany.Name)" ng-show="parent.canModify()" ng-click="creditDebit()"><span class="fa fa-calculator right-buffer"></span>Credit/Debit</button>
        <button class="btn btn-sm yellow-casablanca pull-right" style="margin-top: -5px" ng-if="riskCompany.ActiveCoverage == 'Property'" ng-show="parent.canModify() && isLloydsOrRiskShare() && canAddContract" ng-click="addContract()"><span class="glyphicon glyphicon-plus right-buffer"></span>Add Contract</button>
      </div>

      <div>
        <div ng-if="(Policy.CurrentVersion.Coverages | filter: { Name : 'Property'} ).length > 0 && riskCompany.ActiveCoverage == 'Property'">
          <div ng-if="(riskCompany.Coverages | filter: 'Property').length == 0">
            No <strong>property coverage</strong> for {{riskCompany.Name}}.
          </div>

          <div ng-if="(riskCompany.Coverages | filter: 'Property').length > 0">
            <div class="alert alert-danger" ng-if="SplitIsNot100(riskCompany.Id)">
              Total split must be 100%.
            </div>
            <div class="panel panel-default" ng-repeat="location in CopiedLocations | orderBy: 'LocationNumber'" ng-show="location.Properties.length > 0">
              <div class="panel-heading"><strong>Location {{location.LocationNumber}}</strong> <span class="hidden-xs">{{location.Address.ShortAddress}}</span></div>
              <div class="panel-body">
                <div ng-repeat="property in location.Properties | orderBy: 'BuildingNumber'">
                  <div class="bg-blue-soft">
                    <button class="btn btn-link" style="color: #fff;">Location {{location.LocationNumber}} - Building {{property.BuildingNumber}}: {{property.Description | limitTo: 100}}</button>
                  </div>
                  <table class="table table-condensed">
                    <thead>
                      <tr>
                        <th class="col-md-3">Contract</th>
                        <th class="col-md-1">Limit</th>
                        <th class="col-md-1">Rate</th>
                        <th class="col-md-1">Wind Load</th>
                        <th class="col-md-2">Final Rate/Override</th>
                        <th class="col-md-1" style="min-width: 200px;">Premium/Override</th>
                        <th class="col-md-2">Split %</th>
                      </tr>
                    </thead>
                    <tbody>
                      <!-- AOP SECTION -->
                      <!-- HEADER -->
                      <tr style="background-color: #f9f9f9" ng-if="hasWindExclusiveAssignedContracts(property.AssignedContracts, riskCompany.Id)">
                        <td style="padding: 0 !important;"><div style="padding: 5px;"><strong>All Other Perils</strong></div></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                      </tr>
                      <tr ng-repeat-start="contract in getNonWindExclusiveAssignedContracts(property.AssignedContracts, riskCompany.Id) | orderBy: 'ContractName'">
                        <td>
                          <!-- Contract -->
                          <a style="width: 210px;" href="javascript:void(0)" ng-click="openLimits(property, contract)">{{contract.InsurerName}} - {{contract.ContractName}}</a>
                        </td>
                        <td>
                          <!-- Limit -->
                          <div>{{totalLimit(contract) | currency : $ : 0}}</div>
                        </td>
                        <td>
                          <!-- Rate -->
                            <div ng-if="!contract.CustomContract">{{rate(contract)}}</div>
                        </td>
                        <td>
                          <!-- Wind Load -->
                          <div ng-if="!contract.CustomContract">{{windLoad(contract)}}</div>
                          <div ng-if="contract.CustomContract" tooltip-html-unsafe="Is Wind Included In Base Rate?" style="text-align: center;">
                            <input type="checkbox" checklist-value="true" ng-disabled="!parent.canModify()" ng-model="contract.WindIncludedInRate" ng-change="clearWindLoads(contract)" />
                          </div>
                        </td>
                        <td>
                          <!-- Final Rate / Override -->
                          <div style="float: left; margin-right:10px; width:40px; vertical-align: -webkit-baseline-middle;" ng-if="sameFinalRate(contract)">{{developedFinalRate(contract)}}</div>
                          <div style="float: left; margin-right:10px; width:40px; vertical-align: -webkit-baseline-middle;" ng-if="!sameFinalRate(contract)">Mixed</div>
                          <div ng-if="isLloydsOrRiskShare()">
                            <input class="form-control input-sm" style="display: inline-block; width: 75px;" type="text" ng-change="calculateLimitsRate(contract)" ng-disabled="!parent.canModify()" ng-hide="contract.CustomContract" ng-model="contract.FinalRate" maxlength="8" size="8" />
                          </div>
                        </td>
                        <td>
                          <!-- Premium / Override -->
                          <span style="font-weight: bold; vertical-align: -webkit-baseline-middle;">{{contract.Premium | currency : $ : 0}} {{isAnyLimitMP(contract) ? ' MP' : ''}}</span>
                        </td>
                        <td ng-hide="!isLloydsOrRiskShare()">
                          <!-- Split % -->
                          <input class="form-control input-sm" style="width: 75px; display:inline-block;" type="text" ng-disabled="!parent.canModify() || !propertyContractSplit || !isLloydsOrRiskShare()" ng-change="calculateLimitAmounts(contract, property, location)" maxlength="3" size="3" ng-model="contract.Split" />
                          <span ng-if="contract.showLimits" style="margin-right:20px" class="pull-right glyphicon ng-scope glyphicon-chevron-down" ng-click="openLimits(property, contract)"></span>
                          <span ng-if="!contract.showLimits" style="margin-right:20px" class="pull-right glyphicon ng-scope glyphicon-chevron-right" ng-click="openLimits(property, contract)"></span>
                        </td>
                        <td ng-hide="isLloydsOrRiskShare()">
                          <label ng-bind="contract.Split"></label>
                          <span ng-if="contract.showLimits" style="margin-right:20px" class="pull-right glyphicon ng-scope glyphicon-chevron-down" ng-click="contract.showLimits = !contract.showLimits"></span>
                          <span ng-if="!contract.showLimits" style="margin-right:20px" class="pull-right glyphicon ng-scope glyphicon-chevron-right" ng-click="contract.showLimits = !contract.showLimits"></span>
                        </td>
                      </tr>
                      <tr ng-repeat="limit in contract.Limits | orderBy: 'Index'" ng-show="contract.showLimits && (limit.DevelopedPremium > 0 || contract.IsUserEntered) && contract.Split != 0">
                        <td style="text-align: right; font-weight: bold">
                          <!-- Contract -->
                          <span style="vertical-align: -webkit-baseline-middle;">{{limit.LimitName}}</span>
                        </td>
                        <td>
                          <!-- Limit -->
                          <span ng-show="limit.Amount > 0" style="vertical-align: -webkit-baseline-middle;">{{limit.Amount | currency : $ : 0}}</span>
                        </td>
                        <td>
                          <!-- Rate -->
                          <span ng-show="limit.DevelopedRate > 0 && !isAdditionalCoverage(limit) && (!contract.IsUserEntered || !canAddContract)" style="vertical-align: -webkit-baseline-middle;" tooltip-html-unsafe="{{limitRateBreakdown(contract, false, limit.LimitName)}}">{{limit.DevelopedRate | number : 4}}</span>
                          <input type="text" class="form-control input-sm" maxlength="6" size="6" style="display: inline-block; width: 85px;" ng-change="calculateLimitRate(limit, contract)" ng-show="contract.IsUserEntered && !isAdditionalCoverage(limit) && canAddContract && !contract.IsWindOnly" ng-model="limit.DevelopedRate" />
                        </td>
                        <td>
                          <!-- Wind Load -->
                          <span ng-if="!contract.WindIncludedInRate" ng-show="!property.ExcludeWindHail && !isAdditionalCoverage(limit) && (!contract.IsUserEntered || !canAddContract)" style="vertical-align: -webkit-baseline-middle;" tooltip-html-unsafe="{{limitRateBreakdown(contract, true, limit.LimitName)}}">{{limit.DevelopedWindLoad | number : 4}}</span>
                          <span ng-if="contract.WindIncludedInRate" ng-show="!property.ExcludeWindHail && !isAdditionalCoverage(limit)" style="vertical-align: -webkit-baseline-middle;">Wind Included</span>
                          <input type="text" class="form-control input-sm" maxlength="6" size="6" style="display: inline-block; width: 85px;" ng-change="calculateLimitRate(limit, contract)" ng-show="!property.ExcludeWindHail && contract.IsUserEntered && !isAdditionalCoverage(limit) && canAddContract && !contract.WindIncludedInRate" ng-model="limit.DevelopedWindLoad" />
                        </td>
                        <td>
                          <!-- Final Rate / Override -->
                          <div ng-show="limit.AdditionalDevelopedWindPremium == null && limit.AdditionalDevelopedPremium == null && limit.DevelopedFinalRate != null && !isAdditionalCoverage(limit)" style="display: inline-block; margin-right: 10px; width: 40px;">{{limit.DevelopedFinalRate | number : 4}}</div>
                          <input ng-show="!isGridiron() && !istest(riskCompany.Name) && limit.AdditionalDevelopedWindPremium == null && limit.AdditionalDevelopedPremium == null && limit.DevelopedFinalRate != null && !isAdditionalCoverage(limit) && !contract.CustomContract" class="form-control input-sm" style="display: inline-block; width: 75px;" type="text" ng-change="calculateLimitRate(limit, contract)" ng-disabled="!parent.canModify() || contract.CustomContract" ng-model="limit.FinalRate" maxlength="8" size="8" />
                        </td>
                        <td>
                          <!-- Premium / Override -->
                          <div class="input-group" ng-show="contract.Split > 0">
                            <span class="input-group-addon" style="background-color: white; width: 70px; text-align: left; border: none; vertical-align: -webkit-baseline-middle;">{{limit.DevelopedPremium | currency : $ : 0}}</span>
                            <span class="input-group-addon" ng-hide="isGridiron() || istest(riskCompany.Name) || (contract.CustomContract && !isAdditionalCoverage(limit))" style="vertical-align: -webkit-baseline-middle;">$</span>
                            <input class="form-control input-sm" type="text" style="width: 75px;" ng-hide="isGridiron() || istest(riskCompany.Name) || (contract.CustomContract && !isAdditionalCoverage(limit))" ng-change="calculateLimitRate(limit, contract)" ng-disabled="!parent.canModify()" ng-model="limit.Premium" />
                          </div>
                        </td>
                        <td>
                          <!-- Split % -->
                        </td>
                      </tr>
                      <tr ng-repeat-end></tr>

                      <!-- WIND SECTION -->
                      <!-- HEADER -->
                      <tr style="background-color: #f9f9f9" ng-if="hasWindExclusiveAssignedContracts(property.AssignedContracts, riskCompany.Id)">
                        <td style="padding: 0 !important;"><div style="padding: 5px;"><strong>Wind / Hail</strong></div></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                      </tr>
                      <tr ng-repeat-start="contract in getWindExclusiveAssignedContracts(property.AssignedContracts, riskCompany.Id) | orderBy: 'ContractName'" style="vertical-align: -webkit-baseline-middle !important;">
                        <td>
                          <!-- Contract -->
                          <a style="width: 210px;" href="javascript:void(0)" ng-click="openLimits(property, contract)">{{contract.InsurerName}} - {{contract.ContractName}}</a>
                        </td>
                        <td>
                          <!-- Limit -->
                          <div ng-if="isLloydsOrRiskShare()">{{totalLimit(contract) | currency : $ : 0}}</div>
                        </td>
                        <td>
                          <!-- Rate -->
                            <div ng-if="isLloydsOrRiskShare() && !contract.CustomContract">{{rate(contract)}}</div>
                        </td>
                        <td>
                          <!-- Wind Load -->
                          <div ng-if="isLloydsOrRiskShare() && !contract.CustomContract">{{windLoad(contract)}}</div>
                          <div ng-if="contract.CustomContract" tooltip-html-unsafe="Is Wind Included In Base Rate?" style="text-align: center;">
                            <input type="checkbox" checklist-value="true" ng-disabled="!parent.canModify()" ng-model="contract.WindIncludedInRate" ng-change="clearWindLoads(contract)" />
                          </div>
                        </td>
                        <td ng-if="isLloydsOrRiskShare()">
                          <!-- Final Rate / Override -->
                          <div style="float: left; margin-right:10px; width:40px; vertical-align: -webkit-baseline-middle;" ng-if="sameFinalRate(contract)">{{developedFinalRate(contract)}}</div>
                          <div style="float: left; margin-right:10px; width:40px; vertical-align: -webkit-baseline-middle;" ng-if="!sameFinalRate(contract)">Mixed</div>
                          <div>
                            <input class="form-control input-sm" style="display: inline-block; width: 75px;" type="text" ng-change="calculateLimitsRate(contract)" ng-disabled="!parent.canModify()" ng-hide="contract.CustomContract" ng-model="contract.FinalRate" maxlength="8" size="8" />
                          </div>
                        </td>
                        <td>
                          <!-- Premium / Override -->
                          <span style="font-weight: bold; vertical-align: -webkit-baseline-middle;">{{contract.Premium | currency : $ : 0}} {{isAnyLimitMP(contract) ? ' MP' : ''}}</span>
                        </td>
                        <td ng-hide="!isLloydsOrRiskShare()">
                          <!-- Split % -->
                          <input class="form-control input-sm" style="width: 75px; display:inline-block;" type="text" ng-disabled="!parent.canModify() || !propertyContractSplit || !isLloydsOrRiskShare()" ng-change="calculateLimitAmounts(contract, property, location)" maxlength="3" size="3" ng-model="contract.Split" />
                          <span ng-if="contract.showLimits" style="margin-right:20px" class="pull-right glyphicon ng-scope glyphicon-chevron-down" ng-click="openLimits(property, contract)"></span>
                          <span ng-if="!contract.showLimits" style="margin-right:20px" class="pull-right glyphicon ng-scope glyphicon-chevron-right" ng-click="openLimits(property, contract)"></span>
                        </td>
                        <td ng-hide="isLloydsOrRiskShare()">
                          <label ng-bind="contract.Split"></label>
                          <span ng-if="contract.showLimits" style="margin-right:20px" class="pull-right glyphicon ng-scope glyphicon-chevron-down" ng-click="contract.showLimits = !contract.showLimits"></span>
                          <span ng-if="!contract.showLimits" style="margin-right:20px" class="pull-right glyphicon ng-scope glyphicon-chevron-right" ng-click="contract.showLimits = !contract.showLimits"></span>
                        </td>
                      </tr>
                      <tr ng-repeat="limit in contract.Limits | orderBy: 'Index'" ng-show="contract.showLimits && (limit.DevelopedPremium > 0 || contract.IsUserEntered) && contract.Split != 0">
                        <td style="text-align: right; font-weight: bold">
                          <!-- Contract -->
                          <span style="vertical-align: -webkit-baseline-middle;">{{limit.LimitName}}</span>
                        </td>
                        <td>
                          <!-- Limit -->
                          <span ng-show="limit.Amount > 0" style="vertical-align: -webkit-baseline-middle;">{{limit.Amount | currency : $ : 0}}</span>
                        </td>
                        <td>
                          <!-- Rate -->
                          <span ng-show="limit.DevelopedRate > 0 && !isAdditionalCoverage(limit) && (!contract.IsUserEntered || !canAddContract)" style="vertical-align: -webkit-baseline-middle;" tooltip-html-unsafe="{{limitRateBreakdown(contract, false, limit.LimitName)}}">{{limit.DevelopedRate | number : 4}}</span>
                          <input type="text" class="form-control input-sm" maxlength="6" size="6" style="display: inline-block; width: 85px;" ng-change="calculateLimitRate(limit, contract)" ng-show="contract.IsUserEntered && !isAdditionalCoverage(limit) && canAddContract && !contract.IsWindOnly" ng-model="limit.DevelopedRate" />
                        </td>
                        <td>
                          <!-- Wind Load -->
                          <span ng-if="!contract.WindIncludedInRate" ng-show="!property.ExcludeWindHail && !isAdditionalCoverage(limit) && (!contract.IsUserEntered || !canAddContract)" style="vertical-align: -webkit-baseline-middle;" tooltip-html-unsafe="{{limitRateBreakdown(contract, true, limit.LimitName)}}">{{limit.DevelopedWindLoad | number : 4}}</span>
                          <span ng-if="contract.WindIncludedInRate" ng-show="!property.ExcludeWindHail && !isAdditionalCoverage(limit)" style="vertical-align: -webkit-baseline-middle;">Wind Included</span>
                          <input type="text" class="form-control input-sm" maxlength="6" size="6" style="display: inline-block; width: 85px;" ng-change="calculateLimitRate(limit, contract)" ng-show="!property.ExcludeWindHail && contract.IsUserEntered && !isAdditionalCoverage(limit) && canAddContract && !contract.WindIncludedInRate" ng-model="limit.DevelopedWindLoad" />
                        </td>
                        <td>
                          <!-- Final Rate / Override -->
                          <div ng-show="limit.AdditionalDevelopedWindPremium == null && limit.AdditionalDevelopedPremium == null && limit.DevelopedFinalRate != null && !isAdditionalCoverage(limit)" style="display: inline-block; margin-right: 10px; width: 40px;">{{limit.DevelopedFinalRate | number : 4}}</div>
                          <input ng-show="!isGridiron() && limit.AdditionalDevelopedWindPremium == null && limit.AdditionalDevelopedPremium == null && limit.DevelopedFinalRate != null && !isAdditionalCoverage(limit) && !contract.CustomContract" class="form-control input-sm" style="display: inline-block; width: 75px;" type="text" ng-change="calculateLimitRate(limit, contract)" ng-disabled="!parent.canModify() || contract.CustomContract" ng-model="limit.FinalRate" maxlength="8" size="8" />
                        </td>
                        <td>
                          <!-- Premium / Override -->
                          <div class="input-group" ng-show="contract.Split > 0">
                            <span class="input-group-addon" style="background-color: white; width: 70px; text-align: left; border: none; vertical-align: -webkit-baseline-middle;">{{limit.DevelopedPremium | currency : $ : 0}}</span>
                            <span class="input-group-addon" ng-hide="isGridiron() || (contract.CustomContract && !isAdditionalCoverage(limit)) || istest(riskCompany.Name)" style="vertical-align: -webkit-baseline-middle;">$</span>
                            <input class="form-control input-sm" type="text" style="width: 75px;" ng-hide="isGridiron() || (contract.CustomContract && !isAdditionalCoverage(limit)) || istest(riskCompany.Name)" ng-change="calculateLimitRate(limit, contract)" ng-disabled="!parent.canModify()" ng-model="limit.Premium" />
                          </div>
                        </td>
                        <td>
                          <!-- Split % -->
                        </td>
                      </tr>
                      <tr ng-repeat-end></tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
            <div class="col-md-12" ng-show="((Policy.CurrentVersion.Declines | filter: { RiskCompanyId: riskCompany.Id })[0].Reasons | filter: {CoverageName: 'Property'}).length > 0 && parent.canModify()">
              <h3 style="color: red;">Declines</h3>
              <div ng-repeat="decline in Policy.CurrentVersion.Declines | filter: { RiskCompanyId: riskCompany.Id } | orderBy: 'InsurerName'" ng-show="(decline.Reasons | filter: {CoverageName: 'Property'}).length > 0">
                <div class="col-sm-12">
                  <div class="form-body">
                    <div class="form-group">
                      <table class="table" style="table-layout: fixed;">
                        <thead>
                          <tr>
                            <th style="width: 3%"></th>
                            <th style="width: 13%">Status</th>
                            <th style="width: 14%">Contract</th>
                            <th style="width: 20%">Contract Number</th>
                            <th style="width: 50%">Decline Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr ng-repeat="reason in decline.Reasons | filter: { CoverageName: 'Property' }">
                            <td style="width: 3%; word-wrap: break-word;">
                              <input type="checkbox" ng-disabled="!canOverrideDecline" style="margin-right: 10px" ng-click="toggleOverride(decline, reason)" ng-checked="(Policy.CurrentVersion.ContractDeclineOverrides | filter:{ RiskCompanyId: decline.RiskCompanyId, ContractId: decline.ContractId, CoverageId: reason.CoverageId, Group: reason.Group, Reason: reason.Reason, Wind: reason.Wind }).length > 0" />
                            </td>
                            <td style="width: 13%">
                              <span style="color: red;" ng-show="!(Policy.CurrentVersion.ContractDeclineOverrides | filter:{ RiskCompanyId: decline.RiskCompanyId, ContractId: decline.ContractId, CoverageId: reason.CoverageId, Group: reason.Group, Reason: reason.Reason, Wind: reason.Wind }).length > 0">Decline</span>
                              <span style="color: green;" ng-show="(Policy.CurrentVersion.ContractDeclineOverrides | filter:{ RiskCompanyId: decline.RiskCompanyId, ContractId: decline.ContractId, CoverageId: reason.CoverageId, Group: reason.Group, Reason: reason.Reason, Wind: reason.Wind }).length > 0">Decline Override</span>
                            </td>
                            <td style="width: 14%">{{decline.InsurerName}}</td>
                            <td style="width: 20%">{{decline.ContractName}}</td>
                            <td style="width: 50%"> {{reason.Group}}: {{reason.Reason}}</td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>
              </div>
            </div>

          </div>
        </div>

        <div ng-if="(Policy.CurrentVersion.Coverages | filter: { Name : 'Liability' } ).length > 0 && riskCompany.ActiveCoverage == 'Liability'">
          <div ng-if="(riskCompany.Coverages | filter: 'Liability').length == 0">
            No <strong>liability coverage</strong> for {{riskCompany.Name}}.
          </div>
          <div ng-if="(riskCompany.Coverages | filter: 'Liability').length > 0">
            <div class="col-sm-6" style="margin-bottom:10px; padding-left:0px;" ng-show="riskCompany.LiabilityContracts.length > 1 && !isAnEndorsement()">
              <ui-select ng-model="riskCompany.ContractId"
                         append-to-body="true"
                         theme="bootstrap"
                         ng-disabled="!parent.canModify()"
                         reset-search-input="false"
                         ng-change="contractChange(riskCompany)">
                <ui-select-match placeholder="Select a contract">{{$select.selected.InsurerName}}</ui-select-match>
                <ui-select-choices repeat="value.Id as value in riskCompany.LiabilityContracts | filter: $select.search">
                  <div ng-bind-html="value.InsurerName | highlight: $select.search">
                  </div>
                </ui-select-choices>
              </ui-select>
            </div>
            <div class="panel panel-default" style="clear:both" ng-repeat="location in CopiedLocations | orderBy: 'LocationNumber'" ng-if="location.ClassCodes.length > 0">
              <div class="panel-heading"><strong>Location  {{location.LocationNumber}}</strong> <span class="hidden-xs">{{location.Address.ShortAddress}}</span></div>
              <div class="panel-body">
                  <div style="margin-bottom: 10px;" ng-repeat="classcode in location.ClassCodes | orderBy: 'Number'">
                      <div class="bg-blue-soft">
                          <button class="btn btn-link" style="color: #fff;" ng-click="modify(classcode)" ng-if="(classcode.ClassCodeRatingInputs | filter: { ContractId: riskCompany.ContractId})[0] .CanModify">{{classcode.Number}} - {{(classcode.ClassCodeRatingInputs | filter: { ContractId: riskCompany.ContractId})[0] .Description | limitTo: 100}}</button>
                          <button class="btn btn-link" style="color: #fff; opacity: 1;" ng-disabled="true" ng-if="!(classcode.ClassCodeRatingInputs | filter: { ContractId: riskCompany.ContractId})[0].CanModify">{{classcode.Number}} - Prohibited</button>
                          <button class="btn btn-link" style="color: #fff;" ng-if="(classcode.ClassCodeRatingInputs | filter: { ContractId: riskCompany.ContractId})[0] .CanModify == false">{{classcode.Number}} - {{(classcode.ClassCodeRatingInputs | filter: { ContractId: riskCompany.ContractId})[0] .Description | limitTo: 100}}</button>
                          <!--<button class="btn btn-link pull-right" style="color: #fff;" tooltip-placement="top" tooltip="Delete" ng-show="parent.canModify()" ng-click="delete(classcode)"><span class="glyphicon glyphicon-trash"></span> Delete</button>-->
                          <button class="btn btn-link pull-right" style="color: #fff;" tooltip-placement="top" tooltip="Edit" ng-if="parent.canModify() && (classcode.ClassCodeRatingInputs | filter: { ContractId: riskCompany.ContractId})[0].CanModify && !istest(riskCompany.Name)" ng-click="modify(classcode)"><span class="glyphicon glyphicon-edit"></span> Edit</button>
                          <button class="btn btn-link pull-right" style="color: #fff;" tooltip-placement="top" tooltip="View" ng-if="!parent.canModify() && (classcode.ClassCodeRatingInputs | filter: { ContractId: riskCompany.ContractId})[0] .CanModify" ng-click="modify(classcode)"><span class="glyphicon glyphicon-eye-open"></span> View</button>
                      </div>
                      <table class="table table-hover" ng-if="(classcode.ClassCodeRatingInputs | filter: { ContractId: riskCompany.ContractId})[0] .RateBy != 'If Any' && (classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0].TotalPremium == (classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0].TotalDevelopedPremium">
                          <tr ng-if="(classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0].PremisesPremium > 0 || classcode.HasPremisesUserInput">
                              <td class="col-sm-1" style="background-color: #e9edef"><strong style="margin-top: 5px; display: block">Premises</strong></td>
                              <td class="col-sm-2" ng-if="(classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0].ExposureQuestionResults[0].PremisesCoverageRatingResult.Rate > 0"><span style="margin-top: 5px; display: block">Rate: {{roundPackageGLRate(classcode.ClassCodeRatingResults, riskCompany.ContractId)}}</span></td>
                              <td class="col-sm-2">
                                  <span style="margin-top: 5px">
                                      Mod. Factor:
                                  </span>
                                  <input type="text" class="form-control" ng-disabled="!parent.canModify() || riskCompany.Name == 'Burlington IFG' || istest(riskCompany.Name)" ng-model="(classcode.ClassCodeRatingInputs | filter: { ContractId: riskCompany.ContractId})[0].PremisesDiscretionaryModifier" style="margin-left: 10px; width: 80px; display: inline;" ng-change="updateFields(classcode, riskCompany, 'Premises')" />
                              </td>
                              <td class="col-sm-2" ng-if="(classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0].ExposureQuestionResults[0].PremisesCoverageRatingResult.AdjustedRate > 0 || classcode.HasPremisesUserInput"><span style="margin-top: 5px; display: block" tooltip-html-unsafe="{{liabilityRateBreakdown((classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0].ExposureQuestionResults[0].PremisesCoverageRatingResult)}}">Final Rate: {{roundPackageGLFinalRate(classcode.ClassCodeRatingResults, riskCompany.ContractId)}}</span></td>
                              <td class="col-sm-2" ng-if="(packageCompanyId == null  && classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0].PremiumOutsideMP > 0"><span style="margin-top: 5px; display: block">Premium: {{(classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0].PremiumOutsideMP | customCurrency}} MP</span></td>
                              <td class="col-sm-2" ng-if="(packageCompanyId == null  && classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0].PremiumOutsideMP == 0"><span style="margin-top: 5px; display: block">Premium: {{(classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0].PremisesPremium | customCurrency}}</span></td>
                              <td class="col-sm-2" ng-if="(packageCompanyId != null  && classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0].PremiumOutsideMP == 0"><span style="margin-top: 5px; display: block">Premium: {{roundPackageGLPremium(classcode.ClassCodeRatingResults,  riskCompany.ContractId) | currency: $ : 0}}</span></td>
                          </tr>
                          <tr ng-if="(classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0].ProductsPremium > 0 || classcode.HasProductsUserInput">
                              <td class="col-sm-1" style="background-color: #e9edef"><strong style="margin-top: 5px; display: block">Products</strong></td>
                              <td class="col-sm-2" ng-if="(classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0].ExposureQuestionResults[0].ProductsCoverageRatingResult.Rate > 0"><span style="margin-top: 5px; display: block">Rate: {{(classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0].ExposureQuestionResults[0].ProductsCoverageRatingResult.Rate}}</span></td>
                              <td class="col-sm-2">
                                  <span style="margin-top: 5px">
                                      Mod. Factor:
                                  </span>
                                  <input type="text" class="form-control" ng-disabled="!parent.canModify() || riskCompany.Name == 'Burlington IFG' || istest(riskCompany.Name)" ng-model="(classcode.ClassCodeRatingInputs | filter: { ContractId: riskCompany.ContractId})[0].ProductsDiscretionaryModifier" style="margin-left: 10px; width: 80px; display: inline;" ng-change="updateFields(classcode, riskCompany, 'Products')" />
                              </td>
                              <td class="col-sm-2" ng-if="(classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0].ExposureQuestionResults[0].ProductsCoverageRatingResult.AdjustedRate > 0 || classcode.HasProductsUserInput"><span style="margin-top: 5px; display: block" tooltip-html-unsafe="{{liabilityRateBreakdown((classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0].ExposureQuestionResults[0].ProductsCoverageRatingResult)}}">Final Rate: {{(classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0].ExposureQuestionResults[0].ProductsCoverageRatingResult.AdjustedRate}}</span></td>
                              <td class="col-sm-2"><span style="margin-top: 5px; display: block">Premium: {{(classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0].ProductsPremium | customCurrency}}</span></td>
                          </tr>
                          <tr ng-if="(classcode.ClassCodeRateInfo | filter: { ContractId: riskCompany.ContractId})[0].ProductsAuthority == 'Prohibited'">
                              <td class="col-sm-1" style="background-color: #e9edef"><strong style="margin-top: 5px; display: block">Products</strong></td>
                              <td class="col-sm-2" style="line-height: 2"><strong>Excluded</strong></td>
                              <td class="col-sm-2"></td>
                              <td class="col-sm-2"></td>
                              <td class="col-sm-2"></td>
                          </tr>
                          <tr ng-if="(classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId })[0].DevelopedAdditionalPremium != null && (classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId })[0].DevelopedAdditionalPremium >= 0">
                              <td class="col-sm-1" style="background-color: #e9edef"><strong style="margin-top: 5px; display: block">Flat Charge</strong></td>
                              <td class="col-sm-2"><span style="margin-top: 5px; display: block">Premium: {{(classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId })[0].DevelopedAdditionalPremium | customCurrency}}</span></td>
                              <td class="col-sm-2"></td>
                              <td class="col-sm-2"><span style="margin-top: 5px; display: block"></span></td>
                              <td class="col-sm-2">
                                  <span style="margin-top: 5px; display: block" ng-if="(classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0].ExposureQuestionResults.length == 0">
                                      <span>Total Premium: {{(classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0].TotalPremium | customCurrency}}</span>
                                      <span style="margin-left: 5px" ng-if="(classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0].TotalPremium != (classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0].TotalDevelopedPremium">MP</span>
                                  </span>
                              </td>
                          </tr>
                          <tr ng-repeat="exposure in (classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0].AdditionalQuestionResults | filter: { CoverageType : 1} | orderBy: 'Number'">
                              <td class="col-sm-1" style="background-color: #e9edef"><strong style="margin-top: 5px; display: block">Liquor: <span style="color: #0d4296;">{{exposure.AssociatedClassCode}}</span></strong></td>
                              <td class="col-sm-2"><span style="margin-top: 5px; display: block"></span></td>
                              <td class="col-sm-2"></td>
                              <td class="col-sm-2"><span style="margin-top: 5px; display: block"></span></td>
                              <td class="col-sm-2">
                                  <span style="margin-top: 5px; display: block">
                                      <span>Premium: {{exposure.Premium | customCurrency}} <span ng-if="(classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0].LiquorDevelopedPremium != exposure.Premium">MP</span></span>
                                  </span>
                              </td>
                          </tr>
                      </table>
                      <table class="table table-hover" ng-if="(classcode.ClassCodeRatingInputs | filter: { ContractId: riskCompany.ContractId})[0] .RateBy != 'If Any' && (classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0].TotalPremium != (classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0].TotalDevelopedPremium">
                          <tr>
                              <td class="col-sm-1" style="background-color: #e9edef"><strong style="margin-top: 5px; display: block">Flat Charge</strong></td>
                              <td class="col-sm-2">
                                  <span style="margin-top: 5px; display: block">
                                      <span>Total Premium: {{(classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0].TotalPremium | customCurrency}}</span>
                                      <span style="margin-left: 5px">MP</span>
                                  </span>
                              </td>
                              <td class="col-sm-2"></td>
                              <td class="col-sm-2"><span style="margin-top: 5px; display: block"></span></td>
                              <td class="col-sm-2"></td>
                          </tr>
                      </table>

                      <table class="table table-hover" ng-if="(classcode.ClassCodeRatingInputs | filter: { ContractId: riskCompany.ContractId})[0] .RateBy == 'If Any'">
                          <tr>
                              <td class="col-sm-1" style="background-color: #e9edef; font-weight: bold">If Any</td>
                              <td class="col-sm-2"></td>
                              <td class="col-sm-2"></td>
                              <td class="col-sm-2"></td>
                              <td class="col-sm-2"></td>
                          </tr>
                      </table>
                  </div>
              </div>
            </div>
            <div class="panel panel-default" style="clear: both" ng-if="(parent.Policy.CurrentVersion.ClassCodes | filter:{ LocationNumber:null, Number: '!49950' }).length > 0 && showGeneralClassCodes(riskCompany.ContractId)">
              <div class="panel-heading">
                <strong>General Class Codes</strong>
              </div>
              <div class="panel-body">
                <div ng-repeat="classcode in parent.Policy.CurrentVersion.ClassCodes | filter: { LocationNumber : null, Number: '!49950' } | orderBy: 'Number'" ng-if="!(classcode.ClassCodeRatingInputs | filter: { ContractId: riskCompany.ContractId})[0].IsIgnored">
                  <div class="bg-blue-soft">
                    <button class="btn btn-link" style="color: #fff;" ng-click="modify(classcode)" ng-show="(classcode.ClassCodeRatingInputs | filter: { ContractId: riskCompany.ContractId})[0].CanModify">{{classcode.Number}} - {{(classcode.ClassCodeRatingInputs | filter: { ContractId: riskCompany.ContractId})[0] .Description | limitTo: 100}}</button>
                    <button class="btn btn-link" style="color: #fff;" ng-show="(classcode.ClassCodeRatingInputs | filter: { ContractId: riskCompany.ContractId})[0].CanModify == false">{{classcode.Number}} - {{(classcode.ClassCodeRatingInputs | filter: { ContractId: riskCompany.ContractId})[0] .Description | limitTo: 100}}</button>
                    <!--<button class="btn btn-link pull-right" style="color: #fff;" tooltip-placement="top" tooltip="Delete" ng-show="parent.canModify()" ng-click="delete(classcode)"><span class="glyphicon glyphicon-trash"></span> Delete</button>-->
                    <button class="btn btn-link pull-right" style="color: #fff;" tooltip-placement="top" tooltip="Edit" ng-if="parent.canModify() && (classcode.ClassCodeRatingInputs | filter: { ContractId: riskCompany.ContractId})[0] .CanModify" ng-click="modify(classcode)"><span class="glyphicon glyphicon-edit"></span> Edit</button>
                    <button class="btn btn-link pull-right" style="color: #fff;" tooltip-placement="top" tooltip="View" ng-if="!parent.canModify() && (classcode.ClassCodeRatingInputs | filter: { ContractId: riskCompany.ContractId})[0] .CanModify" ng-click="modify(classcode)"><span class="glyphicon glyphicon-eye-open"></span> View</button>
                  </div>

                  <table class="table table-hover" ng-if="(classcode.ClassCodeRatingInputs | filter: { ContractId: riskCompany.ContractId})[0] .RateBy != 'If Any' && (classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0].TotalPremium == (classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0].TotalDevelopedPremium">
                    <tr ng-if="(classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0].PremisesPremium > 0">
                      <td class="col-sm-1" style="background-color: #e9edef"><strong style="margin-top: 5px; display: block">Premises</strong></td>
                      <td class="col-sm-2" ng-if="(classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0].ExposureQuestionResults[0].PremisesCoverageRatingResult.Rate > 0"><span style="margin-top: 5px; display: block">Rate: {{(classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0].ExposureQuestionResults[0].PremisesCoverageRatingResult.Rate}}</span></td>
                      <td class="col-sm-2">
                        <span style="margin-top: 5px">
                          Mod. Factor:
                        </span>
                        <input type="text" class="form-control" ng-disabled="!parent.canModify() || istest(riskCompany.Name)" ng-model="(classcode.ClassCodeRatingInputs | filter: { ContractId: riskCompany.ContractId})[0] .PremisesDiscretionaryModifier" style="margin-left: 10px; width: 80px; display: inline;" ng-blur="updateClassCodeInput((classcode.ClassCodeRatingInputs | filter: { ContractId: riskCompany.ContractId})[0] , (classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0], riskCompany)" />
                      </td>
                      <td class="col-sm-2" ng-if="(classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0].ExposureQuestionResults[0].PremisesCoverageRatingResult.AdjustedRate > 0"><span style="margin-top: 5px; display: block" tooltip-html-unsafe="{{liabilityRateBreakdown((classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0].ExposureQuestionResults[0].PremisesCoverageRatingResult)}}">Final Rate: {{(classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0].ExposureQuestionResults[0].PremisesCoverageRatingResult.AdjustedRate}}</span></td>
                      <td class="col-sm-2"><span style="margin-top: 5px; display: block">Premium: {{(classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0].PremisesPremium | customCurrency}}</span></td>
                    </tr>
                    <tr ng-if="(classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0].ProductsPremium > 0">
                      <td class="col-sm-1" style="background-color: #e9edef"><strong style="margin-top: 5px; display: block">Products</strong></td>
                      <td class="col-sm-2" ng-if="(classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0].ExposureQuestionResults[0].ProductsCoverageRatingResult.Rate > 0"><span style="margin-top: 5px; display: block">Rate: {{(classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0].ExposureQuestionResults[0].ProductsCoverageRatingResult.Rate}}</span></td>
                      <td class="col-sm-2">
                        <span style="margin-top: 5px">
                          Mod. Factor:
                        </span>
                        <input type="text" class="form-control" ng-disabled="!parent.canModify() || istest(riskCompany.Name)" ng-model="(classcode.ClassCodeRatingInputs | filter: { ContractId: riskCompany.ContractId})[0] .ProductsDiscretionaryModifier" style="margin-left: 10px; width: 80px; display: inline;" ng-blur="updateClassCodeInput((classcode.ClassCodeRatingInputs | filter: { ContractId: riskCompany.ContractId})[0] , (classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0], riskCompany)" />
                      </td>
                      <td class="col-sm-2" ng-if="(classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0].ExposureQuestionResults[0].ProductsCoverageRatingResult.AdjustedRate > 0"><span style="margin-top: 5px; display: block" tooltip-html-unsafe="{{liabilityRateBreakdown((classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0].ExposureQuestionResults[0].ProductsCoverageRatingResult)}}">Final Rate: {{(classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0].ExposureQuestionResults[0].ProductsCoverageRatingResult.AdjustedRate}}</span></td>
                      <td class="col-sm-2"><span style="margin-top: 5px; display: block">Premium: {{(classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0].ProductsPremium | customCurrency}}</span></td>
                    </tr>
                    <tr ng-if="(classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId })[0].DevelopedAdditionalPremium != null && (classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId })[0].DevelopedAdditionalPremium >= 0">
                      <td class="col-sm-1" style="background-color: #e9edef"><strong style="margin-top: 5px; display: block">Flat Charge</strong></td>
                      <td class="col-sm-2"><span style="margin-top: 5px; display: block">Premium: {{(classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId })[0].DevelopedAdditionalPremium | customCurrency}}</span></td>
                      <td class="col-sm-2">
                      <td class="col-sm-2"></td>
                      <td class="col-sm-2"><span style="margin-top: 5px; display: block"></span></td>
                      <td class="col-sm-2">
                        <span style="margin-top: 5px; display: block">
                          <span> Total Premium: {{(classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0].TotalPremium | customCurrency}}</span>
                          <span style="margin-left: 5px" ng-if="(classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0].TotalPremium != (classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0].TotalDevelopedPremium">MP</span>
                        </span>
                      </td>
                    </tr>
                  </table>

                  <table class="table table-hover" ng-if="(classcode.ClassCodeRatingInputs | filter: { ContractId: riskCompany.ContractId})[0] .RateBy != 'If Any' && (classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0].TotalPremium != (classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0].TotalDevelopedPremium">
                    <tr>
                      <td class="col-sm-1" style="background-color: #e9edef"><strong style="margin-top: 5px; display: block">Flat Charge</strong></td>
                      <td class="col-sm-2">
                        <span style="margin-top: 5px; display: block">
                          <span>Total Premium: {{(classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0].TotalPremium | customCurrency}}</span>
                          <span style="margin-left: 5px">MP</span>
                        </span>
                      </td>
                      <td class="col-sm-2"></td>
                      <td class="col-sm-2"><span style="margin-top: 5px; display: block"></span></td>
                      <td class="col-sm-2"></td>
                    </tr>
                  </table>

                  <table class="table table-hover" ng-if="(classcode.ClassCodeRatingInputs | filter: { ContractId: riskCompany.ContractId})[0] .RateBy == 'If Any'">
                    <tr>
                      <td class="col-sm-1" style="background-color: #e9edef; font-weight: bold">If Any</td>
                      <td class="col-sm-2"></td>
                      <td class="col-sm-2"></td>
                      <td class="col-sm-2"></td>
                      <td class="col-sm-2"></td>
                    </tr>
                  </table>
                </div>
              </div>
            </div>
            <div class="panel panel-default" style="clear:both" ng-if="(parent.Policy.CurrentVersion.ClassCodes | filter:{ Number:'49950' }).length > 0">
              <div class="panel-heading"><strong>Additional Insureds</strong></div>
              <div class="panel-body">
                <div style="margin-bottom: 10px;" ng-repeat="classcode in parent.Policy.CurrentVersion.ClassCodes | filter: { LocationNumber : null,  Number:'49950'} | orderBy: 'Number'">
                  <div class="bg-blue-soft">
                    <button class="btn btn-link" style="color: #fff;" ng-click="modify(classcode)" ng-if="(classcode.ClassCodeRatingInputs | filter: { ContractId: riskCompany.ContractId})[0] .CanModify">{{classcode.Number}} - {{(classcode.ClassCodeRatingInputs | filter: { ContractId: riskCompany.ContractId})[0] .Description | limitTo: 100}}</button>
                    <button class="btn btn-link" style="color: #fff; opacity: 1;" ng-disabled="true" ng-if="!(classcode.ClassCodeRatingInputs | filter: { ContractId: riskCompany.ContractId})[0].CanModify">{{classcode.Number}} - Additional Insureds does not exist for this Market</button>
                    <button class="btn btn-link" style="color: #fff;" ng-if="(classcode.ClassCodeRatingInputs | filter: { ContractId: riskCompany.ContractId})[0] .CanModify == false">{{classcode.Number}} - {{(classcode.ClassCodeRatingInputs | filter: { ContractId: riskCompany.ContractId})[0] .Description | limitTo: 100}}</button>
                    <!--<button class="btn btn-link pull-right" style="color: #fff;" tooltip-placement="top" tooltip="Delete" ng-show="parent.canModify()" ng-click="delete(classcode)"><span class="glyphicon glyphicon-trash"></span> Delete</button>-->
                    <button class="btn btn-link pull-right" style="color: #fff;" tooltip-placement="top" tooltip="Edit" ng-if="parent.canModify() && (classcode.ClassCodeRatingInputs | filter: { ContractId: riskCompany.ContractId})[0] .CanModify" ng-click="modify(classcode)"><span class="glyphicon glyphicon-edit"></span> Edit</button>
                    <button class="btn btn-link pull-right" style="color: #fff;" tooltip-placement="top" tooltip="View" ng-if="!parent.canModify() && (classcode.ClassCodeRatingInputs | filter: { ContractId: riskCompany.ContractId})[0] .CanModify" ng-click="modify(classcode)"><span class="glyphicon glyphicon-eye-open"></span> View</button>
                  </div>

                  <table class="table table-hover" ng-if="(classcode.ClassCodeRatingInputs | filter: { ContractId: riskCompany.ContractId})[0] .RateBy != 'If Any' && (classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0].TotalPremium == (classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0].TotalDevelopedPremium">
                    <tr ng-if="(classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0].PremisesPremium > 0">
                      <td class="col-sm-1" style="background-color: #e9edef"><strong style="margin-top: 5px; display: block">Premises</strong></td>
                      <td class="col-sm-2" ng-if="(classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0].ExposureQuestionResults[0].PremisesCoverageRatingResult.Rate > 0"><span style="margin-top: 5px; display: block">Rate: {{(classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0].ExposureQuestionResults[0].PremisesCoverageRatingResult.Rate}}</span></td>
                      <td class="col-sm-2">
                        <span style="margin-top: 5px">
                          Mod. Factor:
                        </span>
                        <input type="text" class="form-control" ng-disabled="!parent.canModify() || istest(riskCompany.Name)" ng-model="(classcode.ClassCodeRatingInputs | filter: { ContractId: riskCompany.ContractId})[0] .PremisesDiscretionaryModifier" style="margin-left: 10px; width: 80px; display: inline;" ng-blur="updateClassCodeInput((classcode.ClassCodeRatingInputs | filter: { ContractId: riskCompany.ContractId})[0] , (classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0], riskCompany)" />
                      </td>
                      <td class="col-sm-2" ng-if="(classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0].ExposureQuestionResults[0].PremisesCoverageRatingResult.AdjustedRate > 0"><span style="margin-top: 5px; display: block" tooltip-html-unsafe="{{liabilityRateBreakdown((classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0].ExposureQuestionResults[0].PremisesCoverageRatingResult)}}">Final Rate: {{(classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0].ExposureQuestionResults[0].PremisesCoverageRatingResult.AdjustedRate}}</span></td>
                      <td class="col-sm-2"><span style="margin-top: 5px; display: block">Premium: {{(classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0].PremisesPremium | customCurrency}}</span></td>
                    </tr>
                    <tr ng-if="(classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0].ProductsPremium > 0">
                      <td class="col-sm-1" style="background-color: #e9edef"><strong style="margin-top: 5px; display: block">Products</strong></td>
                      <td class="col-sm-2" ng-if="(classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0].ExposureQuestionResults[0].ProductsCoverageRatingResult.Rate > 0"><span style="margin-top: 5px; display: block">Rate: {{(classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0].ExposureQuestionResults[0].ProductsCoverageRatingResult.Rate}}</span></td>
                      <td class="col-sm-2">
                        <span style="margin-top: 5px">
                          Mod. Factor:
                        </span>
                        <input type="text" class="form-control" ng-disabled="!parent.canModify() || istest(riskCompany.Name)" ng-model="(classcode.ClassCodeRatingInputs | filter: { ContractId: riskCompany.ContractId})[0] .ProductsDiscretionaryModifier" style="margin-left: 10px; width: 80px; display: inline;" ng-blur="updateClassCodeInput((classcode.ClassCodeRatingInputs | filter: { ContractId: riskCompany.ContractId})[0] , (classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0], riskCompany)" />
                      </td>
                      <td class="col-sm-2" ng-if="(classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0].ExposureQuestionResults[0].ProductsCoverageRatingResult.AdjustedRate > 0"><span style="margin-top: 5px; display: block" tooltip-html-unsafe="{{liabilityRateBreakdown((classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0].ExposureQuestionResults[0].ProductsCoverageRatingResult)}}">Final Rate: {{(classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0].ExposureQuestionResults[0].ProductsCoverageRatingResult.AdjustedRate}}</span></td>
                      <td class="col-sm-2"><span style="margin-top: 5px; display: block">Premium: {{(classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0].ProductsPremium | customCurrency}}</span></td>
                    </tr>
                    <tr ng-if="(classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId })[0].DevelopedAdditionalPremium != null && (classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId })[0].DevelopedAdditionalPremium >= 0">
                      <td class="col-sm-1" style="background-color: #e9edef"><strong style="margin-top: 5px; display: block">Flat Charge</strong></td>
                      <td class="col-sm-2"><span style="margin-top: 5px; display: block">Premium: {{(classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId })[0].DevelopedAdditionalPremium | customCurrency}}</span></td>
                      <td class="col-sm-2">
                      <td class="col-sm-2"></td>
                      <td class="col-sm-2"><span style="margin-top: 5px; display: block"></span></td>
                      <td class="col-sm-2">
                        <span style="margin-top: 5px; display: block">
                          <span> Total Premium: {{(classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0].TotalPremium | customCurrency}}</span>
                          <span style="margin-left: 5px" ng-if="(classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0].TotalPremium != (classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0].TotalDevelopedPremium">MP</span>
                        </span>
                      </td>
                    </tr>
                  </table>

                  <table class="table table-hover" ng-if="(classcode.ClassCodeRatingInputs | filter: { ContractId: riskCompany.ContractId})[0] .RateBy != 'If Any' && (classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0].TotalPremium != (classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0].TotalDevelopedPremium">
                    <tr>
                      <td class="col-sm-1" style="background-color: #e9edef"><strong style="margin-top: 5px; display: block">Flat Charge</strong></td>
                      <td class="col-sm-2">
                        <span style="margin-top: 5px; display: block">
                          <span>Total Premium: {{(classcode.ClassCodeRatingResults | filter: { ContractId: riskCompany.ContractId})[0].TotalPremium | customCurrency}}</span>
                          <span style="margin-left: 5px">MP</span>
                        </span>
                      </td>
                      <td class="col-sm-2"></td>
                      <td class="col-sm-2"><span style="margin-top: 5px; display: block"></span></td>
                      <td class="col-sm-2"></td>
                    </tr>
                  </table>

                  <table class="table table-hover" ng-if="(classcode.ClassCodeRatingInputs | filter: { ContractId: riskCompany.ContractId})[0] .RateBy == 'If Any'">
                    <tr>
                      <td class="col-sm-1" style="background-color: #e9edef; font-weight: bold">If Any</td>
                      <td class="col-sm-2"></td>
                      <td class="col-sm-2"></td>
                      <td class="col-sm-2"></td>
                      <td class="col-sm-2"></td>
                    </tr>
                  </table>
                </div>
              </div>
            </div>
            <div class="col-md-12" ng-show="((Policy.CurrentVersion.Declines | filter: {ContractId : riskCompany.ContractId })[0].Reasons | filter: {CoverageName: 'Liability'}).length > 0 && parent.canModify()">
              <h3 style="color: red;">Declines</h3>

              <div ng-repeat="decline in Policy.CurrentVersion.Declines | filter: {ContractId : riskCompany.ContractId }">
                <div class="col-sm-12">
                  <div class="form-body">
                    <div class="form-group">
                      <table class="table" style="table-layout: fixed;">
                        <thead>
                          <tr>
                            <th style="width: 3%"></th>
                            <th style="width: 13%">Status</th>
                            <th style="width: 14%">Contracts</th>
                            <th style="width: 70%">Decline Description</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr ng-repeat="reason in decline.Reasons | filter: {CoverageName: 'Liability'}">
                            <td style="width: 3%; word-wrap: break-word;">
                              <input type="checkbox" ng-disabled="!canOverrideDecline" style="margin-right: 10px" ng-click="toggleOverride(decline, reason)" ng-checked="(Policy.CurrentVersion.ContractDeclineOverrides | filter:{ RiskCompanyId: decline.RiskCompanyId, ContractId: decline.ContractId, CoverageId: reason.CoverageId, Group: reason.Group, Reason: reason.Reason, Wind: reason.Wind }).length > 0" />
                            </td>
                            <td style="width: 13%">
                              <span style="color: red;" ng-show="!(Policy.CurrentVersion.ContractDeclineOverrides | filter:{ RiskCompanyId: decline.RiskCompanyId, ContractId: decline.ContractId, CoverageId: reason.CoverageId, Group: reason.Group, Reason: reason.Reason, Wind: reason.Wind }).length > 0">Decline</span>
                              <span style="color: green;" ng-show="(Policy.CurrentVersion.ContractDeclineOverrides | filter:{ RiskCompanyId: decline.RiskCompanyId, ContractId: decline.ContractId, CoverageId: reason.CoverageId, Group: reason.Group, Reason: reason.Reason, Wind: reason.Wind }).length > 0">Decline Override</span>
                            </td>
                            <td style="width: 14%">
                              {{decline.InsurerName}}
                            </td>
                            <td style="width: 84%"> {{reason.Group}}: {{reason.Reason}}</td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div ng-if="(Policy.CurrentVersion.Coverages | filter: { Name : 'Professional Liability'} ).length > 0 && riskCompany.ActiveCoverage == 'Professional Liability'">
          <h4>Professional Liability</h4>

          <div ng-if="(riskCompany.Coverages | filter: 'Professional Liability').length == 0">
            No <strong>professional liability coverage</strong> for {{riskCompany.Name}}.
          </div>

          <div data-ng-include="'/Views/Policy/Apps/test/Commercial Lines/Pages/Coverages/'+riskCompany.Name+'/Professional Liability.html'" ng-if="(riskCompany.Coverages | filter: 'Professional Liability').length > 0">
          </div>
        </div>

        <div ng-if="(Policy.CurrentVersion.Coverages | filter: { Name : 'Equipment Breakdown'} ).length > 0 && riskCompany.ActiveCoverage == 'Equipment Breakdown'">
          <h4>Equipment Breakdown</h4>

          <div ng-if="(riskCompany.Coverages | filter: 'Equipment Breakdown').length == 0">
            No <strong>equipment breakdown coverage</strong> for {{riskCompany.Name}}.
          </div>

          <div data-ng-include="'/Views/Policy/Apps/test/Commercial Lines/Pages/Coverages/'+riskCompany.Name+'/Equipment Breakdown.html'" ng-if="(riskCompany.Coverages | filter: 'Equipment Breakdown').length > 0">
          </div>
        </div>

        <div ng-if="(Policy.CurrentVersion.Coverages | filter: { Name : 'Inland Marine'} ).length > 0 && riskCompany.ActiveCoverage == 'Inland Marine'">
          <h4>Inland Marine</h4>
          <div ng-if="(riskCompany.Coverages | filter: 'Inland Marine').length == 0">
            No <strong>inland marine coverage</strong> for {{riskCompany.Name}}.
          </div>

          <div data-ng-include="'/Views/Policy/Apps/test/Commercial Lines/Pages/Coverages/'+riskCompany.Name+'/Inland Marine.html'" ng-if="(riskCompany.Coverages | filter: 'Inland Marine').length > 0">
          </div>
        </div>
      </div>
    </div>
    <div ng-show="Errors.length > 0" class="alert alert-danger alert-dismissible fade in" role="alert" style="margin-top:10px;">
      <ul>
        <li ng-repeat="error in Errors">{{error}}</li>
      </ul>
    </div>
    <div class="modal-push">
    </div>
  </div>
  <div class="modal-footer">
    <div>
        <button type="button" data-dismiss="modal" class="btn btn-default" ng-click="close()">{{istest(riskCompany.Name) ? 'Close' : 'Cancel'}}</button>
      <button ng-if="(riskCompany.ActiveCoverage == 'Property' || riskCompany.ActiveCoverage == 'Liability') && parent.canModify() && !istest(riskCompany.Name)" type="button" class="btn yellow-casablanca" ng-click="save(riskCompany.ActiveCoverage)">Save</button>
    </div>
  </div>


</script>

<div>
  <script type="text/ng-template" id="test_Commercial_Lines_eligibility_modifyClassCode.html">
    <div class="modal-header">
      <h4 class="modal-title">{{ClassCode.Number}}</h4>
    </div>
    <div class="modal-body">
      <div class="row" ng-show="ccErrors.length > 0">

      </div>
      <div class="row">
        <form class="form-horizontal" role="form">
          <div class="scrollable">
            <tabset>
              <tab ng-repeat="riskCompany in RiskCompanies" heading="{{riskCompany.Name}}" class="riskCompanies">
                <div class="col-md-12">
                  <div class="exposure">Details</div>
                  <div class="form-horizontal" ng-if="(ClassCode.ClassCodeRatingResults | filter:{ContractId:riskCompany.ContractId})[0].PremisesPremium > 0 || ClassCode.HasPremisesUserInput">
                    <div class=" form-group" style="margin-bottom: 0">
                      <label class="col-xs-7" style="margin-top: 5px;">Premises Premium</label>
                      <div class="col-xs-5">
                        {{(ClassCode.ClassCodeRatingResults | filter:{ContractId:riskCompany.ContractId})[0].PremisesPremium | customCurrency}}
                      </div>
                    </div>
                    <div class="form-group" style="margin-bottom: 0" ng-if="(ClassCode.ClassCodeRatingResults | filter:{ContractId:riskCompany.ContractId})[0].ExposureQuestionResults.length == 1">
                      <label class="col-xs-7" style="margin-top: 5px;">Base Rate</label>
                      <div class="col-xs-5">
                        {{(ClassCode.ClassCodeRatingResults | filter:{ContractId:riskCompany.ContractId})[0].ExposureQuestionResults[0].PremisesCoverageRatingResult.Rate}}
                      </div>
                    </div>
                    <div class="form-group" style="margin-bottom: 0" ng-if="(ClassCode.ClassCodeRatingResults | filter:{ContractId:riskCompany.ContractId})[0].ExposureQuestionResults.length == 1">
                      <label class="col-xs-7" style="margin-top: 5px;">Final Rate</label>
                      <div class="col-xs-5" tooltip-html-unsafe="{{liabilityRateBreakdown((ClassCode.ClassCodeRatingResults | filter:{ContractId:riskCompany.ContractId})[0].ExposureQuestionResults[0].PremisesCoverageRatingResult)}}">
                        {{(ClassCode.ClassCodeRatingResults | filter:{ContractId:riskCompany.ContractId})[0].ExposureQuestionResults[0].PremisesCoverageRatingResult.AdjustedRate}}
                      </div>
                    </div>
                    <div class="form-group" style="margin-bottom: 0">
                      <label class="col-xs-7" style="margin-top: 5px;">Discretionary Modifier</label>
                      <div class="col-xs-5">
                        <input class="form-control input-sm" ng-disabled="!parent.canModify() || riskCompany.Name == 'Burlington IFG'" ng-model="(ClassCode.ClassCodeRatingInputs | filter:{ContractId:riskCompany.ContractId})[0].PremisesDiscretionaryModifier" ng-change="updateFields(ClassCode, riskCompany, 'Premises')" />
                      </div>
                    </div>
                    <hr />
                  </div>

                  <div class="form-horizontal" ng-if="ClassCode.Number != '49950' && ClassCode.ClassCodeRateInfo[0].SubNumber != 'StopGap' && ClassCode.ClassCodeRateInfo[0].SubNumber !='Assault&Battery'">
                    <div class="form-group" style="margin-bottom: 0">
                      <label class="col-xs-7" style="margin-top: 5px;">Exclude Products</label>
                      <div class="col-xs-5">
                        <input type="checkbox" style="margin-top:8px;" ng-model="(ClassCode.ClassCodeRatingInputs | filter:{ContractId:riskCompany.ContractId})[0].ExcludeProducts" ng-disabled="!parent.canModify()" ng-change="rate((ClassCode.ClassCodeRatingInputs | filter:{ContractId:riskCompany.ContractId})[0], riskCompany)" />
                      </div>
                    </div>
                    <hr />
                  </div>

                  <div class="form-horizontal" ng-if="((ClassCode.ClassCodeRatingResults | filter:{ContractId:riskCompany.ContractId})[0].ProductsPremium > 0 || ClassCode.HasProductsUserInput) && (ClassCode.ClassCodeRatingInputs | filter:{ContractId:riskCompany.ContractId})[0].ExcludeProducts == false">
                    <div class=" form-group" style="margin-bottom: 0">
                      <label class="col-xs-7" style="margin-top: 5px;">Products Premium</label>
                      <div class="col-xs-5">
                        ${{(ClassCode.ClassCodeRatingResults | filter:{ContractId:riskCompany.ContractId})[0].ProductsPremium > 0 ? (ClassCode.ClassCodeRatingResults | filter:{ContractId:riskCompany.ContractId})[0].ProductsPremium : 0}}
                      </div>
                    </div>
                    <div class="form-group" style="margin-bottom: 0" ng-if="(ClassCode.ClassCodeRatingResults | filter:{ContractId:riskCompany.ContractId})[0].ExposureQuestionResults.length == 1">
                      <label class="col-xs-7" style="margin-top: 5px;">Base Rate</label>
                      <div class="col-xs-5">
                        {{(ClassCode.ClassCodeRatingResults | filter:{ContractId:riskCompany.ContractId})[0].ExposureQuestionResults[0].ProductsCoverageRatingResult.Rate}}
                      </div>
                    </div>
                    <div class="form-group" style="margin-bottom: 0" ng-if="(ClassCode.ClassCodeRatingResults | filter:{ContractId:riskCompany.ContractId})[0].ExposureQuestionResults.length == 1">
                      <label class="col-xs-7" style="margin-top: 5px;">Final Rate</label>
                      <div class="col-xs-5" tooltip-html-unsafe="{{liabilityRateBreakdown((ClassCode.ClassCodeRatingResults | filter:{ContractId:riskCompany.ContractId})[0].ExposureQuestionResults[0].ProductsCoverageRatingResult)}}">
                        {{(ClassCode.ClassCodeRatingResults | filter:{ContractId:riskCompany.ContractId})[0].ExposureQuestionResults[0].ProductsCoverageRatingResult.AdjustedRate}}
                      </div>
                    </div>
                    <div class="form-group" style="margin-bottom: 0">
                      <label class="col-xs-7" style="margin-top: 5px;">Discretionary Modifier</label>
                      <div class="col-xs-5">
                        <input class="form-control input-sm" ng-disabled="!parent.canModify() || riskCompany.Name == 'Burlington IFG'" ng-model="(ClassCode.ClassCodeRatingInputs | filter:{ContractId:riskCompany.ContractId})[0].ProductsDiscretionaryModifier" ng-change="updateFields(ClassCode, riskCompany, 'Products')" />
                      </div>
                    </div>
                    <hr />
                  </div>

                  <div class="form-horizontal">
                    <div class="form-group" style="margin-bottom: 0;" ng-if="hasLiquorLiabilityResult(ClassCode, riskCompany.ContractId)">
                      <label class="col-xs-7" style="margin-top: 5px;">Liquor Minimum Premium</label>
                      <div class="col-xs-5">
                        <input type="checkbox" style="margin-top:8px;" ng-model="(ClassCode.ClassCodeRatingInputs | filter:{ContractId:riskCompany.ContractId})[0].IsUserEnteredLiquorMinimumPremium" ng-disabled="!parent.canModify()" ng-change="updateIsLiquorMinimumPremium(ClassCode, (ClassCode.ClassCodeRatingInputs | filter:{ContractId:riskCompany.ContractId})[0].IsUserEnteredLiquorMinimumPremium)" />
                      </div>
                      <div class="col-xs-12" ng-if="!(ClassCode.ClassCodeRatingInputs | filter:{ContractId:riskCompany.ContractId})[0].IsUserEnteredLiquorMinimumPremium"><hr /></div>
                    </div>
                    <div class="form-group" style="margin-bottom: 0" ng-if="(ClassCode.ClassCodeRatingInputs | filter:{ContractId:riskCompany.ContractId})[0].IsUserEnteredLiquorMinimumPremium">
                      <label class="col-xs-7" style="margin-top: 5px; font-weight: bold;">Liquor Minimum Premium</label>
                      <div class="col-xs-5" style="margin-top: 5px;">
                        <input class="form-control input-sm" ng-disabled="!parent.canModify()" ng-model="(ClassCode.ClassCodeRatingInputs | filter:{ContractId:riskCompany.ContractId})[0].UserEnteredLiquorMinimumPremium" />
                      </div>
                      <div class="col-xs-12"><hr /></div>
                    </div>
                    <div class="form-group" style="margin-bottom: 0;">
                      <label class="col-xs-7" style="margin-top: 5px;">User Adjusted Premium</label>
                      <div class="col-xs-5">
                        <input type="checkbox" style="margin-top:8px;" ng-model="(ClassCode.ClassCodeRatingInputs | filter:{ContractId:riskCompany.ContractId})[0].IsUserEnteredMinimumPremium" ng-disabled="!parent.canModify() || isIfgAi(riskCompany.Name, ClassCode.Number)" ng-change="updateIsMinimumPremium(ClassCode, (ClassCode.ClassCodeRatingInputs | filter:{ContractId:riskCompany.ContractId})[0].IsUserEnteredMinimumPremium)" />
                      </div>
                      <div class="col-xs-12" ng-if="!(ClassCode.ClassCodeRatingInputs | filter:{ContractId:riskCompany.ContractId})[0].IsUserEnteredMinimumPremium"><hr /></div>
                    </div>
                    <div class="form-group" style="margin-bottom: 0" ng-if="(ClassCode.ClassCodeRatingInputs | filter:{ContractId:riskCompany.ContractId})[0].IsUserEnteredMinimumPremium">
                      <label class="col-xs-7" style="margin-top: 5px; font-weight: bold;">Premium</label>
                      <div class="col-xs-5" style="margin-top: 5px;">
                        <input class="form-control input-sm" ng-disabled="!parent.canModify()" ng-model="(ClassCode.ClassCodeRatingInputs | filter:{ContractId:riskCompany.ContractId})[0].UserEnteredMinimumPremium" />
                      </div>
                      <div class="col-xs-12"><hr /></div>
                    </div>
                    <div class="form-group" style="margin-bottom: 0" ng-if="hasLiquorLiabilityResult(ClassCode, riskCompany.ContractId)">
                      <label class="col-xs-7" style="margin-top: 5px; font-weight: bold;">Liquor Premium</label>
                      <div class="col-xs-5" style="margin-top: 5px;">
                        <span style="margin-right:5px">${{(ClassCode.ClassCodeRatingResults | filter:{ContractId:riskCompany.ContractId})[0].LiquorPremium}}</span>
                        <span ng-if="(ClassCode.ClassCodeRatingResults | filter:{ContractId:riskCompany.ContractId})[0].LiquorPremium != (ClassCode.ClassCodeRatingResults | filter:{ContractId:riskCompany.ContractId})[0].LiquorDevelopedPremium">MP</span>
                      </div>
                    </div>
                    <div class="form-group" style="margin-bottom: 0">
                      <label class="col-xs-7" style="margin-top: 5px; font-weight: bold;">Total Premium</label>
                      <div class="col-xs-5" style="margin-top: 5px;">
                        <span style="margin-right:5px">${{(ClassCode.ClassCodeRatingResults | filter:{ContractId:riskCompany.ContractId})[0].TotalPremium}}</span>
                        <span ng-if="(ClassCode.ClassCodeRatingResults | filter:{ContractId:riskCompany.ContractId})[0].TotalPremium != (ClassCode.ClassCodeRatingResults | filter:{ContractId:riskCompany.ContractId})[0].TotalDevelopedPremium">MP</span>
                      </div>
                    </div>
                    <div class="form-group" style="margin-bottom: 0" ng-if="(ClassCode.ClassCodeRatingInputs | filter:{ContractId:riskCompany.ContractId})[0].IsUserEnteredMinimumPremium && (ClassCode.ClassCodeRatingResults | filter:{ContractId:riskCompany.ContractId})[0].TotalDevelopedPremium > (ClassCode.ClassCodeRatingInputs | filter:{ContractId:riskCompany.ContractId})[0].UserEnteredMinimumPremium">
                      <label class="col-xs-12" style="margin-top: 5px; font-weight: bold;color:red">
                        Minimum Premium must be above the developed total premium.
                      </label>
                    </div>
                    <div class="form-group" style="margin-bottom: 0; text-align: right; margin-top: 10px">
                      <div class="col-xs-12">

                      </div>
                    </div>

                    <div ng-show="Errors.length > 0" class="alert alert-danger alert-dismissible fade in" role="alert" style="margin-top:10px;">
                      <ul>
                        <li ng-repeat="error in Errors">{{error}}</li>
                      </ul>
                    </div>
                  </div>
                </div>

              </tab>
            </tabset>
          </div>
        </form>
      </div>

      <div class="modal-push">
      </div>
    </div>
    <div class="modal-footer">
      <div>
        <button type="button" class="btn btn-success" ng-click="close(true)" ng-if="parent.canModify()">Close</button>
        <button class="btn btn-default" ng-click="close(false)" ng-if="!parent.canModify()">Close</button>
        <!--<button class="btn btn-success" ng-hide="!parent.canModify()" ng-click="rateClassCode(true)">Save</button>-->
      </div>
    </div>
  </script>
</div>

<script type="text/ng-template" id="addContract.html">
  <div class="modal-header">
    <h4 class="modal-title">Add Contract</h4>
  </div>
  <div class="modal-body">
    <div class="row">
      <div class="col-md-12">
        <ui-select ng-model="Contract.SelectedContract"
                   append-to-body="true"
                   theme="bootstrap"
                   ng-disabled="!hasAvailableContracts()"
                   reset-search-input="false">
          <ui-select-match>{{$select.selected.InsurerName}} {{$select.selected.Name}} {{$select.selected.Description}}</ui-select-match>
          <ui-select-choices repeat="contract in Contracts | filter: $select.search">
            <div ng-bind-html="contract.InsurerName + ' ' + contract.Name + ' ' + contract.Description | highlight: $select.search"></div>
          </ui-select-choices>
        </ui-select>
      </div>
      <div class="col-md-12">
        <input class="form-control" type="text" placeholder="Enter Split Percentage" style="margin-top: 8px;" ng-model="Contract.Split" ng-disabled="!hasAvailableContracts()" />
      </div>
    </div>
    <div class="row" ng-show="Errors.length > 0">
      <div class="col-md-12">
        <div class="alert alert-danger" style="padding: 7px; margin-bottom: 2px; margin-top: 15px;">
          <ul style="padding-left: 18px;">
            <li ng-repeat="error in Errors">
              {{error}}
            </li>
          </ul>
        </div>
      </div>
    </div>
    <div class="modal-push">
    </div>
  </div>
  <div class="modal-footer">
    <div id="modal_commands">
      <button id="modalProperty_close" type="button" data-dismiss="modal" class="btn btn-default" ng-click="close('cancel')">Close</button>
      <button id="modalProperty_ok" type="button" class="btn yellow-casablanca" ng-click="close(Contract)" ng-disabled="!hasAvailableContracts()">Add</button>
    </div>
  </div>
</script>

<script type="text/ng-template" id="submitQuote.html">
  <div class="modal-header">
    <h4 class="modal-title">Submit Quote</h4>
  </div>

  <div class="modal-body">
    <div class="row">
      <form class="form-horizontal" role="form">
        <div class="scrollable">
          <div class="col-md-12">
            <div class="col-md-12">
              <div class="form-group">
                <!-- RLI Submit Info -->
                <div class="alert alert-warning" style="margin-top: 20px" ng-if="!submitReviewer && RiskCompanyId == 'b216d262-52f0-4864-aec9-3411acf7c218'">
                  In addition to submitting the risk here, you will need to send a full referral email to <strong>gbareferral@rlicorp.com</strong> that includes the application(s), inspection (if any), photos (if available), loss history, and any other documentation, explanation, or information they will need to review this risk and make a decision.
                  <br /><br />
                  It is important that the subject line on your email submission match the risk number and name in BOL ({{Policy.Number}}) so that your referral may be cleared in a timely manner.
                </div>
                <!-- Gridiron Submit Info -->
                <div class="alert alert-warning" style="margin-top: 20px" ng-if="!submitReviewer && RiskCompanyId == '689c1168-395d-483b-8837-f92ea949e92a'">
                  In addition to submitting the risk here, you will need to send a full referral email to <strong>gps-submit@gridironins.com</strong> that includes the application(s), inspection (if any), photos (if available), loss history, and any other documentation, explanation, or information they will need to review this risk and make a decision.<br /><br />
                  It is important that the subject line on your email submission match the risk number and name in BOL ({{Policy.Number}}) so that your referral may be cleared in a timely manner.
                </div>
                <!-- Century and RSUI Submit Info -->
                <div class="alert alert-warning" style="margin-top: 20px" ng-if="!submitReviewer && (RiskCompanyId == 'be7a9234-5ba5-49e5-acc0-deec3ff2ead0' || RiskCompanyId =='48b1a26b-713f-4344-8470-5bfb9e25017c' || RiskCompanyId == '6d719a07-b422-4c38-9a7c-e9df837f3010')">
                  Please submit to the carrier for approval. Once approved, please enter the name of carrier underwriter that approved the submission and any notes that are relevant below.
                </div>
                <div ng-show="!submitReviewer && (RiskCompanyId == 'be7a9234-5ba5-49e5-acc0-deec3ff2ead0' || RiskCompanyId == '48b1a26b-713f-4344-8470-5bfb9e25017c' || RiskCompanyId == '6d719a07-b422-4c38-9a7c-e9df837f3010')">
                  <label class="control-label">Approved By</label>
                  <input type="text" class="form-control" ng-model="ExternalApprovedBy" />
                </div>
                <div>
                  <label class="control-label">Notes<span ng-if="!isSubmitRequired" style="color: red;"> *</span></label>
                  <textarea type="text" class="form-control" ng-model="SubmitReason" style="height: 165px; width: 570px;"> </textarea>
                </div>

                <div style="margin-top: 20px;" ng-show="hasSubmits">
                  <h3 style="color: red;">Submit Required</h3>
                  <div style="max-height: 200px; overflow-y: auto;">
                    <table class="table" style="table-layout: fixed;">
                      <tbody ng-repeat="submit in Policy.CurrentVersion.Submits | filter: { RiskCompanyId : RiskCompanyId }">
                        <tr ng-repeat="reason in submit.Reasons">
                          <td style="width:30%">{{submit.InsurerName}}</td>
                          <td> {{reason.Group}}: {{reason.Reason}}</td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
            <div ng-show="Errors.length > 0" class="alert alert-danger alert-dismissible fade in" role="alert" style="margin-top: 10px; clear: both;">
              <ul><li ng-repeat="error in Errors">{{error}}</li></ul>
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>

  <div class="modal-push">
  </div>

  <div class="modal-footer">
    <div id="modal_commands">
      <button id="modalProperty_close" type="button" data-dismiss="modal" class="btn btn-default" ng-click="close()">Close</button>
      <button id="modalProperty_ok" type="button" class="btn yellow-casablanca" ng-click="submit()" ng-disabled="!canSubmit" ng-if="!submitReviewer && !canApprove()">Submit</button>
      <button id="modalProperty_ok" type="button" class="btn yellow-casablanca" ng-click="approve()" ng-disabled="!canSubmit" ng-if="!submitReviewer && canApprove()">Approve</button>
    </div>
  </div>
</script>

<script type="text/ng-template" id="inlandMarineCoverages.html">
  <div class="modal-header">
    <h4 class="modal-title">Inland Marine Coverages</h4>
  </div>
  <div class="modal-body">
    <div class="row" ng-if="RiskCompany.Name != 'RSUI Covington'">
      <div class="col-md-12">
        No inland marine coverages for <strong>{{RiskCompany.Name}}</strong>.
      </div>
    </div>
    <div class="row" ng-if="RiskCompany.Name == 'RSUI Covington'">
      <tabset>
        <tab ng-repeat="coverage in InlandMarineCoverages" heading="{{coverage.Name}}">
          <div style="max-height: 600px; overflow-y: auto;">
            <div class="col-md-12">
              <label>
                <input type="checkbox" checklist-value="true" ng-disabled="!parent.canModify()" ng-model="coverage.Included" />  Include {{coverage.Name}}
              </label>
            </div>
            <div class="col-md-12" ng-show="coverage.Included">
              <div ng-if="coverage.InlandMarineType !== 5">
                <div class="col-md-6">
                  <div ng-show="coverage.InlandMarineType !== 3" class="form-group">
                    <label class="col-md-11" style="margin-top: 12px;">Deductible</label>
                    <div class="col-md-11">
                      <ui-select ng-model="coverage.Deductible"
                                 append-to-body="true"
                                 theme="bootstrap"
                                 ng-disabled="!parent.canModify()">
                        <ui-select-match placeholder="Select a Deductible">{{$select.selected}}</ui-select-match>
                        <ui-select-choices repeat="value in Deductibles">
                          <div ng-bind-html="value"></div>
                        </ui-select-choices>
                      </ui-select>
                    </div>
                  </div>

                  <div class="form-group">
                    <label class="col-md-11" style="margin-top: 12px;">Coverage Form</label>
                    <div class="col-md-11">
                      <ui-select ng-model="coverage.CoverageForm"
                                 append-to-body="true"
                                 theme="bootstrap"
                                 ng-disabled="!parent.canModify()">
                        <ui-select-match placeholder="Select Coverage Form">{{$select.selected}}</ui-select-match>
                        <ui-select-choices repeat="value in CoverageOptions">
                          <div ng-bind-html="value"></div>
                        </ui-select-choices>
                      </ui-select>
                    </div>
                  </div>
                  <div ng-show="coverage.InlandMarineType === 3" class="form-group">
                    <label class="col-md-11" style="margin-top: 12px;">Duplicate Records</label>
                    <div class="col-md-11">
                      <ui-select ng-model="coverage.AreDuplicateRecordsOffSite"
                                 append-to-body="true"
                                 theme="bootstrap"
                                 ng-disabled="!parent.canModify()">
                        <ui-select-match placeholder="What Percent is Duplicated?">{{$select.selected}}</ui-select-match>
                        <ui-select-choices repeat="value in DuplicatRecordsOptions">
                          <div ng-bind-html="value"></div>
                        </ui-select-choices>
                      </ui-select>
                    </div>
                  </div>
                </div>
                <div class="col-md-6" style="margin-top: -28px;">
                  <div ng-show="coverage.InlandMarineType === 0 || coverage.InlandMarineType === 1 " class="form-group">
                    <input class="col-md-1" type="checkbox" ng-disabled="!parent.canModify()" ng-checked="!coverage.IsVandalismExcluded" ng-model="IsVandalismIncluded" ng-click="setIfIncluded(coverage, 'IsVandalismExcluded', IsVandalismIncluded)" style="margin-top: 16px;" />
                    <label class="col-md-11" style="margin-top: 12px;">Vandalism Included</label>
                  </div>

                  <div ng-show="coverage.InlandMarineType === 0 || coverage.InlandMarineType === 1 || coverage.InlandMarineType === 2" class="form-group">
                    <input class="col-md-1" type="checkbox" ng-disabled="!parent.canModify()" ng-checked="!coverage.IsTheftExcluded" ng-model="IsTheftIncluded" ng-click="setIfIncluded(coverage, 'IsTheftExcluded', IsTheftIncluded)" style="margin-top: 16px;" />
                    <label class="col-md-11" style="margin-top: 12px;">Theft Included</label>
                  </div>

                  <div class="form-group" ng-if="coverage.IsTheftExcluded !== undefined && coverage.IsTheftExcluded !== null && !coverage.IsTheftExcluded">
                    <div class="col-md-12" style="margin-top: 8px;">
                      <input class="form-control input-md" type="text" placeholder="Enter a Theft Sublimit" ng-disabled="!parent.canModify()" ng-model="coverage.TheftSublimit" maxlength="10" size="10" onkeypress="return (event.charCode == 8 || event.charCode == 0) ? null : event.charCode >= 48 && event.charCode <= 57" />
                    </div>
                  </div>

                  <div class="form-group">
                    <input class="col-md-1" type="checkbox" ng-disabled="!parent.canModify()" ng-checked="!coverage.IsWindExcluded" ng-model="IsWindIncluded" ng-click="setIfIncluded(coverage, 'IsWindExcluded', IsWindIncluded)" style="margin-top: 16px;" />
                    <label class="col-md-11" style="margin-top: 12px;">Windstorm or Hail Included</label>
                  </div>

                  <div ng-show="coverage.InlandMarineType === 0 || coverage.InlandMarineType === 2" class="form-group">
                    <label class="col-md-11" style="margin-top: 12px;">Locations</label>
                    <div class="col-md-11" style="min-width:420px;">
                      <ui-select ng-model="coverage.Schedules[0].LocationNumber"
                                 append-to-body="true"
                                 theme="bootstrap"
                                 ng-disabled="!parent.canModify()"
                                 style="outline-width: 385px">
                        <ui-select-match placeholder="Select a Location">{{$select.selected.Address.ShortAddress}}</ui-select-match>
                        <ui-select-choices repeat="value.LocationNumber as value in parent.Policy.CurrentVersion.Locations">
                          <div ng-bind-html="value.Address.ShortAddress"></div>
                        </ui-select-choices>
                      </ui-select>
                    </div>
                  </div>
                </div>
                <div ng-if="coverage.InlandMarineType === 0" class="col-md-12">
                  <!--  -->
                  <table class="table table-stats table-condensed" style="margin-bottom: 0px; margin-top: 20px;">
                    <thead>
                      <tr>
                        <th class="text-center" style="width:8%; font-weight: initial;" ng-hide="!parent.canModify()"></th>
                        <th class="text-center" style="width:25%; font-weight: initial;">Manufacturer</th>
                        <th class="text-center" style="width:15%; font-weight: initial;">Model</th>
                        <th class="text-center" style="width:15%; font-weight: initial;">Year</th>
                        <th class="text-center" style="width:18%; font-weight: initial;">Serial</th>
                        <th class="text-center" style="width:15%; font-weight: initial;">Limit</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr ng-repeat="schedule in coverage.Schedules | filter : {Description: CeScheduledEquipment} : true">
                        <td ng-hide="!parent.canModify() || $index == 0" style="padding-top: 15px;" ng-click="deleteSchedule(coverage.Schedules, schedule.Index)">Delete <i class="fa fa-trash" aria-hidden="true"></i></td>
                        <td ng-hide="$index != 0"></td>
                        <td><input class="form-control input-md" type="text" placeholder="Manufacturer" ng-disabled="!parent.canModify()" ng-model="schedule.Manufacturer" /></td>
                        <td><input class="form-control input-md" type="text" placeholder="Model" ng-disabled="!parent.canModify()" ng-model="schedule.Model" /></td>
                        <td><input class="form-control input-md" type="text" placeholder="Year" ng-disabled="!parent.canModify()" ng-model="schedule.ModelYear" maxlength="10" size="10" onkeypress="return (event.charCode == 8 || event.charCode == 0) ? null : event.charCode >= 48 && event.charCode <= 57" /></td>
                        <td><input class="form-control input-md" type="text" placeholder="Serial" ng-disabled="!parent.canModify()" ng-model="schedule.Serial" /></td>
                        <td><input class="form-control input-md" type="text" placeholder="Limit" ng-disabled="!parent.canModify()" ng-model="schedule.Limit" maxlength="10" size="10" onkeypress="return (event.charCode == 8 || event.charCode == 0) ? null : event.charCode >= 48 && event.charCode <= 57" /></td>

                      </tr>
                      <tr>
                        <td ng-hide="!parent.canModify()" ng-click="addSchedule(coverage.Schedules, CeScheduledEquipment)">Add <i class="fa fa-plus" aria-hidden="true"></i></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                      </tr>
                    </tbody>
                  </table>
                </div>
                <div ng-if="coverage.InlandMarineType === 0" class="col-md-12">
                  <!--  -->
                  <table class="table table-stats table-condensed" style="margin-bottom: 0px; margin-top: 20px;">
                    <thead>
                      <tr>
                        <th class="text-center" style="width:10%; font-weight: initial;" ng-hide="!parent.canModify()"></th>
                        <th class="text-center" style="width:50%; font-weight: initial;" ng-hide="!parent.canModify()">Coverage</th>
                        <th class="text-center" style="width:20%; font-weight: initial;">Limit</th>
                        <th class="text-center" style="width:20%; font-weight: initial;">Max Limit Per Item</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr ng-repeat="schedule in coverage.Schedules | filter : {Description: '!'+CeScheduledEquipment} : true">
                        <td ng-hide="!parent.canModify()" style="padding-top: 15px;" ng-click="deleteSchedule(coverage.Schedules, schedule.Index)">Delete <i class="fa fa-trash" aria-hidden="true"></i></td>
                        <td>
                          <div>
                            <ui-select ng-model="schedule.Coverage"
                                       append-to-body="true"
                                       theme="bootstrap"
                                       ng-disabled="!parent.canModify()">
                              <ui-select-match placeholder="Select a Coverage">{{$select.selected}}</ui-select-match>
                              <ui-select-choices repeat="value as value in filterCoverages(schedule, coverage.Schedules, MiscCeCoverages)">
                                <div ng-bind-html="value"></div>
                              </ui-select-choices>
                            </ui-select>
                          </div>
                        </td>
                        <td><input class="form-control input-md" type="text" placeholder="Limit" ng-disabled="!parent.canModify() || schedule.Coverage == 'Employee Tools/Clothing'" ng-model="schedule.Limit" maxlength="10" size="10" onkeypress="return (event.charCode == 8 || event.charCode == 0) ? null : event.charCode >= 48 && event.charCode <= 57" /></td>
                        <td><input class="form-control input-md" type="text" placeholder="Max Limit Per Item" ng-disabled="!parent.canModify() || schedule.Coverage == 'Employee Tools/Clothing'" ng-model="schedule.PerItemLimit" maxlength="10" size="10" onkeypress="return (event.charCode == 8 || event.charCode == 0) ? null : event.charCode >= 48 && event.charCode <= 57" /></td>
                      </tr>
                      <tr>
                        <td ng-hide="!parent.canModify()" ng-click="addSchedule(coverage.Schedules)">Add <i class="fa fa-plus" aria-hidden="true"></i></td>
                        <td></td>
                        <td></td>
                        <td></td>
                      </tr>
                    </tbody>
                  </table>
                </div>
                <div ng-if="coverage.InlandMarineType === 1" class="col-md-12">
                  <table class="table table-stats table-condensed" style="margin-bottom: 0px; margin-top: 20px;">
                    <thead>
                      <tr>
                        <th class="text-center" style="width:55%; font-weight: initial;">Location</th>
                        <th class="text-center" style="width:25%; font-weight: initial;">Description</th>
                        <th class="text-center" style="width:20%; font-weight: initial;">Limit</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr ng-repeat="schedule in coverage.Schedules">
                        <td>
                          <div>
                            <ui-select ng-model="schedule.LocationNumber"
                                       append-to-body="true"
                                       theme="bootstrap"
                                       ng-disabled="!parent.canModify()">
                              <ui-select-match placeholder="Select a Location">{{$select.selected.Address.ShortAddress}}</ui-select-match>
                              <ui-select-choices repeat="value.LocationNumber as value in filterLocations(schedule, coverage.Schedules, coverage.InlandMarineType === 1)">
                                <div ng-bind-html="value.Address.ShortAddress"></div>
                              </ui-select-choices>
                            </ui-select>
                          </div>
                        </td>
                        <td><input class="form-control input-md" type="text" placeholder="Description" ng-disabled="!parent.canModify()" ng-model="schedule.Description" /></td>
                        <td><input class="form-control input-md" type="text" placeholder="Limit" ng-disabled="!parent.canModify()" ng-model="schedule.Limit" maxlength="10" size="10" onkeypress="return (event.charCode == 8 || event.charCode == 0) ? null : event.charCode >= 48 && event.charCode <= 57" /></td>
                      </tr>
                    </tbody>
                  </table>
                </div>
                <div ng-if="coverage.InlandMarineType === 2" class="col-md-12">
                  <table class="table table-stats table-condensed" style="margin-bottom: 0px; margin-top: 20px;">
                    <thead>
                      <tr>
                        <th class="text-center" style="width:8%; font-weight: initial;" ng-hide="!parent.canModify()"></th>
                        <th class="text-center" style="width:25%; font-weight: initial;">Manufacturer</th>
                        <th class="text-center" style="width:15%; font-weight: initial;">Model</th>
                        <th class="text-center" style="width:18%; font-weight: initial;">Serial</th>
                        <th class="text-center" style="width:19%; font-weight: initial;">Co-Insurance</th>
                        <th class="text-center" style="width:15%; font-weight: initial;">Limit</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr ng-repeat="schedule in coverage.Schedules | filter: {Description: EdpScheduledHardware}">
                        <td ng-hide="!parent.canModify() || $index == 0" style="padding-top: 15px;" ng-click="deleteSchedule(coverage.Schedules, schedule.Index)">Delete <i class="fa fa-trash" aria-hidden="true"></i></td>
                        <td ng-hide="$index != 0"></td>
                        <td><input class="form-control input-md" type="text" placeholder="Manufacturer" ng-disabled="!parent.canModify()" ng-model="schedule.Manufacturer" /></td>
                        <td><input class="form-control input-md" type="text" placeholder="Model" ng-disabled="!parent.canModify()" ng-model="schedule.Model" /></td>
                        <td><input class="form-control input-md" type="text" placeholder="Serial" ng-disabled="!parent.canModify()" ng-model="schedule.Serial" /></td>
                        <td>
                          <div>
                            <ui-select ng-model="schedule.CoInsurance"
                                       append-to-body="true"
                                       theme="bootstrap"
                                       ng-disabled="!parent.canModify()">
                              <ui-select-match placeholder="Select a Percent">{{$select.selected}}</ui-select-match>
                              <ui-select-choices repeat="value as value in CoInsuranceOptions">
                                <div ng-bind-html="value"></div>
                              </ui-select-choices>
                            </ui-select>
                          </div>
                        </td>
                        <td><input class="form-control input-md" type="text" placeholder="Limit" ng-disabled="!parent.canModify()" ng-model="schedule.Limit" maxlength="10" size="10" onkeypress="return (event.charCode == 8 || event.charCode == 0) ? null : event.charCode >= 48 && event.charCode <= 57" /></td>

                      </tr>
                      <tr>
                        <td ng-hide="!parent.canModify()" ng-click="addSchedule(coverage.Schedules, EdpScheduledHardware)">Add <i class="fa fa-plus" aria-hidden="true"></i></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                      </tr>
                    </tbody>
                  </table>
                </div>
                <div ng-if="coverage.InlandMarineType === 2" class="col-md-12">
                  <table class="table table-stats table-condensed" style="margin-bottom: 0px; margin-top: 20px;">
                    <thead>
                      <tr>
                        <th class="text-center" style="width:10%; font-weight: initial;" ng-hide="!parent.canModify()"></th>
                        <th class="text-center" style="width:50%; font-weight: initial;" ng-hide="!parent.canModify()">Coverage</th>
                        <th class="text-center" style="width:40%; font-weight: initial;">Limit</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr ng-repeat="schedule in coverage.Schedules | filter: {Description: '!'+EdpScheduledHardware}">
                        <td ng-hide="!parent.canModify()" style="padding-top: 15px;" ng-click="deleteSchedule(coverage.Schedules, schedule.Index)">Delete <i class="fa fa-trash" aria-hidden="true"></i></td>
                        <td>
                          <div>
                            <ui-select ng-model="schedule.Coverage"
                                       append-to-body="true"
                                       theme="bootstrap"
                                       ng-disabled="!parent.canModify()">
                              <ui-select-match placeholder="Select a Coverage">{{$select.selected}}</ui-select-match>
                              <ui-select-choices repeat="value as value in filterCoverages(schedule, coverage.Schedules, MiscEdpCoverages)">
                                <div ng-bind-html="value"></div>
                              </ui-select-choices>
                            </ui-select>
                          </div>
                        </td>
                        <td><input class="form-control input-md" type="text" placeholder="Limit" ng-disabled="!parent.canModify()" ng-model="schedule.Limit" maxlength="10" size="10" onkeypress="return (event.charCode == 8 || event.charCode == 0) ? null : event.charCode >= 48 && event.charCode <= 57" /></td>
                      </tr>
                      <tr>
                        <td ng-hide="!parent.canModify()" ng-click="addSchedule(coverage.Schedules)">Add <i class="fa fa-plus" aria-hidden="true"></i></td>
                        <td></td>
                        <td></td>
                      </tr>
                    </tbody>
                  </table>
                </div>
                <div ng-if="coverage.InlandMarineType === 4 || coverage.InlandMarineType === 3" class="col-md-12">
                  <table class="table table-stats table-condensed" style="margin-bottom: 0px; margin-top: 20px;">
                    <thead>
                      <tr>
                        <th class="text-center" style="width:10%; font-weight: initial;" ng-hide="!parent.canModify()"></th>
                        <th class="text-center" style="width:50%; font-weight: initial;">Location</th>
                        <th class="text-center" style="width:20%; font-weight: initial;" ng-if="coverage.InlandMarineType === 4">Building</th>
                        <th class="text-center" style="width:20%; font-weight: initial;" ng-if="coverage.InlandMarineType === 3">Co-Insurance</th>
                        <th class="text-center" style="width:20%; font-weight: initial;">Limit</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr ng-repeat="schedule in coverage.Schedules">
                        <td ng-hide="!parent.canModify()" style="padding-top: 15px;" ng-click="deleteSchedule(coverage.Schedules, $index)">Delete <i class="fa fa-trash" aria-hidden="true"></i></td>
                        <td>
                          <div>
                            <ui-select ng-model="schedule.LocationNumber"
                                       append-to-body="true"
                                       theme="bootstrap"
                                       ng-disabled="!parent.canModify()">
                              <ui-select-match placeholder="Select a Location">{{$select.selected.Address.ShortAddress}}</ui-select-match>
                              <ui-select-choices repeat="value.LocationNumber as value in filterLocations(schedule, coverage.Schedules, coverage.InlandMarineType === 3)">
                                <div ng-bind-html="value.Address.ShortAddress"></div>
                              </ui-select-choices>
                            </ui-select>
                          </div>
                        </td>
                        <td ng-if="coverage.InlandMarineType === 4">
                          <div>
                            <ui-select ng-model="schedule.Building"
                                       append-to-body="true"
                                       theme="bootstrap"
                                       ng-disabled="!parent.canModify()">
                              <ui-select-match placeholder="Select a Building">{{$select.selected.BuildingNumber}}</ui-select-match>
                              <ui-select-choices repeat="value.BuildingNumber as value in filterBuildings(schedule.LocationNumber, schedule, coverage.Schedules)">
                                <div ng-bind-html="value.BuildingNumber"></div>
                              </ui-select-choices>
                            </ui-select>
                          </div>
                        </td>
                        <td ng-if="coverage.InlandMarineType === 3">
                          <div>
                            <ui-select ng-model="schedule.CoInsurance"
                                       append-to-body="true"
                                       theme="bootstrap"
                                       ng-disabled="!parent.canModify()">
                              <ui-select-match placeholder="Select a Percent">{{$select.selected}}</ui-select-match>
                              <ui-select-choices repeat="value as value in CoInsuranceOptions">
                                <div ng-bind-html="value"></div>
                              </ui-select-choices>
                            </ui-select>
                          </div>
                        </td>
                        <td><input class="form-control input-md" type="text" placeholder="Limit" ng-disabled="!parent.canModify()" ng-model="schedule.Limit" maxlength="10" size="10" onkeypress="return (event.charCode == 8 || event.charCode == 0) ? null : event.charCode >= 48 && event.charCode <= 57" /></td>
                      </tr>
                      <tr>
                        <td ng-hide="!parent.canModify()" ng-click="addSchedule(coverage.Schedules)">Add <i class="fa fa-plus" aria-hidden="true"></i></td>
                        <td></td>
                        <td></td>
                        <td></td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
              <div ng-if="coverage.InlandMarineType === 5">
                <div class="col-md-6">
                  <div ng-show="coverage.InlandMarineType !== 3" class="form-group">
                    <label class="col-md-11" style="margin-top: 12px;">Deductible</label>
                    <div class="col-md-11">
                      <ui-select ng-model="coverage.Deductible"
                                 append-to-body="true"
                                 theme="bootstrap"
                                 ng-disabled="!parent.canModify()">
                        <ui-select-match placeholder="Select a Deductible">{{$select.selected}}</ui-select-match>
                        <ui-select-choices repeat="value in Deductibles">
                          <div ng-bind-html="value"></div>
                        </ui-select-choices>
                      </ui-select>
                    </div>
                  </div>

                  <div class="form-group">
                    <label class="col-md-11" style="margin-top: 12px;">Coverage Form</label>
                    <div class="col-md-11">
                      <ui-select ng-model="coverage.CoverageForm"
                                 append-to-body="true"
                                 theme="bootstrap"
                                 ng-disabled="!parent.canModify()">
                        <ui-select-match placeholder="Select Coverage Form">{{$select.selected}}</ui-select-match>
                        <ui-select-choices repeat="value in CoverageOptions">
                          <div ng-bind-html="value"></div>
                        </ui-select-choices>
                      </ui-select>
                    </div>
                  </div>
                </div>

                <div class="col-md-6" style="margin-top: -28px;">

                  <div class="form-group">
                    <input class="col-md-1" type="checkbox" ng-disabled="!parent.canModify()" ng-model="coverage.IsTheftIncluded" ng-click="setIfIncluded(coverage, 'IsTheftExcluded', coverage.IsTheftIncluded)" style="margin-top: 16px;" />
                    <label class="col-md-11" style="margin-top: 12px;">Theft Included</label>
                  </div>

                  <div class="form-group" ng-if="coverage.IsTheftIncluded">
                    <div class="col-md-12" style="margin-top: 8px;">
                      <input class="form-control input-md" type="text" placeholder="Enter a Theft Sublimit" ng-disabled="!parent.canModify()" ng-model="coverage.TheftSublimit" maxlength="10" size="10" onkeypress="return (event.charCode == 8 || event.charCode == 0) ? null : event.charCode >= 48 && event.charCode <= 57" />
                    </div>
                  </div>

                  <div class="form-group">
                    <input class="col-md-1" type="checkbox" ng-disabled="!parent.canModify()" ng-checked="!coverage.IsWindExcluded" ng-model="IsWindIncluded" ng-click="setIfIncluded(coverage, 'IsWindExcluded', IsWindIncluded)" style="margin-top: 16px;" />
                    <label class="col-md-11" style="margin-top: 12px;">Windstorm or Hail Included</label>
                  </div>

                  <div class="form-group">
                    <label class="col-md-11" style="margin-top: 12px;">Locations</label>
                    <div class="col-md-11" style="min-width:420px;">
                      <ui-select ng-model="coverage.Schedules[0].LocationNumber"
                                 append-to-body="true"
                                 theme="bootstrap"
                                 ng-disabled="!parent.canModify()"
                                 style="outline-width: 385px">
                        <ui-select-match placeholder="Select a Location">{{$select.selected.Address.ShortAddress}}</ui-select-match>
                        <ui-select-choices repeat="value.LocationNumber as value in parent.Policy.CurrentVersion.Locations">
                          <div ng-bind-html="value.Address.ShortAddress"></div>
                        </ui-select-choices>
                      </ui-select>
                    </div>
                  </div>

                </div>
                <div class="col-md-12">
                  <table class="table table-stats table-condensed" style="margin-bottom: 0px; margin-top: 20px;">
                    <thead>
                      <tr>
                        <th class="text-center" style="width:55%; font-weight: initial;">Description of Operations</th>
                        <th class="text-center" style="width:35%; font-weight: initial;">Limit Per Occurrence</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr ng-repeat="schedule in coverage.Schedules">
                        <td><input class="form-control input-md" type="text" placeholder="Description of Operations" ng-disabled="!parent.canModify()" ng-model="schedule.DescriptionOfOperations" /></td>
                        <td><input class="form-control input-md" type="text" placeholder="Limit Per Occurrence" ng-disabled="!parent.canModify()" ng-model="schedule.Limit" maxlength="10" size="10" onkeypress="return (event.charCode == 8 || event.charCode == 0) ? null : event.charCode >= 48 && event.charCode <= 57" /></td>
                      </tr>
                      <tr>
                        <td></td>
                        <td></td>
                      </tr>
                    </tbody>
                  </table>
                  <table class="table table-stats table-condensed" style="margin-bottom: 0px; margin-top: 0px;">
                    <thead>
                      <tr>
                        <th class="text-center" style="width:55%; font-weight: initial;">Description of Customer Property</th>
                        <th class="text-center" style="width:35%; font-weight: initial;">Limit Any One Item</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr ng-repeat="schedule in coverage.Schedules">
                        <td><input class="form-control input-md" type="text" placeholder="Description of Customer Property" ng-disabled="!parent.canModify()" ng-model="schedule.CustomerPropertyDescription" /></td>
                        <td>
                          <div>
                            <ui-select ng-model="schedule.LimitAnyOneItem"
                                       append-to-body="true"
                                       theme="bootstrap"
                                       ng-disabled="!parent.canModify()">
                              <ui-select-match placeholder="Select a Limit">{{$select.selected}}</ui-select-match>
                              <ui-select-choices repeat="value in BaileeLimitOptions">
                                <div ng-bind-html="value"></div>
                              </ui-select-choices>
                            </ui-select>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td></td>
                        <td></td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </tab>
      </tabset>
    </div>
    <div class="row" ng-show="Errors.length > 0">
      <div class="col-md-12">
        <div class="alert alert-danger" style="margin-top: 10px; margin-bottom: 5px;">
          <ul>
            <li ng-repeat="error in Errors | unique">
              {{error}}
            </li>
          </ul>
        </div>
      </div>
    </div>
    <div class="row" ng-show="ContractDeclines.length > 0">
      <div class="col-md-12">
        <div class="alert alert-danger" style="margin-top: 10px; margin-bottom: 5px;">
          <ul>
            <li ng-repeat="decline in ContractDeclines">
              {{decline.Reason}}
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
  <div class="modal-push">
  </div>
  <div class="modal-footer">
    <div id="modal_commands">
      <button id="modalProperty_close" type="button" data-dismiss="modal" class="btn btn-default" ng-click="close()">Close</button>
      <button id="modalProperty_ok" type="button" class="btn yellow-casablanca" ng-click="save()" ng-disabled="!parent.canModify()" ng-if="RiskCompany.Name == 'RSUI Covington'">Save</button>
    </div>
  </div>
</script>

<script type="text/ng-template" id="test_Commercial_Lines_creditDebit.html">
  <div class="modal-header">
    <h4 class="modal-title">Credit/Debit</h4>
  </div>
  <div class="modal-body">
    <div class="row">
      <div class="col-md-12">
        <ui-select ng-model="settings.RateType"
                   append-to-body="true"
                   theme="bootstrap"
                   reset-search-input="false">
          <ui-select-match>{{$select.selected}}</ui-select-match>
          <ui-select-choices repeat="rateType in ['Override','Credit/Debit Mod'] | filter: $select.search">
            <div ng-bind-html="rateType | highlight: $select.search"></div>
          </ui-select-choices>
        </ui-select>
      </div>
      <div class="col-md-12" ng-if="settings.RateType == 'Override'" style="margin-top:20px">
        <label style="font-weight:bold">Enter the new rate you would like to use for selected properties.</label>
        <input class="form-control" type="text" placeholder="Enter Override" style="margin-top: 8px;" ng-model="settings.Rate" />
      </div>
      <div class="col-md-12" ng-if="settings.RateType == 'Credit/Debit Mod'" style="margin-top:20px">
        <label style="font-weight:bold">Enter the Credit/Debit mod your would like to use for selected properties.</label>
        <input class="form-control" type="text" placeholder="Enter Credit/Debit Mod" style="margin-top: 8px;" ng-model="settings.Mod" />
      </div>

      <div class="col-md-12" style="margin-top:30px">
        <div style="margin-left:10px"><span><button class="btn btn-link" style="padding:0" ng-click="selectAllProperties()">Select All</button></span> / <span><button class="btn btn-link" style="padding:0" ng-click="deselectAllProperties()">Deselect All</button></span></div>
        <div ng-repeat="location in Locations | orderBy: 'LocationNumber'">
          <div ng-repeat="property in location.Properties | orderBy: 'BuildingNumber'" style="padding:10px">
            <label>
              <input type="checkbox" checklist-model="settings.SelectedProperties" checklist-value="property.Id">
              <span style="padding-left:5px">Location {{location.LocationNumber}} - Building {{property.BuildingNumber}}</span>
            </label>
          </div>
        </div>
      </div>

    </div>
    <div class="row" ng-show="Errors.length > 0">
      <div class="col-md-12">
        <div class="alert alert-danger" style="padding: 7px; margin-bottom: 2px; margin-top: 15px;">
          <ul style="padding-left: 18px;">
            <li ng-repeat="error in Errors">
              {{error}}
            </li>
          </ul>
        </div>
      </div>
    </div>
    <div class="modal-push">
    </div>
  </div>
  <div class="modal-footer">
    <div id="modal_commands">
      <button id="modalProperty_close" type="button" data-dismiss="modal" class="btn btn-default" ng-click="close('cancel')">Close</button>
      <button id="modalProperty_ok" type="button" class="btn yellow-casablanca" ng-click="close()">Apply</button>
    </div>
  </div>
</script>

<script type="text/ng-template" id="test_Commercial_Lines_creditAccountability.html">
  <div class="modal-header">
    <h4 class="modal-title">Credit Accountability</h4>
  </div>
  <div class="modal-body" id="credit-accountability">
    <div class="row">
      <div class="col-md-12" style="margin-bottom: 20px;">
        <label style="width: 74%">Are you within authority to apply credit for {{RiskCompany.Name}}?</label>
        <label style="width: 11%"><input type="radio" ng-model="CreditEntry.IsWithinCreditAuthority" value="true" />  Yes</label>
        <label style="width: 11%"><input type="radio" ng-model="CreditEntry.IsWithinCreditAuthority" value="false" />  No</label>
      </div>
      <div class="col-md-12" style="margin-bottom: 15px;" ng-if="CreditEntry.IsWithinCreditAuthority == 'false'">
        <label class="col-md-3" style="text-align: left; padding-top: 5px;">Approved By</label>
        <div class="col-md-8">
          <input class="form-control" type="text" ng-model="CreditEntry.ApprovedBy" />
        </div>
      </div>
      <div class="col-md-12" style="margin-bottom: 20px;" ng-if="CreditEntry.IsWithinCreditAuthority == 'false'">
        <label class="col-md-3" style="text-align: left; padding-top: 5px;">Credit Reason</label>
        <div class="col-md-8">
          <textarea class="form-control" type="text" ng-model="CreditEntry.Reason" />
        </div>
      </div>
    </div>
    <div class="row" ng-show="Errors.length > 0">
      <div class="col-md-12">
        <div class="alert alert-danger" style="padding: 7px; margin-bottom: 2px; margin-top: 15px;">
          <ul style="padding-left: 18px;">
            <li ng-repeat="error in Errors">
              {{error}}
            </li>
          </ul>
        </div>
      </div>
    </div>
    <div class="modal-push">
    </div>
  </div>
  <div class="modal-footer">
    <div id="modal_commands">
      <button id="modalProperty_close" type="button" data-dismiss="modal" class="btn btn-default" ng-click="close('cancel')">Close</button>
      <button id="modalProperty_ok" type="button" class="btn yellow-casablanca" ng-click="save()">Save</button>
    </div>
  </div>
</script>

<script type="text/ng-template" id="splitPackageQuote.html">
  <div class="modal-header">
    <h4 class="modal-title">Split Package Quote</h4>
  </div>
  <div class="modal-body" id="split-package-quote">
    <div class="row" ng-if="!IsQuoteSplit">
      <div class="col-md-12 loading">
        <center><h2 style="font-family: 'Lato' !important;">Splitting your package quote<span>.</span><span>.</span><span>.</span></h2></center>
      </div>
    </div>
    <div ng-if="IsQuoteSplit">
      <div class="row">
        <div class="col-md-12">
          <center><h3 style="font-family: 'Lato' !important; margin-bottom: 20px;">The two quotes below have been successfuly created!</h3></center>
        </div>
      </div>
      <div class="row">
        <div class="col-md-12" style="margin-left: 20px;">
          <div style="display: inline-block; width: 5%;"><span class="glyphicon glyphicon-home"></span></div>
          <div style="display: inline-block; width: 35%;"><h4 style="font-family: 'Lato' !important;">Monoline Property Quote:</h4></div>
          <div style="display: inline-block;"><a href="#" style="text-decoration: none;"><h4 style="font-family: 'Lato' !important;"><strong>{{PropertySubmissionNumber}}</strong></h4></a></div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-12" style="margin-left: 20px;">
          <div style="display: inline-block; width: 5%;"><span class="liability-ico" style="margin-right: 0px;"></span></div>
          <div style="display: inline-block; width: 35%;"><h4 style="font-family: 'Lato' !important;">Monoline Liability Quote:</h4></div>
          <div style="display: inline-block;"><a href="#" style="text-decoration: none;"><h4 style="font-family: 'Lato' !important;"><strong>{{LiabilitySubmissionNumber}}</strong></h4></a></div>
        </div>
      </div>
    </div>
    <div class="modal-push">
    </div>
  </div>
  <div class="modal-footer">
    <div id="modal_commands">
      <button id="modalProperty_close" type="button" data-dismiss="modal" class="btn btn-default" ng-disabled="!IsQuoteSplit" ng-click="close('cancel')">Close</button>
    </div>
  </div>
</script>