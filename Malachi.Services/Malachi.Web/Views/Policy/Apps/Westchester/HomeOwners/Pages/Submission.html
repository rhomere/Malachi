<div class="row">
    <div class="col-md-6">
        <form name="form" class="form-horizontal" role="form" id="submission-form">
            <div class="alert alert-danger" role="alert" ng-show="ErrorMessage.length > 0">{{ErrorMessage}}</div>
            <div class="alert alert-warning" role="alert" ng-show="WarningMessage.length > 0">{{ErrorMessage}}</div>

            <div class="form-group">
                <label for="NamedInsured" class="col-sm-4 control-label">Named Insured</label>
                <div class="col-sm-8">
                    <input class="form-control input-sm" name="insuredname" ng-model="parent.Policy.Insured.Name" placeholder="Required" ng-disabled="parent.Policy.Bound" required ng-change="saved=false" />
                </div>
            </div>
            <div class="form-group">
                <label for="InsuredAge" class="col-sm-4 control-label">Insured Age</label>
                <div class="col-sm-8">
                    <input class="form-control input-sm" name="insuredage" placeholder="Required" inputmode="numeric" ng-model="parent.Policy.Insured.Age" ng-disabled="parent.Policy.Bound" ng-change="saved=false" />
                </div>
            </div>

            <div class="form-group">
                <label for="FormOfBussiness" class="col-sm-4 control-label">Home State</label>
                <div class="col-sm-8">
                    <ui-select ng-model="parent.Policy.HomeStateCode"
                               append-to-body="true"
                               theme="bootstrap"
                               ng-disabled="!parent.canModify()"
                               reset-search-input="false"
                               ng-change="saved=false">
                        <ui-select-match placeholder="Select Home State">{{$select.selected.Name}}</ui-select-match>
                        <ui-select-choices repeat="state.Code as state in AllowedStates | statesFilter : $select.search : searchByBeginsWith">
                            <div ng-bind-html="state.Name | highlight: $select.search">
                            </div>
                        </ui-select-choices>
                    </ui-select>
                </div>
            </div>

          <!-- Not doing short term any more so locking this field down. -->
            <div class="form-group" ng-show="parent.Policy.Endorsement == null">
                <label for="PolicyTerm" class="col-sm-4 control-label">Policy Term</label>
                <div class="col-sm-8">
                    <ui-select ng-model="parent.Policy.PolicyTerm"
                               theme="bootstrap"
                               ng-disabled="!parent.canModify() || parent.Policy.Endorsement != null || parent.Policy.RenewalOf != null || true"
                               reset-search-input="false"
                               ng-change="effectiveDateChanged()">
                        <ui-select-match placeholder="Select a Policy Term">{{$select.selected.name}}</ui-select-match>
                        <ui-select-choices repeat="value.id as value in PolicyTermOptions | filter: $select.search">
                            <div ng-bind-html="value.name | highlight: $select.search">
                            </div>
                        </ui-select-choices>
                    </ui-select>
                </div>
                <div class="col-sm-12 alert alert-info" ng-show="parent.Policy.PolicyTerm != null && parent.Policy.PolicyTerm != 12" style="margin-left: 221px;margin-top: 10px;margin-bottom: 0;max-width: 381px;padding: 5px;"><strong>Heads up!</strong> Only <strong>Vacant &amp; Builder's Risk</strong> products available.</div>
            </div>

            <div class="form-group" ng-if="parent.Policy.Endorsement == null">
                <label for="effectiveDate" class="col-sm-4 control-label">Effective</label>
                <div class="col-sm-8">
                    <input type="text" class="form-control " id="effectiveDate" ng-disabled="!parent.canModify() || parent.Policy.Endorsement != null || parent.Policy.RenewalOf != null" ng-model="parent.Policy.Effective" jqdatepicker ng-if="lateBinder" datechange="effectiveDateChanged()" ng-blur="effectiveDateChanged()" />
                    <input type="text" class="form-control " id="effectiveDate" ng-disabled="!parent.canModify() || parent.Policy.Endorsement != null || parent.Policy.RenewalOf != null" ng-model="parent.Policy.Effective" jqdatepickerterm ng-if="!lateBinder" datechange="effectiveDateChanged()" ng-blur="effectiveDateChanged()" />
                </div>
            </div>

            <div class="form-group" ng-if="parent.Policy.Endorsement == null">
                <label for="expirationDate" class="col-sm-4 control-label">Expiration</label>
                <div class="col-sm-8">
                    <input type="text" class="form-control " id="expirationDate" ng-disabled="true" ng-model="parent.Policy.Expiration" jqdatepickerendorsement ng-max-date="parent.Policy.Effective"/>
                </div>
            </div>
             

            <div class="form-group">
                <label for="mailing-address" class="col-sm-4 control-label">Mailing Address</label>
                <div class="col-sm-6">
                    <label style="color: #0096db; margin-right:5px; font-size: 13px;">Search Address</label>
                    <label style="font-size: 13px;">Manually Enter P.O. Boxes</label>
                    <input id="mailing-address" ng-autocomplete class="form-control input-sm" ng-disabled="!parent.canModify(false)" ng-model="parent.Policy.Insured.MailingAddress.ShortAddress" details="details" />
                </div>
                <div class="col-sm-2" style="padding-top: 25px; padding-left: 0px;">
                    <input id="mailing-address2" class="form-control input-sm" ng-disabled="!parent.canModify(false)" ng-model="parent.Policy.Insured.MailingAddress.StreetAddress2" placeholder="Suite #" />
                </div>
                <div class="col-sm-offset-4 col-sm-8" style="margin-top: 10px">
                    <label style="color:#0096db"><a ng-click="toggleManaulAddressEntry = !toggleManaulAddressEntry">Manually Enter Address</a></label>
                    <input ng-show="toggleManaulAddressEntry" class="form-control input-sm" ng-model="parent.Policy.Insured.MailingAddress.StreetAddress1" ng-disabled="!parent.canModify(false)" placeholder="Address 1" />
                </div>
                <div class="col-sm-offset-4 col-sm-8" style="margin-top: 10px" ng-show="toggleManaulAddressEntry">
                    <input class="form-control input-sm" ng-model="parent.Policy.Insured.MailingAddress.StreetAddress2" ng-disabled="!parent.canModify(false)" placeholder="Address 2" />
                </div>
                <div class="col-sm-offset-4 col-sm-8" style="margin-top: 10px" ng-show="toggleManaulAddressEntry">
                    <input class="form-control input-sm" ng-model="parent.Policy.Insured.MailingAddress.Zip" ng-disabled="!parent.canModify(false)" ng-blur="getStateByZip()" placeholder="Zip" />
                </div>
                <div class="col-sm-offset-4 col-sm-8" style="margin-top: 10px" ng-show="toggleManaulAddressEntry">
                    <input class="form-control input-sm" ng-model="parent.Policy.Insured.MailingAddress.City" ng-disabled="!parent.canModify(false)" placeholder="City" />
                </div>
                <div class="col-sm-offset-4 col-sm-8" style="margin-top: 10px" ng-show="toggleManaulAddressEntry">
                    <input class="form-control input-sm" ng-model="parent.Policy.Insured.MailingAddress.State" ng-disabled="true" placeholder="State" />
                </div>
            </div>
        </form>

        <button ng-if="parent.PolicyId == null" class="btn yellow-casablanca" ng-click="createSubmission()">Save &amp; Next</button>
        <button ng-if="parent.PolicyId != null && parent.canModify(false)" class="btn yellow-casablanca" ng-click="saveChanges()">Save &amp; Next</button>
    </div>

    <div class="col-md-6">
        <div class="form-horizontal">
            <div class="form-group">
                <label class="col-sm-5 control-label">Underwriter<span style="color: red;"> *</span></label>
                <div class="col-sm-7">
                    <ui-select ng-model="parent.Policy.UnderwriterId"
                               append-to-body="true"
                               theme="bootstrap"
                               ng-disabled="!parent.canModify()"
                               ng-change="accountExecSelected()"
                               reset-search-input="false">
                        <ui-select-match placeholder="Select an Underwriter">{{$select.selected.Name}}</ui-select-match>
                        <ui-select-choices repeat="value.Id as value in AccountExecutives | filter: $select.search: searchByBeginsWith">
                            <div ng-bind-html="value.Name | highlight: $select.search">
                            </div>
                        </ui-select-choices>
                    </ui-select>
                </div>
            </div>

            <div class="form-group">
                <label class="col-sm-5 control-label">Underwriter Email<span style="color: red;"> *</span></label>
                <div class="col-sm-7">
                    <input class="form-control input-sm" name="underwriteremail" ng-model="parent.Policy.UnderwriterEmail" ng-disabled="true" required ng-change="saved=false" />
                </div>
            </div>
        </div>

        <div class="alert alert-danger" ng-show="ErrorList.length > 0">
            <h4>Oops...</h4>
            <ul>
                <li ng-repeat="error in ErrorList">
                    {{error}}
                </li>
            </ul>
        </div>
    </div>
</div>
