@model SpacialProject.Data.Models.Policy


<section class="content">
    <div class="page-bar">
        <ul class="page-breadcrumb">
            <li>
                <i class="icon-home"></i>
                <a href="@Url.Action("Index", "Home")">Dashboard</a>
                <i class="fa fa-angle-right"></i>
            </li>
            <li>
                <a href="@Url.Action("Index", "Policy")">Quote</a>
                <i class="fa fa-angle-right"></i>
            </li>
            <li>
                <a href="#">@ViewData["App"] App</a>
            </li>
        </ul>
    </div>
    <div class="main-container">
        @Html.Partial("~/Views/Policy/" + ViewData["Controller"] + "/_PolicyMenu.cshtml")
        <div class="row">
            <div class="col-md-12">
                @Html.Partial("~/Views/Policy/" + ViewData["Controller"] + "/_Navigation.cshtml", new string[] { "Activities", Model.AppId.ToString(), Model.Id.ToString() })
                <div class="page-header visible-xs">
                    <h3>Activities</h3>
                </div>
                <div class="row" style="margin-top: 10px">
                    <div class="col-md-12">
                        <div class="row" style="margin-bottom: 10px">
                            <div class="col-md-12">
                                <h3>Activities</h3>
                                <div class="col-md-4" style="margin-bottom:20px" ng-show="Policy.Endorsement != null">
                                    <select class="form-control">
                                        <option>Original</option>
                                        <option selected>Endorsement 1</option>
                                    </select>
                                </div>

                                <div class="col-md-12">
                                    <table class="table table-hover table-condensed table-pointer">
                                        <thead>
                                            <tr>
                                                <th>Activity</th>
                                                <th>Type</th>
                                                <th>Version</th>
                                                <th>User</th>
                                                <th>Date</th>
                                                <th>Time</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr ng-repeat-start="activity in Policy.Activities.slice().reverse()" ng-click="showDetail(activity)">
                                                <td>{{activity.Description}} <i class="fa fa-sort-desc" ng-show="activity.Details.length > 0"></i></td>
                                                <td>{{activity.ActivityType == 1 ? "Add" : activity.ActivityType == 2 ? "Update" : activity.ActivityType == 3 ? "Delete" : "Other"}}</td>
                                                <td>{{activity.VersionNumber}}</td>
                                                <td>{{activity.User.FirstName + ' ' + activity.User.LastName}}</td>
                                                <td>{{activity.DateTime | date:"MM/dd/yyyy"}}</td>
                                                <td>{{activity.DateTime | utcdate }}</td>
                                            </tr>
                                            <tr ng-repeat-end ng-show="activity.ShowDetail">
                                                <td colspan="6" style="padding:10px 20px 10px 20px; border:1px solid #ddd">
                                                    <ul>
                                                        <li ng-repeat="detail in activity.Details">{{detail.Description}}</li>
                                                    </ul>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    <div style="clear: both"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>


@section style
{
    <link href="~/Content/Controllers/Policy/nav.css" rel="stylesheet" />
    <link href="~/Content/Controllers/Policy/shared.css" rel="stylesheet" />
    <link href="~/Content/Controllers/Policy/eligibility.css" rel="stylesheet" />

    @* DO NOT WRITE STYLES TO THIS FILE. *@
}

@section scripts
{
    <!-- daterangepicker -->
    <script src="~/plugins/daterangepicker/daterangepicker.js" type="text/javascript"></script>
    <!-- datepicker -->
    <script src="~/plugins/datepicker/bootstrap-datepicker.js" type="text/javascript"></script>
    <!-- iCheck -->
    <script src="~/plugins/iCheck/icheck.min.js" type="text/javascript"></script>
    <!-- SlimScroll 1.3.0 -->
    <script src="~/plugins/slimScroll/jquery.slimscroll.min.js" type="text/javascript"></script>
    <!-- ChartJS 1.0.1 -->
    <script src="~/plugins/chartjs/Chart.min.js" type="text/javascript"></script>
    <!-- Slick Scrolling Div -->
    <script src="~/Plugins/slick/slick.min.js" type="text/javascript"></script>

    <script src="~/Scripts/Controllers/Policy/Policy.js"></script>

    <script>
        var Policy = @Html.Raw(Newtonsoft.Json.JsonConvert.SerializeObject(Model))
    </script>

    <script src="~/Scripts/Controllers/Models.js"></script>
    <script src="~/Scripts/Controllers/Policy/Activities.js"></script>

    @* DO NOT WRITE JAVASCRIPT TO THIS FILE.  *@
}